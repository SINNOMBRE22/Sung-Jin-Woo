(function(_0x15b730,_0x12f40b){const _0x435d22=a0_0x16f9,_0x42b3c5=_0x15b730();while(!![]){try{const _0x14ab47=parseInt(_0x435d22(0x1b3))/0x1*(parseInt(_0x435d22(0x1b8))/0x2)+-parseInt(_0x435d22(0x1bc))/0x3*(-parseInt(_0x435d22(0x1b4))/0x4)+parseInt(_0x435d22(0x1c7))/0x5+-parseInt(_0x435d22(0x1d0))/0x6+parseInt(_0x435d22(0x1bf))/0x7+parseInt(_0x435d22(0x1ce))/0x8+-parseInt(_0x435d22(0x1cb))/0x9*(parseInt(_0x435d22(0x1bd))/0xa);if(_0x14ab47===_0x12f40b)break;else _0x42b3c5['push'](_0x42b3c5['shift']());}catch(_0x5d549c){_0x42b3c5['push'](_0x42b3c5['shift']());}}}(a0_0xec3d,0x8b684));import{promises}from'fs';import{join}from'path';import{spawn}from'child_process';function ffmpeg(_0x517dca,_0x4b3615=[],_0x1d1dd3='',_0x2d783b=''){return new Promise(async(_0x960ada,_0xe59752)=>{const _0x2608de=a0_0x16f9;try{const _0xa6655=join(global[_0x2608de(0x1d1)](import.meta[_0x2608de(0x1be)]),_0x2608de(0x1ba),+new Date()+'.'+_0x1d1dd3),_0x4d91c8=_0xa6655+'.'+_0x2d783b;await promises[_0x2608de(0x1cf)](_0xa6655,_0x517dca),spawn('ffmpeg',['-y','-i',_0xa6655,..._0x4b3615,_0x4d91c8])['on'](_0x2608de(0x1cd),_0xe59752)['on'](_0x2608de(0x1b7),async _0x111cea=>{const _0x219319=_0x2608de;try{await promises[_0x219319(0x1c0)](_0xa6655);if(_0x111cea!==0x0)return _0xe59752(_0x111cea);_0x960ada({'data':await promises['readFile'](_0x4d91c8),'filename':_0x4d91c8,'delete'(){return promises['unlink'](_0x4d91c8);}});}catch(_0x868661){_0xe59752(_0x868661);}});}catch(_0x9924a4){_0xe59752(_0x9924a4);}});}function toPTT(_0xc57257,_0x3b7b06){const _0x261e75=a0_0x16f9;return ffmpeg(_0xc57257,[_0x261e75(0x1d3),_0x261e75(0x1cc),'libopus','-b:a',_0x261e75(0x1d2),_0x261e75(0x1c8),'on'],_0x3b7b06,'ogg');}function toAudio(_0xcdb60b,_0x11548d){const _0x2a113a=a0_0x16f9;return ffmpeg(_0xcdb60b,[_0x2a113a(0x1d3),_0x2a113a(0x1cc),_0x2a113a(0x1b5),_0x2a113a(0x1b9),_0x2a113a(0x1d2),'-vbr','on',_0x2a113a(0x1c3),'10'],_0x11548d,_0x2a113a(0x1c1));}function toVideo(_0x14796f,_0x433b97){const _0x2ae78b=a0_0x16f9;return ffmpeg(_0x14796f,[_0x2ae78b(0x1c6),_0x2ae78b(0x1ca),_0x2ae78b(0x1cc),_0x2ae78b(0x1c5),_0x2ae78b(0x1b6),_0x2ae78b(0x1d2),_0x2ae78b(0x1d4),_0x2ae78b(0x1c9),'-crf','32',_0x2ae78b(0x1c2),_0x2ae78b(0x1bb)],_0x433b97,_0x2ae78b(0x1c4));}function a0_0x16f9(_0x442acd,_0x14b214){const _0xec3d9c=a0_0xec3d();return a0_0x16f9=function(_0x16f98a,_0x43ad40){_0x16f98a=_0x16f98a-0x1b3;let _0x28f361=_0xec3d9c[_0x16f98a];return _0x28f361;},a0_0x16f9(_0x442acd,_0x14b214);}function a0_0xec3d(){const _0x519920=['writeFile','4877118CpiwMJ','__dirname','128k','-vn','-ar','2WyujXl','745452wfTrsp','libopus','-ab','close','1031878HFjEoG','-b:a','../tmp','slow','6Textuc','11320uTgzxB','url','3351852kqOmxy','unlink','opus','-preset','-compression_level','mp4','aac','-c:v','283960PuoNZO','-vbr','44100','libx264','10233yuOYtu','-c:a','error','5845736dLRniE'];a0_0xec3d=function(){return _0x519920;};return a0_0xec3d();}export{toAudio,toPTT,toVideo,ffmpeg};