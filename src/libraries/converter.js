function a0_0x37bc(){const _0x289ab3=['unlink','close','-ar','44100','-compression_level','96jGcqNo','1956425VINpVG','625455kGsFnX','-crf','18abwjUG','writeFile','-b:a','ffmpeg','-c:a','opus','url','-vn','error','2078380bIyvtz','889007yaEJjp','5701336FcnnYZ','12FKYejR','-vbr','slow','../tmp','9004SKsweU','1354268uRufXn','128k','__dirname','mp4','aac','-preset','ogg'];a0_0x37bc=function(){return _0x289ab3;};return a0_0x37bc();}(function(_0x124853,_0x42d50d){const _0x19e63a=a0_0x40a7,_0x53aeb1=_0x124853();while(!![]){try{const _0x2afd13=-parseInt(_0x19e63a(0x18f))/0x1*(parseInt(_0x19e63a(0x182))/0x2)+parseInt(_0x19e63a(0x191))/0x3+-parseInt(_0x19e63a(0x183))/0x4+parseInt(_0x19e63a(0x190))/0x5+-parseInt(_0x19e63a(0x17e))/0x6*(-parseInt(_0x19e63a(0x17c))/0x7)+parseInt(_0x19e63a(0x17d))/0x8+-parseInt(_0x19e63a(0x193))/0x9*(parseInt(_0x19e63a(0x17b))/0xa);if(_0x2afd13===_0x42d50d)break;else _0x53aeb1['push'](_0x53aeb1['shift']());}catch(_0x5dbeab){_0x53aeb1['push'](_0x53aeb1['shift']());}}}(a0_0x37bc,0x5cc64));import{promises}from'fs';import{join}from'path';import{spawn}from'child_process';function ffmpeg(_0x1d0da5,_0x164e19=[],_0x164ca6='',_0x2e9589=''){return new Promise(async(_0x3eaf99,_0x1df9a7)=>{const _0x4d2984=a0_0x40a7;try{const _0x369c54=join(global[_0x4d2984(0x185)](import.meta[_0x4d2984(0x178)]),_0x4d2984(0x181),+new Date()+'.'+_0x164ca6),_0x33ad2a=_0x369c54+'.'+_0x2e9589;await promises[_0x4d2984(0x194)](_0x369c54,_0x1d0da5),spawn(_0x4d2984(0x196),['-y','-i',_0x369c54,..._0x164e19,_0x33ad2a])['on'](_0x4d2984(0x17a),_0x1df9a7)['on'](_0x4d2984(0x18b),async _0x2e7777=>{const _0x9461=_0x4d2984;try{await promises[_0x9461(0x18a)](_0x369c54);if(_0x2e7777!==0x0)return _0x1df9a7(_0x2e7777);_0x3eaf99({'data':await promises['readFile'](_0x33ad2a),'filename':_0x33ad2a,'delete'(){const _0x507695=_0x9461;return promises[_0x507695(0x18a)](_0x33ad2a);}});}catch(_0x5524c9){_0x1df9a7(_0x5524c9);}});}catch(_0xccd164){_0x1df9a7(_0xccd164);}});}function toPTT(_0x4e5bc5,_0x14c59d){const _0x4c7acc=a0_0x40a7;return ffmpeg(_0x4e5bc5,['-vn','-c:a','libopus',_0x4c7acc(0x195),_0x4c7acc(0x184),_0x4c7acc(0x17f),'on'],_0x14c59d,_0x4c7acc(0x189));}function toAudio(_0x172fde,_0x5b02e6){const _0x4d8b18=a0_0x40a7;return ffmpeg(_0x172fde,[_0x4d8b18(0x179),'-c:a','libopus','-b:a','128k',_0x4d8b18(0x17f),'on',_0x4d8b18(0x18e),'10'],_0x5b02e6,_0x4d8b18(0x198));}function a0_0x40a7(_0x23aec1,_0x3804a5){const _0x37bc5e=a0_0x37bc();return a0_0x40a7=function(_0x40a7c2,_0x408564){_0x40a7c2=_0x40a7c2-0x178;let _0x5dbf20=_0x37bc5e[_0x40a7c2];return _0x5dbf20;},a0_0x40a7(_0x23aec1,_0x3804a5);}function toVideo(_0x1250b1,_0x42301a){const _0x6c1de4=a0_0x40a7;return ffmpeg(_0x1250b1,['-c:v','libx264',_0x6c1de4(0x197),_0x6c1de4(0x187),'-ab',_0x6c1de4(0x184),_0x6c1de4(0x18c),_0x6c1de4(0x18d),_0x6c1de4(0x192),'32',_0x6c1de4(0x188),_0x6c1de4(0x180)],_0x42301a,_0x6c1de4(0x186));}export{toAudio,toPTT,toVideo,ffmpeg};