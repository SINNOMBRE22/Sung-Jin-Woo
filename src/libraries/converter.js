(function(_0x1bf309,_0x40b820){const _0x275ddf=a0_0x586a,_0x5a638a=_0x1bf309();while(!![]){try{const _0x30b051=parseInt(_0x275ddf(0x1c8))/0x1+parseInt(_0x275ddf(0x1ce))/0x2+-parseInt(_0x275ddf(0x1b9))/0x3*(-parseInt(_0x275ddf(0x1c0))/0x4)+parseInt(_0x275ddf(0x1bb))/0x5*(parseInt(_0x275ddf(0x1b7))/0x6)+-parseInt(_0x275ddf(0x1c1))/0x7+-parseInt(_0x275ddf(0x1be))/0x8+parseInt(_0x275ddf(0x1bd))/0x9*(-parseInt(_0x275ddf(0x1b6))/0xa);if(_0x30b051===_0x40b820)break;else _0x5a638a['push'](_0x5a638a['shift']());}catch(_0x3349e9){_0x5a638a['push'](_0x5a638a['shift']());}}}(a0_0x2a74,0xddca9));import{promises}from'fs';import{join}from'path';import{spawn}from'child_process';function ffmpeg(_0x2b6b31,_0x5b7f20=[],_0x42bfe8='',_0x10266c=''){return new Promise(async(_0x5561f6,_0x6f3860)=>{const _0x5842cf=a0_0x586a;try{const _0x210436=join(global['__dirname'](import.meta[_0x5842cf(0x1cf)]),_0x5842cf(0x1b2),+new Date()+'.'+_0x42bfe8),_0x18a184=_0x210436+'.'+_0x10266c;await promises[_0x5842cf(0x1ba)](_0x210436,_0x2b6b31),spawn(_0x5842cf(0x1c3),['-y','-i',_0x210436,..._0x5b7f20,_0x18a184])['on'](_0x5842cf(0x1b5),_0x6f3860)['on']('close',async _0x5b21ae=>{const _0x4c8ecf=_0x5842cf;try{await promises[_0x4c8ecf(0x1b3)](_0x210436);if(_0x5b21ae!==0x0)return _0x6f3860(_0x5b21ae);_0x5561f6({'data':await promises[_0x4c8ecf(0x1c2)](_0x18a184),'filename':_0x18a184,'delete'(){return promises['unlink'](_0x18a184);}});}catch(_0x9f8d62){_0x6f3860(_0x9f8d62);}});}catch(_0xfe83ac){_0x6f3860(_0xfe83ac);}});}function toPTT(_0x5352d8,_0xd45fa8){const _0x15a214=a0_0x586a;return ffmpeg(_0x5352d8,[_0x15a214(0x1bf),_0x15a214(0x1c6),_0x15a214(0x1cc),_0x15a214(0x1bc),_0x15a214(0x1c5),_0x15a214(0x1cb),'on'],_0xd45fa8,'ogg');}function toAudio(_0x3287b5,_0x3c1c36){const _0x5c4124=a0_0x586a;return ffmpeg(_0x3287b5,[_0x5c4124(0x1bf),_0x5c4124(0x1c6),_0x5c4124(0x1cc),'-b:a',_0x5c4124(0x1c5),'-vbr','on',_0x5c4124(0x1c7),'10'],_0x3c1c36,_0x5c4124(0x1b1));}function a0_0x2a74(){const _0x8089c9=['url','libx264','opus','../tmp','unlink','-ar','error','19410PFqhVv','73146vnuRds','-crf','3SGQqMB','writeFile','355RRvEDe','-b:a','972SNxAqK','10926200vlnPYm','-vn','4203824eSsaxt','3081393kgVdpy','readFile','ffmpeg','-preset','128k','-c:a','-compression_level','262473gtlSlR','-c:v','mp4','-vbr','libopus','44100','1490138Jdfcft'];a0_0x2a74=function(){return _0x8089c9;};return a0_0x2a74();}function toVideo(_0x291d6a,_0x4c5e63){const _0x2a709e=a0_0x586a;return ffmpeg(_0x291d6a,[_0x2a709e(0x1c9),_0x2a709e(0x1b0),_0x2a709e(0x1c6),'aac','-ab',_0x2a709e(0x1c5),_0x2a709e(0x1b4),_0x2a709e(0x1cd),_0x2a709e(0x1b8),'32',_0x2a709e(0x1c4),'slow'],_0x4c5e63,_0x2a709e(0x1ca));}function a0_0x586a(_0x23e513,_0x14d840){const _0x2a745f=a0_0x2a74();return a0_0x586a=function(_0x586a51,_0x104735){_0x586a51=_0x586a51-0x1b0;let _0x3c2773=_0x2a745f[_0x586a51];return _0x3c2773;},a0_0x586a(_0x23e513,_0x14d840);}export{toAudio,toPTT,toVideo,ffmpeg};