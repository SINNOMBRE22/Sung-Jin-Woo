(function(_0x3654f5,_0x12ceed){const _0x49bf8e=a0_0x3ce0,_0x4feefa=_0x3654f5();while(!![]){try{const _0x43e142=parseInt(_0x49bf8e(0x79))/0x1*(-parseInt(_0x49bf8e(0x8a))/0x2)+parseInt(_0x49bf8e(0x6d))/0x3*(-parseInt(_0x49bf8e(0x78))/0x4)+parseInt(_0x49bf8e(0x7c))/0x5*(parseInt(_0x49bf8e(0x76))/0x6)+parseInt(_0x49bf8e(0x85))/0x7*(parseInt(_0x49bf8e(0x72))/0x8)+parseInt(_0x49bf8e(0x86))/0x9+parseInt(_0x49bf8e(0x6e))/0xa+-parseInt(_0x49bf8e(0x8e))/0xb*(-parseInt(_0x49bf8e(0x8b))/0xc);if(_0x43e142===_0x12ceed)break;else _0x4feefa['push'](_0x4feefa['shift']());}catch(_0x386ccd){_0x4feefa['push'](_0x4feefa['shift']());}}}(a0_0x4b66,0xd2b49));import{promises}from'fs';import{join}from'path';import{spawn}from'child_process';function ffmpeg(_0x25a30f,_0xf74721=[],_0x2e41c1='',_0x26bf3b=''){return new Promise(async(_0x3709d7,_0x49e3bc)=>{const _0x264243=a0_0x3ce0;try{const _0x4ab8a6=join(global[_0x264243(0x75)](import.meta[_0x264243(0x8c)]),_0x264243(0x80),+new Date()+'.'+_0x2e41c1),_0xecf672=_0x4ab8a6+'.'+_0x26bf3b;await promises[_0x264243(0x71)](_0x4ab8a6,_0x25a30f),spawn('ffmpeg',['-y','-i',_0x4ab8a6,..._0xf74721,_0xecf672])['on'](_0x264243(0x89),_0x49e3bc)['on'](_0x264243(0x87),async _0x44ed04=>{const _0x177483=_0x264243;try{await promises[_0x177483(0x77)](_0x4ab8a6);if(_0x44ed04!==0x0)return _0x49e3bc(_0x44ed04);_0x3709d7({'data':await promises[_0x177483(0x7b)](_0xecf672),'filename':_0xecf672,'delete'(){return promises['unlink'](_0xecf672);}});}catch(_0x554f4e){_0x49e3bc(_0x554f4e);}});}catch(_0x5a4eeb){_0x49e3bc(_0x5a4eeb);}});}function toPTT(_0x3da819,_0x33408){const _0x1b2ee3=a0_0x3ce0;return ffmpeg(_0x3da819,[_0x1b2ee3(0x6f),_0x1b2ee3(0x73),_0x1b2ee3(0x6b),_0x1b2ee3(0x6c),'128k',_0x1b2ee3(0x82),'on'],_0x33408,_0x1b2ee3(0x81));}function a0_0x3ce0(_0x5f5151,_0x192080){const _0x4b668f=a0_0x4b66();return a0_0x3ce0=function(_0x3ce043,_0x2f4ece){_0x3ce043=_0x3ce043-0x6a;let _0x535505=_0x4b668f[_0x3ce043];return _0x535505;},a0_0x3ce0(_0x5f5151,_0x192080);}function a0_0x4b66(){const _0x2eca41=['18NsRjbL','408408mdgNoR','url','-ab','242vPGJDQ','mp4','libopus','-b:a','1105227AortYq','1942350WJEQuz','-vn','libx264','writeFile','900216BonacV','-c:a','-crf','__dirname','310602CEzGHS','unlink','4TVacOV','151714CBSyTM','-c:v','readFile','5YZNNmO','slow','opus','128k','../tmp','ogg','-vbr','-compression_level','-ar','49SfXxqS','7330005LCXvTZ','close','44100','error'];a0_0x4b66=function(){return _0x2eca41;};return a0_0x4b66();}function toAudio(_0xb88144,_0x51bd34){const _0x4f9b44=a0_0x3ce0;return ffmpeg(_0xb88144,['-vn',_0x4f9b44(0x73),_0x4f9b44(0x6b),'-b:a','128k',_0x4f9b44(0x82),'on',_0x4f9b44(0x83),'10'],_0x51bd34,_0x4f9b44(0x7e));}function toVideo(_0x2f5cd4,_0x2b3496){const _0x2ba799=a0_0x3ce0;return ffmpeg(_0x2f5cd4,[_0x2ba799(0x7a),_0x2ba799(0x70),_0x2ba799(0x73),'aac',_0x2ba799(0x8d),_0x2ba799(0x7f),_0x2ba799(0x84),_0x2ba799(0x88),_0x2ba799(0x74),'32','-preset',_0x2ba799(0x7d)],_0x2b3496,_0x2ba799(0x6a));}export{toAudio,toPTT,toVideo,ffmpeg};