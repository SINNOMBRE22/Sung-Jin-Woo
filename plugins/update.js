const a0_0x566454=a0_0x4bb2;(function(_0x2af699,_0x38ea06){const _0x493abf=a0_0x4bb2,_0x2880c5=_0x2af699();while(!![]){try{const _0x339dca=parseInt(_0x493abf(0x70))/0x1+-parseInt(_0x493abf(0x8d))/0x2+parseInt(_0x493abf(0x88))/0x3+-parseInt(_0x493abf(0x7d))/0x4+-parseInt(_0x493abf(0x89))/0x5+-parseInt(_0x493abf(0x71))/0x6+-parseInt(_0x493abf(0x8a))/0x7*(-parseInt(_0x493abf(0x7b))/0x8);if(_0x339dca===_0x38ea06)break;else _0x2880c5['push'](_0x2880c5['shift']());}catch(_0xaf7b90){_0x2880c5['push'](_0x2880c5['shift']());}}}(a0_0x4b65,0x5c385));import a0_0x357d87 from'fs';import a0_0x2279c3 from'path';import a0_0x2d79f3 from'simple-git';import a0_0x353301 from'crypto';function a0_0x4bb2(_0x11b30,_0x4dc40c){const _0x4b6561=a0_0x4b65();return a0_0x4bb2=function(_0x4bb2d3,_0x4b70ad){_0x4bb2d3=_0x4bb2d3-0x6f;let _0x350a45=_0x4b6561[_0x4bb2d3];return _0x350a45;},a0_0x4bb2(_0x11b30,_0x4dc40c);}function a0_0x4b65(){const _0x43bf41=['round','tags','281094bTmJnW','2298690xwwGMh','770273MfavQL','replace','actualizar','664630aQFyIh','plugins/custom/','createHash','sha1','rmSync','push','key','\x0a╰────────────────','18999hEYMRV','3495078VkqbDR','sendMessage','mkdirSync','settings.json','chat','join','message','herramientas','readdirSync','https://github.com/usuario/repositorio.git','160WowkJV','length','2244712rlDNix','copyFileSync','statSync','proyectos/','\x0a├◉\x20*No\x20modificados:*\x20','command','register','⚠️\x20Error\x20durante\x20la\x20actualización:\x20','config.json'];a0_0x4b65=function(){return _0x43bf41;};return a0_0x4b65();}const git=a0_0x2d79f3();let handler=async(_0x382ae0,{conn:_0x259176})=>{const _0x37bd40=a0_0x4bb2,_0x1fbfc7='./.tmp_update',_0x1c8a9c=_0x37bd40(0x7a),_0x45592a=[_0x37bd40(0x85),_0x37bd40(0x74),_0x37bd40(0x80),_0x37bd40(0x8e)],_0x28664d=_0x469a8c=>{const _0x58ee60=_0x37bd40;try{const _0x273909=a0_0x357d87['readFileSync'](_0x469a8c);return a0_0x353301[_0x58ee60(0x8f)](_0x58ee60(0x90))['update'](_0x273909)['digest']('hex');}catch{return null;}},_0x3a9325=(_0x2f585a,_0x4a8032)=>{const _0x2cdceb=[],_0x280277=[],_0x54438e=(_0x2b4335,_0x520bc7)=>{const _0x59df9e=a0_0x4bb2;a0_0x357d87[_0x59df9e(0x79)](_0x2b4335)['forEach'](_0x96ff15=>{const _0x554af3=_0x59df9e,_0x3c5c0a=a0_0x2279c3[_0x554af3(0x76)](_0x2b4335,_0x96ff15),_0x300647=a0_0x2279c3['join'](_0x520bc7,_0x96ff15),_0x3d583f=_0x300647[_0x554af3(0x8b)]('./',''),_0x26d71f=_0x45592a['some'](_0x332f8a=>_0x3d583f['startsWith'](_0x332f8a));if(_0x26d71f)return;if(a0_0x357d87[_0x554af3(0x7f)](_0x3c5c0a)['isDirectory']()){if(!a0_0x357d87['existsSync'](_0x300647))a0_0x357d87[_0x554af3(0x73)](_0x300647);_0x54438e(_0x3c5c0a,_0x300647);}else{_0x280277[_0x554af3(0x92)](_0x3d583f);const _0x2b0611=_0x28664d(_0x3c5c0a),_0x585b45=_0x28664d(_0x300647);_0x2b0611!==_0x585b45&&(a0_0x357d87[_0x554af3(0x7e)](_0x3c5c0a,_0x300647),_0x2cdceb['push'](_0x3d583f));}});};return _0x54438e(_0x2f585a,_0x4a8032),{'changedFiles':_0x2cdceb,'totalFiles':_0x280277};},_0x59ec38=_0x454a82=>new Promise(_0x3e18a1=>setTimeout(_0x3e18a1,_0x454a82)),_0x482dea=_0x579fd7=>{const _0x4294a9=_0x37bd40,_0xca91=Math[_0x4294a9(0x86)](_0x579fd7/0xa);return'➫\x20'+'▰'['repeat'](_0xca91)['padEnd'](0xa,'▱')+('\x20'+_0x579fd7+'%');};let _0x4ae3ea=await _0x259176['reply'](_0x382ae0[_0x37bd40(0x75)],'╭──\x20*Actualización\x20disponible*\x20♾️\x0a├◉\x20*Versión\x20actual:*\x201.2.0\x0a├◉\x20*Nueva\x20versión:*\x201.3.0\x0a╰────────────────',_0x382ae0);try{await git['clone'](_0x1c8a9c,_0x1fbfc7);const {changedFiles:_0x2cf3f0,totalFiles:_0x1f592b}=_0x3a9325(_0x1fbfc7,'./');for(let _0x1732e9=0x1;_0x1732e9<=0xa;_0x1732e9++){await _0x59ec38(0x12c),await _0x259176[_0x37bd40(0x72)](_0x382ae0['chat'],{'edit':_0x4ae3ea['key'],'text':'╭──\x20*Actualización\x20disponible*\x20♾️\x0a├◉\x20*Versión\x20actual:*\x201.2.0\x0a├◉\x20*Nueva\x20versión:*\x201.3.0\x0a├────────────────\x0a╭──\x20Progreso\x20de\x20actualización\x20──╮\x0a'+_0x482dea(_0x1732e9*0xa)});}a0_0x357d87[_0x37bd40(0x91)](_0x1fbfc7,{'recursive':!![],'force':!![]}),await _0x259176[_0x37bd40(0x72)](_0x382ae0[_0x37bd40(0x75)],{'edit':_0x4ae3ea[_0x37bd40(0x93)],'text':'╭──\x20*Actualización\x20completada*\x20✅\x0a├◉\x20*Archivos\x20actualizados:*\x20'+_0x2cf3f0[_0x37bd40(0x7c)]+_0x37bd40(0x81)+(_0x1f592b[_0x37bd40(0x7c)]-_0x2cf3f0[_0x37bd40(0x7c)])+_0x37bd40(0x6f)});}catch(_0x3e3f0a){await _0x259176[_0x37bd40(0x72)](_0x382ae0[_0x37bd40(0x75)],{'edit':_0x4ae3ea['key'],'text':_0x37bd40(0x84)+_0x3e3f0a[_0x37bd40(0x77)]});}};handler['help']=[a0_0x566454(0x8c)],handler[a0_0x566454(0x87)]=[a0_0x566454(0x78)],handler[a0_0x566454(0x82)]=/^actualizar$/i,handler[a0_0x566454(0x83)]=![];export default handler;