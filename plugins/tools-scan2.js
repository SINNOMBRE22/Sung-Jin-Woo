const a0_0x2c097b=a0_0x1a72;(function(_0x28ea28,_0x243858){const _0x17ef7d=a0_0x1a72,_0x4bd7ca=_0x28ea28();while(!![]){try{const _0x22b6ae=-parseInt(_0x17ef7d(0x1e5))/0x1*(-parseInt(_0x17ef7d(0x20c))/0x2)+-parseInt(_0x17ef7d(0x20f))/0x3+-parseInt(_0x17ef7d(0x208))/0x4+parseInt(_0x17ef7d(0x1f1))/0x5+-parseInt(_0x17ef7d(0x1f0))/0x6+parseInt(_0x17ef7d(0x1fc))/0x7+parseInt(_0x17ef7d(0x20a))/0x8*(parseInt(_0x17ef7d(0x1e0))/0x9);if(_0x22b6ae===_0x243858)break;else _0x4bd7ca['push'](_0x4bd7ca['shift']());}catch(_0x1a87a8){_0x4bd7ca['push'](_0x4bd7ca['shift']());}}}(a0_0x3348,0xcb634));import a0_0x158193 from'axios';import a0_0x27d3ac from'fs';async function checkHost(_0x42018a){const _0x1a3a69=a0_0x1a72,_0x1e7382={'timeout':0x2710,'validateStatus':()=>!![]};let _0x2ba215;try{_0x2ba215=await a0_0x158193[_0x1a3a69(0x1eb)]('https://'+_0x42018a,_0x1e7382);}catch{try{_0x2ba215=await a0_0x158193['get'](_0x1a3a69(0x1f5)+_0x42018a,_0x1e7382);}catch{return{'host':_0x42018a,'result':_0x1a3a69(0x1fd)};}}const _0x10f414=typeof _0x2ba215[_0x1a3a69(0x1ec)]===_0x1a3a69(0x1df)?_0x2ba215[_0x1a3a69(0x1ec)]:'',_0x11055f=_0x10f414[_0x1a3a69(0x20e)](_0x1a3a69(0x1ff));return{'host':_0x42018a,'result':_0x11055f?_0x1a3a69(0x1e1):'no'};}function a0_0x1a72(_0xa57d86,_0x2069a0){const _0x3348d2=a0_0x3348();return a0_0x1a72=function(_0x1a72bb,_0x46b8f5){_0x1a72bb=_0x1a72bb-0x1df;let _0x112b59=_0x3348d2[_0x1a72bb];return _0x112b59;},a0_0x1a72(_0xa57d86,_0x2069a0);}async function fetchCrtsh(_0x3d69d9){const _0x2e7a69=a0_0x1a72;try{const _0x50d538=await a0_0x158193['get']('https://crt.sh/?q=%.'+_0x3d69d9+_0x2e7a69(0x1ed),{'headers':{'Accept':_0x2e7a69(0x209)},'timeout':0x3a98});if(Array[_0x2e7a69(0x1ea)](_0x50d538[_0x2e7a69(0x1ec)])&&_0x50d538[_0x2e7a69(0x1ec)][_0x2e7a69(0x1e2)])return _0x50d538[_0x2e7a69(0x1ec)][_0x2e7a69(0x1f8)](_0x2ac638=>_0x2ac638[_0x2e7a69(0x1f4)][_0x2e7a69(0x216)]('\x0a'))['map'](_0x562eaf=>_0x562eaf[_0x2e7a69(0x1f7)](/^\*\./,'')[_0x2e7a69(0x215)]())[_0x2e7a69(0x206)](Boolean);}catch{}const _0x472cc0=(await a0_0x158193[_0x2e7a69(0x1eb)](_0x2e7a69(0x1f6)+_0x3d69d9,{'timeout':0x3a98}))[_0x2e7a69(0x1ec)];return Array[_0x2e7a69(0x213)](new Set([..._0x472cc0['matchAll'](/<TD>([0-9A-Za-z._-]+)<\/TD>/g)]['map'](_0xc90317=>_0xc90317[0x1]['replace'](/^\*\./,''))));}function a0_0x3348(){const _0x12cba2=['mobile','string','9YcpxoA','yes','length','result','all','4666FmEtDO','‚ùå\x20No\x20se\x20encontraron\x20subdominios\x20para\x20','‚öîÔ∏è\x20*Error:*\x20Debes\x20ingresar\x20un\x20dominio,\x20por\x20ejemplo\x20`proscan\x20example.com`','delete','utf8','isArray','get','data','&output=json','map','join','2725986lakMgJ','2467680FHlQRz','status','host','name_value','http://','https://crt.sh/?q=%.','replace','flatMap','\x20(si)\x20‚úÖ','netfree','command','8949150QwSyVq','error','\x20(error)\x20‚ùå','Please\x20check\x20that\x20this\x20domain\x20has\x20been\x20added\x20to\x20a\x20service','üï∞Ô∏è\x20Recolectando\x20subdominios‚Ä¶','dev','üï∞Ô∏è','.txt','api','tags','filter','text/plain','6577996OyFJuE','application/json','2623256ZspHOx','chat','470GrYkXK','https://sonar.omnisint.io/subdomains/','includes','793491fABGpv','www','readFileSync','reply','from','‚ö†Ô∏è\x20Ocurri√≥\x20un\x20error\x20interno.\x20Intenta\x20m√°s\x20tarde.','trim','split','help'];a0_0x3348=function(){return _0x12cba2;};return a0_0x3348();}async function fetchSonar(_0x4d0e6a){const _0x272478=a0_0x1a72;try{const _0x49e970=await a0_0x158193[_0x272478(0x1eb)](_0x272478(0x20d)+_0x4d0e6a,{'timeout':0x2710});if(Array[_0x272478(0x1ea)](_0x49e970[_0x272478(0x1ec)]))return _0x49e970[_0x272478(0x1ec)];}catch{}return[];}function makeBrute(_0x36b3ac){const _0x3a16dc=a0_0x1a72;return[_0x3a16dc(0x210),_0x3a16dc(0x204),_0x3a16dc(0x217),_0x3a16dc(0x1f2),_0x3a16dc(0x218),_0x3a16dc(0x201),'admin']['map'](_0x258428=>_0x258428+'.'+_0x36b3ac);}let handler=async(_0x30a0d6,{conn:_0xab44d5,text:_0x3511c4})=>{const _0x35fc80=a0_0x1a72;if(!_0x3511c4)return _0x30a0d6[_0x35fc80(0x212)](_0x35fc80(0x1e7));const _0x1d2996=_0x3511c4[_0x35fc80(0x215)](),_0x1deef7=await _0x30a0d6[_0x35fc80(0x212)](_0x35fc80(0x200));await _0x30a0d6['react'](_0x35fc80(0x202));try{const [_0x259251,_0x44c2a6]=await Promise[_0x35fc80(0x1e4)]([fetchCrtsh(_0x1d2996),fetchSonar(_0x1d2996)]),_0x484f8f=Array[_0x35fc80(0x213)](new Set([..._0x259251,..._0x44c2a6,...makeBrute(_0x1d2996)]));if(!_0x484f8f[_0x35fc80(0x1e2)]){await _0x30a0d6[_0x35fc80(0x212)](_0x35fc80(0x1e6)+_0x1d2996+'.');return;}const _0x554f24=await Promise['all'](_0x484f8f[_0x35fc80(0x1ee)](checkHost)),_0x4869c1=_0x554f24[_0x35fc80(0x1ee)](_0x267399=>{const _0x2a8412=_0x35fc80;if(_0x267399[_0x2a8412(0x1e3)]==='yes')return _0x267399[_0x2a8412(0x1f3)]+_0x2a8412(0x1f9);if(_0x267399[_0x2a8412(0x1e3)]==='no')return _0x267399[_0x2a8412(0x1f3)]+'\x20(no)\x20‚ö†Ô∏è';return _0x267399['host']+_0x2a8412(0x1fe);}),_0x7309d1='subdoms_'+_0x1d2996+_0x35fc80(0x203);a0_0x27d3ac['writeFileSync'](_0x7309d1,_0x4869c1[_0x35fc80(0x1ef)]('\x0a'),_0x35fc80(0x1e9)),await _0xab44d5['sendMessage'](_0x30a0d6[_0x35fc80(0x20b)],{'document':a0_0x27d3ac[_0x35fc80(0x211)](_0x7309d1),'fileName':_0x7309d1,'mimetype':_0x35fc80(0x207)},{'quoted':_0x30a0d6}),a0_0x27d3ac['unlinkSync'](_0x7309d1);}catch(_0x3fd38e){console[_0x35fc80(0x1fd)](_0x3fd38e),await _0x30a0d6[_0x35fc80(0x212)](_0x35fc80(0x214));}finally{await _0x1deef7[_0x35fc80(0x1e8)]();}};handler['help']=['proscan\x20<domain>'],handler[a0_0x2c097b(0x205)]=[a0_0x2c097b(0x1fa)],handler[a0_0x2c097b(0x1fb)]=/^(scan2|proscan)$/i;export default handler;