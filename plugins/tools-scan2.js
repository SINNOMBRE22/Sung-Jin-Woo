const a0_0x41f42a=a0_0x3175;(function(_0x4431c7,_0x3b590a){const _0x3d8083=a0_0x3175,_0x2e3402=_0x4431c7();while(!![]){try{const _0x5d5774=-parseInt(_0x3d8083(0x19d))/0x1*(-parseInt(_0x3d8083(0x195))/0x2)+-parseInt(_0x3d8083(0x19e))/0x3+parseInt(_0x3d8083(0x172))/0x4*(-parseInt(_0x3d8083(0x191))/0x5)+-parseInt(_0x3d8083(0x178))/0x6+-parseInt(_0x3d8083(0x18c))/0x7*(parseInt(_0x3d8083(0x19a))/0x8)+-parseInt(_0x3d8083(0x182))/0x9+parseInt(_0x3d8083(0x186))/0xa;if(_0x5d5774===_0x3b590a)break;else _0x2e3402['push'](_0x2e3402['shift']());}catch(_0xe2b0b9){_0x2e3402['push'](_0x2e3402['shift']());}}}(a0_0x35a1,0xd0694));function a0_0x3175(_0x543901,_0x1b7740){const _0x35a17e=a0_0x35a1();return a0_0x3175=function(_0x317510,_0x46075c){_0x317510=_0x317510-0x16f;let _0x2557cf=_0x35a17e[_0x317510];return _0x2557cf;},a0_0x3175(_0x543901,_0x1b7740);}import a0_0x1ca7dd from'axios';import a0_0x27ee66 from'fs';async function checkHost(_0x149a49){const _0x5603b5=a0_0x3175,_0x427753={'timeout':0x2710,'validateStatus':()=>!![]};let _0x5b5332;try{_0x5b5332=await a0_0x1ca7dd[_0x5603b5(0x177)](_0x5603b5(0x19c)+_0x149a49,_0x427753);}catch{try{_0x5b5332=await a0_0x1ca7dd['get']('http://'+_0x149a49,_0x427753);}catch{return{'host':_0x149a49,'result':_0x5603b5(0x17f)};}}const _0x119f73=typeof _0x5b5332[_0x5603b5(0x17b)]===_0x5603b5(0x18d)?_0x5b5332['data']:'',_0x4a0e59=_0x119f73['includes'](_0x5603b5(0x1a4));return{'host':_0x149a49,'result':_0x4a0e59?_0x5603b5(0x183):'no'};}function a0_0x35a1(){const _0x4d8f99=['text/plain','status','sendMessage','Please\x20check\x20that\x20this\x20domain\x20has\x20been\x20added\x20to\x20a\x20service','name_value','https://sonar.omnisint.io/subdomains/','isArray','1443732JDxJWY','result','map','api','\x20(error)\x20‚ùå','get','1894212wubPGW','\x20(no)\x20‚ö†Ô∏è','https://crt.sh/?q=%.','data','proscan\x20<domain>','reply','flatMap','error','delete','from','9297kBBBFg','yes','&output=json','readFileSync','24395520EHVgTS','host','admin','\x20(si)\x20‚úÖ','trim','‚öîÔ∏è\x20*Error:*\x20Debes\x20ingresar\x20un\x20dominio,\x20por\x20ejemplo\x20`proscan\x20example.com`','29449VVuNaK','string','unlinkSync','join','matchAll','15PNLWqb','mobile','all','utf8','2941788jPYPox','writeFileSync','üï∞Ô∏è\x20Recolectando\x20subdominios‚Ä¶','length','üï∞Ô∏è','8NhpXTG','netfree','https://','1afppyZ','4959159RULVjF','filter','chat'];a0_0x35a1=function(){return _0x4d8f99;};return a0_0x35a1();}async function fetchCrtsh(_0x253f0d){const _0x564d1e=a0_0x3175;try{const _0x4e6a2d=await a0_0x1ca7dd[_0x564d1e(0x177)](_0x564d1e(0x17a)+_0x253f0d+_0x564d1e(0x184),{'headers':{'Accept':'application/json'},'timeout':0x3a98});if(Array['isArray'](_0x4e6a2d['data'])&&_0x4e6a2d['data'][_0x564d1e(0x198)])return _0x4e6a2d[_0x564d1e(0x17b)][_0x564d1e(0x17e)](_0xf696c7=>_0xf696c7[_0x564d1e(0x16f)]['split']('\x0a'))[_0x564d1e(0x174)](_0x501cf4=>_0x501cf4['replace'](/^\*\./,'')[_0x564d1e(0x18a)]())[_0x564d1e(0x19f)](Boolean);}catch{}const _0x172620=(await a0_0x1ca7dd[_0x564d1e(0x177)](_0x564d1e(0x17a)+_0x253f0d,{'timeout':0x3a98}))[_0x564d1e(0x17b)];return Array[_0x564d1e(0x181)](new Set([..._0x172620[_0x564d1e(0x190)](/<TD>([0-9A-Za-z._-]+)<\/TD>/g)]['map'](_0x55c94b=>_0x55c94b[0x1]['replace'](/^\*\./,''))));}async function fetchSonar(_0x1996ac){const _0x41758f=a0_0x3175;try{const _0x2a20c9=await a0_0x1ca7dd['get'](_0x41758f(0x170)+_0x1996ac,{'timeout':0x2710});if(Array[_0x41758f(0x171)](_0x2a20c9['data']))return _0x2a20c9[_0x41758f(0x17b)];}catch{}return[];}function makeBrute(_0x5b6fc7){const _0x3bd4ef=a0_0x3175;return['www',_0x3bd4ef(0x175),'help',_0x3bd4ef(0x1a2),_0x3bd4ef(0x192),'dev',_0x3bd4ef(0x188)][_0x3bd4ef(0x174)](_0x329b7f=>_0x329b7f+'.'+_0x5b6fc7);}let handler=async(_0x1a1391,{conn:_0x275db5,text:_0x114089})=>{const _0xd77907=a0_0x3175;if(!_0x114089)return _0x1a1391[_0xd77907(0x17d)](_0xd77907(0x18b));const _0x135125=_0x114089['trim'](),_0x17d63e=await _0x1a1391[_0xd77907(0x17d)](_0xd77907(0x197));await _0x1a1391['react'](_0xd77907(0x199));try{const [_0x972653,_0x32eb03]=await Promise[_0xd77907(0x193)]([fetchCrtsh(_0x135125),fetchSonar(_0x135125)]),_0x4a5898=Array[_0xd77907(0x181)](new Set([..._0x972653,..._0x32eb03,...makeBrute(_0x135125)]));if(!_0x4a5898[_0xd77907(0x198)]){await _0x1a1391['reply']('‚ùå\x20No\x20se\x20encontraron\x20subdominios\x20para\x20'+_0x135125+'.');return;}const _0x1ea532=await Promise[_0xd77907(0x193)](_0x4a5898[_0xd77907(0x174)](checkHost)),_0x3cac42=_0x1ea532['map'](_0x1ca97b=>{const _0x1d7b41=_0xd77907;if(_0x1ca97b[_0x1d7b41(0x173)]===_0x1d7b41(0x183))return _0x1ca97b[_0x1d7b41(0x187)]+_0x1d7b41(0x189);if(_0x1ca97b['result']==='no')return _0x1ca97b[_0x1d7b41(0x187)]+_0x1d7b41(0x179);return _0x1ca97b['host']+_0x1d7b41(0x176);}),_0xafd395='subdoms_'+_0x135125+'.txt';a0_0x27ee66[_0xd77907(0x196)](_0xafd395,_0x3cac42[_0xd77907(0x18f)]('\x0a'),_0xd77907(0x194)),await _0x275db5[_0xd77907(0x1a3)](_0x1a1391[_0xd77907(0x1a0)],{'document':a0_0x27ee66[_0xd77907(0x185)](_0xafd395),'fileName':_0xafd395,'mimetype':_0xd77907(0x1a1)},{'quoted':_0x1a1391}),a0_0x27ee66[_0xd77907(0x18e)](_0xafd395);}catch(_0x38dd78){console[_0xd77907(0x17f)](_0x38dd78),await _0x1a1391[_0xd77907(0x17d)]('‚ö†Ô∏è\x20Ocurri√≥\x20un\x20error\x20interno.\x20Intenta\x20m√°s\x20tarde.');}finally{await _0x17d63e[_0xd77907(0x180)]();}};handler['help']=[a0_0x41f42a(0x17c)],handler['tags']=[a0_0x41f42a(0x19b)],handler['command']=/^(scan2|proscan)$/i;export default handler;