const a0_0x18afa7=a0_0x277f;(function(_0x341da9,_0x51e639){const _0xa49b37=a0_0x277f,_0x13e8bb=_0x341da9();while(!![]){try{const _0x33dd26=parseInt(_0xa49b37(0x172))/0x1+parseInt(_0xa49b37(0x15c))/0x2+parseInt(_0xa49b37(0x156))/0x3+parseInt(_0xa49b37(0x165))/0x4+-parseInt(_0xa49b37(0x182))/0x5*(parseInt(_0xa49b37(0x185))/0x6)+parseInt(_0xa49b37(0x170))/0x7+parseInt(_0xa49b37(0x179))/0x8*(-parseInt(_0xa49b37(0x161))/0x9);if(_0x33dd26===_0x51e639)break;else _0x13e8bb['push'](_0x13e8bb['shift']());}catch(_0x37cb82){_0x13e8bb['push'](_0x13e8bb['shift']());}}}(a0_0x389f,0xe2976));import a0_0x19be15 from'axios';import a0_0x2bb991 from'fs';async function checkHost(_0x4e0281){const _0x6844a5=a0_0x277f,_0x5e5d63={'timeout':0x2710,'validateStatus':()=>!![]};let _0x4cb1c7;try{_0x4cb1c7=await a0_0x19be15['get'](_0x6844a5(0x16c)+_0x4e0281,_0x5e5d63);}catch{try{_0x4cb1c7=await a0_0x19be15[_0x6844a5(0x16f)](_0x6844a5(0x16d)+_0x4e0281,_0x5e5d63);}catch{return{'host':_0x4e0281,'result':_0x6844a5(0x153)};}}const _0x27f976=typeof _0x4cb1c7[_0x6844a5(0x15e)]==='string'?_0x4cb1c7[_0x6844a5(0x15e)]:'',_0x367edb=_0x27f976[_0x6844a5(0x166)]('Please\x20check\x20that\x20this\x20domain\x20has\x20been\x20added\x20to\x20a\x20service');return{'host':_0x4e0281,'result':_0x367edb?_0x6844a5(0x188):'no'};}function a0_0x389f(){const _0x1fd09e=['unlinkSync','https://crt.sh/?q=%.','https://','http://','\x20(no)\x20‚ö†Ô∏è','get','3665046iJGibC','text/plain','724821SZNzsF','proscan\x20<domain>','admin','‚öîÔ∏è\x20*Error:*\x20Debes\x20ingresar\x20un\x20dominio,\x20por\x20ejemplo\x20`proscan\x20example.com`','dev','subdoms_','‚ùå\x20No\x20se\x20encontraron\x20subdominios\x20para\x20','88IjSrBC','filter','https://sonar.omnisint.io/subdomains/','reply','üï∞Ô∏è','result','matchAll','mobile','trim','13385hDJhEZ','\x20(si)\x20‚úÖ','.txt','534EqgOfx','sendMessage','react','yes','host','utf8','isArray','error','length','map','2165199eSWyaf','all','help','tags','from','status','2186528lQpCKG','\x20(error)\x20‚ùå','data','replace','command','1656243hGWaPj','api','‚ö†Ô∏è\x20Ocurri√≥\x20un\x20error\x20interno.\x20Intenta\x20m√°s\x20tarde.','split','509088bekBti','includes','www','delete','netfree'];a0_0x389f=function(){return _0x1fd09e;};return a0_0x389f();}async function fetchCrtsh(_0x5938c0){const _0x2e103a=a0_0x277f;try{const _0x3f055f=await a0_0x19be15[_0x2e103a(0x16f)](_0x2e103a(0x16b)+_0x5938c0+'&output=json',{'headers':{'Accept':'application/json'},'timeout':0x3a98});if(Array[_0x2e103a(0x18b)](_0x3f055f[_0x2e103a(0x15e)])&&_0x3f055f[_0x2e103a(0x15e)][_0x2e103a(0x154)])return _0x3f055f[_0x2e103a(0x15e)]['flatMap'](_0x373d51=>_0x373d51['name_value'][_0x2e103a(0x164)]('\x0a'))[_0x2e103a(0x155)](_0x429b86=>_0x429b86['replace'](/^\*\./,'')[_0x2e103a(0x181)]())[_0x2e103a(0x17a)](Boolean);}catch{}const _0xe92d17=(await a0_0x19be15[_0x2e103a(0x16f)](_0x2e103a(0x16b)+_0x5938c0,{'timeout':0x3a98}))[_0x2e103a(0x15e)];return Array['from'](new Set([..._0xe92d17[_0x2e103a(0x17f)](/<TD>([0-9A-Za-z._-]+)<\/TD>/g)]['map'](_0x26648e=>_0x26648e[0x1][_0x2e103a(0x15f)](/^\*\./,''))));}async function fetchSonar(_0x2086d0){const _0xdca04=a0_0x277f;try{const _0x488980=await a0_0x19be15[_0xdca04(0x16f)](_0xdca04(0x17b)+_0x2086d0,{'timeout':0x2710});if(Array[_0xdca04(0x18b)](_0x488980[_0xdca04(0x15e)]))return _0x488980[_0xdca04(0x15e)];}catch{}return[];}function makeBrute(_0x4435c1){const _0x1bbb14=a0_0x277f;return[_0x1bbb14(0x167),_0x1bbb14(0x162),_0x1bbb14(0x158),_0x1bbb14(0x15b),_0x1bbb14(0x180),_0x1bbb14(0x176),_0x1bbb14(0x174)]['map'](_0x55cd66=>_0x55cd66+'.'+_0x4435c1);}let handler=async(_0x4737f8,{conn:_0x529cfe,text:_0x574949})=>{const _0x4095d0=a0_0x277f;if(!_0x574949)return _0x4737f8['reply'](_0x4095d0(0x175));const _0x4c21cc=_0x574949[_0x4095d0(0x181)](),_0x21e157=await _0x4737f8[_0x4095d0(0x17c)]('üï∞Ô∏è\x20Recolectando\x20subdominios‚Ä¶');await _0x4737f8[_0x4095d0(0x187)](_0x4095d0(0x17d));try{const [_0x284f5e,_0x40f934]=await Promise[_0x4095d0(0x157)]([fetchCrtsh(_0x4c21cc),fetchSonar(_0x4c21cc)]),_0x34cfdf=Array[_0x4095d0(0x15a)](new Set([..._0x284f5e,..._0x40f934,...makeBrute(_0x4c21cc)]));if(!_0x34cfdf[_0x4095d0(0x154)]){await _0x4737f8[_0x4095d0(0x17c)](_0x4095d0(0x178)+_0x4c21cc+'.');return;}const _0x183a02=await Promise['all'](_0x34cfdf['map'](checkHost)),_0x1d2f3f=_0x183a02['map'](_0x92dc57=>{const _0x36cabb=_0x4095d0;if(_0x92dc57[_0x36cabb(0x17e)]==='yes')return _0x92dc57[_0x36cabb(0x189)]+_0x36cabb(0x183);if(_0x92dc57['result']==='no')return _0x92dc57[_0x36cabb(0x189)]+_0x36cabb(0x16e);return _0x92dc57[_0x36cabb(0x189)]+_0x36cabb(0x15d);}),_0x48c604=_0x4095d0(0x177)+_0x4c21cc+_0x4095d0(0x184);a0_0x2bb991['writeFileSync'](_0x48c604,_0x1d2f3f['join']('\x0a'),_0x4095d0(0x18a)),await _0x529cfe[_0x4095d0(0x186)](_0x4737f8['chat'],{'document':a0_0x2bb991['readFileSync'](_0x48c604),'fileName':_0x48c604,'mimetype':_0x4095d0(0x171)},{'quoted':_0x4737f8}),a0_0x2bb991[_0x4095d0(0x16a)](_0x48c604);}catch(_0x49d28b){console[_0x4095d0(0x153)](_0x49d28b),await _0x4737f8[_0x4095d0(0x17c)](_0x4095d0(0x163));}finally{await _0x21e157[_0x4095d0(0x168)]();}};handler['help']=[a0_0x18afa7(0x173)],handler[a0_0x18afa7(0x159)]=[a0_0x18afa7(0x169)],handler[a0_0x18afa7(0x160)]=/^(scan2|proscan)$/i;function a0_0x277f(_0x3fdbaf,_0x17ada4){const _0x389fa0=a0_0x389f();return a0_0x277f=function(_0x277fd6,_0x1d7a15){_0x277fd6=_0x277fd6-0x153;let _0x4b3955=_0x389fa0[_0x277fd6];return _0x4b3955;},a0_0x277f(_0x3fdbaf,_0x17ada4);}export default handler;