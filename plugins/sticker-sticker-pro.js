function a0_0x3f9e(_0x596e80,_0x496ba5){const _0x51e13c=a0_0x51e1();return a0_0x3f9e=function(_0x3f9ec7,_0xffa5b1){_0x3f9ec7=_0x3f9ec7-0x127;let _0x3dce41=_0x51e13c[_0x3f9ec7];return _0x3dce41;},a0_0x3f9e(_0x596e80,_0x496ba5);}const a0_0x484551=a0_0x3f9e;(function(_0x188cfb,_0x1982fc){const _0x9c9aab=a0_0x3f9e,_0xff5ffa=_0x188cfb();while(!![]){try{const _0x12240b=parseInt(_0x9c9aab(0x155))/0x1+parseInt(_0x9c9aab(0x148))/0x2+parseInt(_0x9c9aab(0x14a))/0x3+parseInt(_0x9c9aab(0x139))/0x4*(-parseInt(_0x9c9aab(0x147))/0x5)+-parseInt(_0x9c9aab(0x142))/0x6*(parseInt(_0x9c9aab(0x12e))/0x7)+-parseInt(_0x9c9aab(0x12d))/0x8+parseInt(_0x9c9aab(0x130))/0x9;if(_0x12240b===_0x1982fc)break;else _0xff5ffa['push'](_0xff5ffa['shift']());}catch(_0x2364f6){_0xff5ffa['push'](_0xff5ffa['shift']());}}}(a0_0x51e1,0x3172a));import a0_0x4debd2 from'node-fetch';import{addExif}from'../lib/sticker.js';import{Sticker}from'wa-sticker-formatter';function a0_0x51e1(){const _0x3fd5c=['match','3.6.10\x20UPDATE\x20AVAILABLE:\x203.6.11','full','2.20.205.16','--disable-application-cache','quoted','split','Windows\x20Server\x202016','277351pEknqG','00:00:7.0','https://sticker-api.openwa.dev/convertMp4BufferToWebpDataUrl','WhatsApp/2.2037.6\x20Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_15_6)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/85.0.4183.83\x20Safari/537.36','test','join','application/json,\x20text/plain,\x20/','--no-sandbox','908912rTGGcr','28xJlZRj','command','815517yDuTHH','--aggressive-cache-discard','react','base64','help','crop','--disable-setuid-sandbox','6247','mediaType','13100obaHgN','author','pack','--disable-offline-load-stale-cache','reply','--disable-cache',';base64,','00:00:00.0','download','100596EMFcCb','ðŸ˜’\x20Etiqueta\x20una\x20imagen/video/sticker\x20con\x20el\x20comando\x20','mimetype','toBuffer','session','565cJAnDw','600166MSzZSd','data:video/mp4;base64,','255732glmayJ','msg','\x20\x20\x20â˜…â”â”â”â”â”â”â”â”\x0a\x09âŒ¬\x20Sung\x20Jin-Woo\x0a\x09âŒ¬\x20SinNombre\x0a\x09âŒ¬\x20Cibermaian\x0a\x09â˜…â”â”â”â”â”â”â”â”\x0a\x09\x09\x0a\x09\x09\x0a\x09\x09\x0a\x09\x09\x0a\x09\x09\x0a\x09\x09\x0a\x09\x09\x0a\x09\x09\x0a\x09\x09\x0a\x09á´¡á´¡á´¡.SinNombre.ÊŸá´›á´…\x0a\x09ð“¢ð“½ð“²ð“¬ð“´ð“®ð“»\x20ð“’ð“»ð“®ð“ªð“­ð“¸\x20ð“¬ð“¸ð“·\x20ð“ð“¶ð“¸ð“»\x20â¤ï¸\x0a\x09\x0a\x09\x09'];a0_0x51e1=function(){return _0x3fd5c;};return a0_0x51e1();}let handler=async(_0x4f0247,{conn:_0x540bf1,args:_0x1265fa,usedPrefix:_0x3bb3a9,command:_0x4ddb4b})=>{const _0x7708d0=a0_0x3f9e;let _0x15eb95=![];try{let [_0x49c476,..._0x25f96f]=_0x1265fa[_0x7708d0(0x12a)]` `[_0x7708d0(0x153)]`|`;_0x25f96f=(_0x25f96f||[])[_0x7708d0(0x12a)]`|`;let _0x56382c=_0x4f0247[_0x7708d0(0x152)]?_0x4f0247[_0x7708d0(0x152)]:_0x4f0247,_0x1220e9=(_0x56382c[_0x7708d0(0x14b)]||_0x56382c)[_0x7708d0(0x144)]||_0x56382c[_0x7708d0(0x138)]||'';if(/webp/g[_0x7708d0(0x129)](_0x1220e9)){let _0xee3460=await _0x56382c['download']?.();_0x15eb95=await addExif(_0xee3460,_0x49c476||'',_0x25f96f||'');}else{if(/image/g[_0x7708d0(0x129)](_0x1220e9)){let _0x11f3cc=await _0x56382c[_0x7708d0(0x141)]?.();_0x15eb95=await createSticker(_0x11f3cc,![],_0x49c476,_0x25f96f);}else{if(/video/g['test'](_0x1220e9)){let _0x1093ec=await _0x56382c[_0x7708d0(0x141)]?.();_0x15eb95=await mp4ToWebp(_0x1093ec,{'pack':_0x49c476,'author':_0x25f96f});}else{if(_0x1265fa[0x0]&&isUrl(_0x1265fa[0x0]))_0x15eb95=await createSticker(![],_0x1265fa[0x0],'',_0x25f96f,0x14);else throw _0x7708d0(0x143)+(_0x3bb3a9+_0x4ddb4b);}}}}catch(_0x4f4b29){console['log'](_0x4f4b29),_0x15eb95=_0x4f4b29;}finally{_0x4f0247[_0x7708d0(0x13d)](_0x15eb95),_0x4f0247[_0x7708d0(0x132)]('â¤ï¸');}};handler[a0_0x484551(0x134)]=['s'],handler['tags']=['sticker'],handler[a0_0x484551(0x12f)]=/^(s|sticker)$/i,handler['group']=!![];export default handler;const isUrl=_0x3ed1c7=>{const _0x5d02bc=a0_0x484551;return _0x3ed1c7[_0x5d02bc(0x14d)](new RegExp(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&/=]*)(jpe?g|gif|png)/,'gi'));};async function createSticker(_0x32f0c5,_0x4d495c,_0x31e76f,_0x3d3739,_0x39357e){const _0x234c41=a0_0x484551;let _0x121c45={'type':_0x234c41(0x14f),'pack':_0x234c41(0x14c),'quality':_0x39357e};return new Sticker(_0x32f0c5?_0x32f0c5:_0x4d495c,_0x121c45)[_0x234c41(0x145)]();}async function mp4ToWebp(_0x5d0092,_0x12fd20){const _0x1e5250=a0_0x484551;if(_0x12fd20){if(!_0x12fd20[_0x1e5250(0x13b)])_0x12fd20[_0x1e5250(0x13b)]='â€Ž';if(!_0x12fd20[_0x1e5250(0x13a)])_0x12fd20['author']='â€Ž';if(!_0x12fd20['crop'])_0x12fd20[_0x1e5250(0x135)]=![];}else!_0x12fd20&&(_0x12fd20={'pack':'â€Ž','author':'â€Ž','crop':![]});let _0x25b998=_0x5d0092['toString'](_0x1e5250(0x133));const _0x5299b3={'file':_0x1e5250(0x149)+_0x25b998,'processOptions':{'crop':_0x12fd20?.[_0x1e5250(0x135)],'startTime':_0x1e5250(0x140),'endTime':_0x1e5250(0x156),'loop':0x0},'stickerMetadata':{..._0x12fd20},'sessionInfo':{'WA_VERSION':'2.2106.5','PAGE_UA':_0x1e5250(0x128),'WA_AUTOMATE_VERSION':_0x1e5250(0x14e),'BROWSER_VERSION':'HeadlessChrome/88.0.4324.190','OS':_0x1e5250(0x154),'START_TS':0x177dc64c025,'NUM':_0x1e5250(0x137),'LAUNCH_TIME_MS':0x1efe,'PHONE_VERSION':_0x1e5250(0x150)},'config':{'sessionId':_0x1e5250(0x146),'headless':!![],'qrTimeout':0x14,'authTimeout':0x0,'cacheEnabled':![],'useChrome':!![],'killProcessOnBrowserClose':!![],'throwErrorOnTosBlock':![],'chromiumArgs':[_0x1e5250(0x12c),_0x1e5250(0x136),_0x1e5250(0x131),_0x1e5250(0x13e),_0x1e5250(0x151),_0x1e5250(0x13c),'--disk-cache-size=0'],'executablePath':'C:\x5c\x5cProgram\x20Files\x20(x86)\x5c\x5cGoogle\x5c\x5cChrome\x5c\x5cApplication\x5c\x5cchrome.exe','skipBrokenMethodsCheck':!![],'stickerServerEndpoint':!![]}};let _0x309f64=await a0_0x4debd2(_0x1e5250(0x127),{'method':'post','headers':{'Accept':_0x1e5250(0x12b),'Content-Type':'application/json;charset=utf-8'},'body':JSON['stringify'](_0x5299b3)});return Buffer['from']((await _0x309f64['text']())[_0x1e5250(0x153)](_0x1e5250(0x13f))[0x1],_0x1e5250(0x133));}