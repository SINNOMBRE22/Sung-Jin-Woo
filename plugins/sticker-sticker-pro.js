const a0_0x5c63bf=a0_0x3497;function a0_0x236d(){const _0x42c1f7=['match','mediaType','274239pqyLbb','data:video/mp4;base64,','reply','author','toBuffer','msg','6247','join','stringify','from','2259366HfoxDx','quoted','application/json;charset=utf-8','1314685krZGzn','base64','post','command','WhatsApp/2.2037.6\x20Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_15_6)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/85.0.4183.83\x20Safari/537.36','help','ğŸ˜’\x20Etiqueta\x20una\x20imagen/video/sticker\x20con\x20el\x20comando\x20','full','test','https://sticker-api.openwa.dev/convertMp4BufferToWebpDataUrl','6Mvrqkj','8ZNZPRG','download','--no-sandbox','2.2106.5','--disable-setuid-sandbox','1471677fDLtpq','2.20.205.16','crop','1590903wOHVrV','application/json,\x20text/plain,\x20/','pack','tags','3.6.10\x20UPDATE\x20AVAILABLE:\x203.6.11','HeadlessChrome/88.0.4324.190','log','mimetype','7230153lxBDIt','react','C:\x5c\x5cProgram\x20Files\x20(x86)\x5c\x5cGoogle\x5c\x5cChrome\x5c\x5cApplication\x5c\x5cchrome.exe','7939664zvuwmk','session','00:00:7.0'];a0_0x236d=function(){return _0x42c1f7;};return a0_0x236d();}(function(_0xc626c2,_0x40b755){const _0xf42a28=a0_0x3497,_0x564880=_0xc626c2();while(!![]){try{const _0x16c70c=parseInt(_0xf42a28(0xee))/0x1+parseInt(_0xf42a28(0xc8))/0x2+-parseInt(_0xf42a28(0xdb))/0x3*(-parseInt(_0xf42a28(0xd6))/0x4)+parseInt(_0xf42a28(0xcb))/0x5+parseInt(_0xf42a28(0xd5))/0x6*(-parseInt(_0xf42a28(0xe6))/0x7)+-parseInt(_0xf42a28(0xe9))/0x8+parseInt(_0xf42a28(0xde))/0x9;if(_0x16c70c===_0x40b755)break;else _0x564880['push'](_0x564880['shift']());}catch(_0x1dda91){_0x564880['push'](_0x564880['shift']());}}}(a0_0x236d,0xc32af));import a0_0x80e3a3 from'node-fetch';import{addExif}from'../lib/sticker.js';import{Sticker}from'wa-sticker-formatter';let handler=async(_0x4af7c0,{conn:_0x42c1db,args:_0x79dc37,usedPrefix:_0x19595a,command:_0x3e2ddc})=>{const _0x31091e=a0_0x3497;let _0x4f9b64=![];try{let [_0x5ec9b9,..._0x2730e0]=_0x79dc37[_0x31091e(0xc5)]` `['split']`|`;_0x2730e0=(_0x2730e0||[])[_0x31091e(0xc5)]`|`;let _0x4d4f53=_0x4af7c0[_0x31091e(0xc9)]?_0x4af7c0[_0x31091e(0xc9)]:_0x4af7c0,_0xbe57a9=(_0x4d4f53[_0x31091e(0xc3)]||_0x4d4f53)[_0x31091e(0xe5)]||_0x4d4f53[_0x31091e(0xed)]||'';if(/webp/g['test'](_0xbe57a9)){let _0x3d817a=await _0x4d4f53[_0x31091e(0xd7)]?.();_0x4f9b64=await addExif(_0x3d817a,_0x5ec9b9||'',_0x2730e0||'');}else{if(/image/g[_0x31091e(0xd3)](_0xbe57a9)){let _0x2186e0=await _0x4d4f53['download']?.();_0x4f9b64=await createSticker(_0x2186e0,![],_0x5ec9b9,_0x2730e0);}else{if(/video/g[_0x31091e(0xd3)](_0xbe57a9)){let _0x267e60=await _0x4d4f53[_0x31091e(0xd7)]?.();_0x4f9b64=await mp4ToWebp(_0x267e60,{'pack':_0x5ec9b9,'author':_0x2730e0});}else{if(_0x79dc37[0x0]&&isUrl(_0x79dc37[0x0]))_0x4f9b64=await createSticker(![],_0x79dc37[0x0],'',_0x2730e0,0x14);else throw _0x31091e(0xd1)+(_0x19595a+_0x3e2ddc);}}}}catch(_0x38415a){console[_0x31091e(0xe4)](_0x38415a),_0x4f9b64=_0x38415a;}finally{_0x4af7c0[_0x31091e(0xf0)](_0x4f9b64),_0x4af7c0[_0x31091e(0xe7)]('â¤ï¸');}};function a0_0x3497(_0x572a39,_0x27e9ca){const _0x236d44=a0_0x236d();return a0_0x3497=function(_0x349734,_0x213fb3){_0x349734=_0x349734-0xc2;let _0x32d381=_0x236d44[_0x349734];return _0x32d381;},a0_0x3497(_0x572a39,_0x27e9ca);}handler[a0_0x5c63bf(0xd0)]=['s'],handler[a0_0x5c63bf(0xe1)]=['sticker'],handler[a0_0x5c63bf(0xce)]=/^(s|sticker)$/i,handler['group']=!![];export default handler;const isUrl=_0x12b33c=>{const _0x1d82dd=a0_0x5c63bf;return _0x12b33c[_0x1d82dd(0xec)](new RegExp(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&/=]*)(jpe?g|gif|png)/,'gi'));};async function createSticker(_0x7279ec,_0x3a0683,_0x15ee45,_0x1fdea9,_0x36a4b1){const _0x1ca7d3=a0_0x5c63bf;let _0x1ffeb8={'type':_0x1ca7d3(0xd2),'pack':'\x20\x20\x20â˜…â”â”â”â”â”â”â”â”\x0a\x09âŒ¬\x20Sung\x20Jin-Woo\x0a\x09âŒ¬\x20SinNombre\x0a\x09âŒ¬\x20Cibermaian\x0a\x09â˜…â”â”â”â”â”â”â”â”\x0a\x09\x09\x0a\x09\x09\x0a\x09\x09\x0a\x09\x09\x0a\x09\x09\x0a\x09\x09\x0a\x09\x09\x0a\x09\x09\x0a\x09\x09\x0a\x09á´¡á´¡á´¡.SinNombre.ÊŸá´›á´…\x0a\x09ğ“¢ğ“½ğ“²ğ“¬ğ“´ğ“®ğ“»\x20ğ“’ğ“»ğ“®ğ“ªğ“­ğ“¸\x20ğ“¬ğ“¸ğ“·\x20ğ“ğ“¶ğ“¸ğ“»\x20â¤ï¸\x0a\x09\x0a\x09\x09','quality':_0x36a4b1};return new Sticker(_0x7279ec?_0x7279ec:_0x3a0683,_0x1ffeb8)[_0x1ca7d3(0xc2)]();}async function mp4ToWebp(_0x998499,_0x4e4ed6){const _0x19795b=a0_0x5c63bf;if(_0x4e4ed6){if(!_0x4e4ed6[_0x19795b(0xe0)])_0x4e4ed6[_0x19795b(0xe0)]='â€';if(!_0x4e4ed6[_0x19795b(0xf1)])_0x4e4ed6[_0x19795b(0xf1)]='â€';if(!_0x4e4ed6[_0x19795b(0xdd)])_0x4e4ed6[_0x19795b(0xdd)]=![];}else!_0x4e4ed6&&(_0x4e4ed6={'pack':'â€','author':'â€','crop':![]});let _0x3527bd=_0x998499['toString']('base64');const _0x305e30={'file':_0x19795b(0xef)+_0x3527bd,'processOptions':{'crop':_0x4e4ed6?.['crop'],'startTime':'00:00:00.0','endTime':_0x19795b(0xeb),'loop':0x0},'stickerMetadata':{..._0x4e4ed6},'sessionInfo':{'WA_VERSION':_0x19795b(0xd9),'PAGE_UA':_0x19795b(0xcf),'WA_AUTOMATE_VERSION':_0x19795b(0xe2),'BROWSER_VERSION':_0x19795b(0xe3),'OS':'Windows\x20Server\x202016','START_TS':0x177dc64c025,'NUM':_0x19795b(0xc4),'LAUNCH_TIME_MS':0x1efe,'PHONE_VERSION':_0x19795b(0xdc)},'config':{'sessionId':_0x19795b(0xea),'headless':!![],'qrTimeout':0x14,'authTimeout':0x0,'cacheEnabled':![],'useChrome':!![],'killProcessOnBrowserClose':!![],'throwErrorOnTosBlock':![],'chromiumArgs':[_0x19795b(0xd8),_0x19795b(0xda),'--aggressive-cache-discard','--disable-cache','--disable-application-cache','--disable-offline-load-stale-cache','--disk-cache-size=0'],'executablePath':_0x19795b(0xe8),'skipBrokenMethodsCheck':!![],'stickerServerEndpoint':!![]}};let _0x4f1414=await a0_0x80e3a3(_0x19795b(0xd4),{'method':_0x19795b(0xcd),'headers':{'Accept':_0x19795b(0xdf),'Content-Type':_0x19795b(0xca)},'body':JSON[_0x19795b(0xc6)](_0x305e30)});return Buffer[_0x19795b(0xc7)]((await _0x4f1414['text']())['split'](';base64,')[0x1],_0x19795b(0xcc));}