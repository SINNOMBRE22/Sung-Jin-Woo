const a0_0x389cd1=a0_0x7985;function a0_0x7985(_0x2f64cd,_0x2a71ae){const _0x4f2aba=a0_0x4f2a();return a0_0x7985=function(_0x7985a1,_0x1a9e0f){_0x7985a1=_0x7985a1-0xe3;let _0x4e2db7=_0x4f2aba[_0x7985a1];return _0x4e2db7;},a0_0x7985(_0x2f64cd,_0x2a71ae);}(function(_0x412806,_0x4665f7){const _0x1d5f84=a0_0x7985,_0x5a2957=_0x412806();while(!![]){try{const _0x5be477=-parseInt(_0x1d5f84(0xee))/0x1+parseInt(_0x1d5f84(0xfd))/0x2+-parseInt(_0x1d5f84(0x109))/0x3+-parseInt(_0x1d5f84(0xf2))/0x4*(-parseInt(_0x1d5f84(0xf4))/0x5)+parseInt(_0x1d5f84(0xeb))/0x6*(parseInt(_0x1d5f84(0x10d))/0x7)+-parseInt(_0x1d5f84(0xfb))/0x8*(-parseInt(_0x1d5f84(0x101))/0x9)+-parseInt(_0x1d5f84(0xf6))/0xa;if(_0x5be477===_0x4665f7)break;else _0x5a2957['push'](_0x5a2957['shift']());}catch(_0x2d19d8){_0x5a2957['push'](_0x5a2957['shift']());}}}(a0_0x4f2a,0x93dd2));import a0_0x13b850 from'node-fetch';import{addExif}from'../lib/sticker.js';import{Sticker}from'wa-sticker-formatter';let handler=async(_0x558d37,{conn:_0x2ea73f,args:_0x17ff50,usedPrefix:_0x46e66e,command:_0x2ee027})=>{const _0x427898=a0_0x7985;let _0x1512b8=![];try{let [_0x5b7d0e,..._0x201c1e]=_0x17ff50[_0x427898(0x107)]` `['split']`|`;_0x201c1e=(_0x201c1e||[])['join']`|`;let _0xb4eb3b=_0x558d37[_0x427898(0xf5)]?_0x558d37[_0x427898(0xf5)]:_0x558d37,_0x11e51d=(_0xb4eb3b[_0x427898(0xf3)]||_0xb4eb3b)['mimetype']||_0xb4eb3b[_0x427898(0x100)]||'';if(/webp/g[_0x427898(0xf7)](_0x11e51d)){let _0x44a720=await _0xb4eb3b[_0x427898(0x108)]?.();_0x1512b8=await addExif(_0x44a720,_0x5b7d0e||'',_0x201c1e||'');}else{if(/image/g[_0x427898(0xf7)](_0x11e51d)){let _0x3075dc=await _0xb4eb3b[_0x427898(0x108)]?.();_0x1512b8=await createSticker(_0x3075dc,![],_0x5b7d0e,_0x201c1e);}else{if(/video/g[_0x427898(0xf7)](_0x11e51d)){let _0x5372a4=await _0xb4eb3b['download']?.();_0x1512b8=await mp4ToWebp(_0x5372a4,{'pack':_0x5b7d0e,'author':_0x201c1e});}else{if(_0x17ff50[0x0]&&isUrl(_0x17ff50[0x0]))_0x1512b8=await createSticker(![],_0x17ff50[0x0],'',_0x201c1e,0x14);else throw'ðŸ˜’\x20Etiqueta\x20una\x20imagen/video/sticker\x20con\x20el\x20comando\x20'+(_0x46e66e+_0x2ee027);}}}}catch(_0x447746){console[_0x427898(0xfc)](_0x447746),_0x1512b8=_0x447746;}finally{_0x558d37[_0x427898(0xea)](_0x1512b8),_0x558d37[_0x427898(0xe4)]('â¤ï¸');}};handler[a0_0x389cd1(0x10b)]=['s'],handler[a0_0x389cd1(0x10e)]=[a0_0x389cd1(0xe7)],handler['command']=/^(s|sticker)$/i,handler[a0_0x389cd1(0xfa)]=!![];export default handler;function a0_0x4f2a(){const _0x1f76cd=['base64','225058CToesD','from','session','split','516VcvRIg','msg','9385XEThcy','quoted','7972810dGzWjq','test','--disable-setuid-sandbox','--no-sandbox','group','8ayXYyB','log','1120614AiBWrg','00:00:7.0','match','mediaType','4135383JCRlMf','application/json;charset=utf-8','pack','WhatsApp/2.2037.6\x20Mozilla/5.0\x20(Macintosh;\x20Intel\x20Mac\x20OS\x20X\x2010_15_6)\x20AppleWebKit/537.36\x20(KHTML,\x20like\x20Gecko)\x20Chrome/85.0.4183.83\x20Safari/537.36','HeadlessChrome/88.0.4324.190','--disable-cache','join','download','1275096mNgFhd','toString','help','2.2106.5','7JgNlqO','tags','--disable-offline-load-stale-cache','react','3.6.10\x20UPDATE\x20AVAILABLE:\x203.6.11','crop','sticker','https://sticker-api.openwa.dev/convertMp4BufferToWebpDataUrl','\x20\x20\x20â˜…â”â”â”â”â”â”â”â”\x0a\x09âŒ¬\x20Sung\x20Jin-Woo\x0a\x09âŒ¬\x20SinNombre\x0a\x09âŒ¬\x20Cibermaian\x0a\x09â˜…â”â”â”â”â”â”â”â”\x0a\x09\x09\x0a\x09\x09\x0a\x09\x09\x0a\x09\x09\x0a\x09\x09\x0a\x09\x09\x0a\x09\x09\x0a\x09\x09\x0a\x09\x09\x0a\x09á´¡á´¡á´¡.SinNombre.ÊŸá´›á´…\x0a\x09ð“¢ð“½ð“²ð“¬ð“´ð“®ð“»\x20ð“’ð“»ð“®ð“ªð“­ð“¸\x20ð“¬ð“¸ð“·\x20ð“ð“¶ð“¸ð“»\x20â¤ï¸\x0a\x09\x0a\x09\x09','reply','4746564kRHyov','author'];a0_0x4f2a=function(){return _0x1f76cd;};return a0_0x4f2a();}const isUrl=_0x53b12c=>{const _0x31d657=a0_0x389cd1;return _0x53b12c[_0x31d657(0xff)](new RegExp(/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&/=]*)(jpe?g|gif|png)/,'gi'));};async function createSticker(_0x5437dd,_0x29ee63,_0x4b79d8,_0x5ce65a,_0x1e220a){const _0x3bd5d8=a0_0x389cd1;let _0x3f1586={'type':'full','pack':_0x3bd5d8(0xe9),'quality':_0x1e220a};return new Sticker(_0x5437dd?_0x5437dd:_0x29ee63,_0x3f1586)['toBuffer']();}async function mp4ToWebp(_0x48c171,_0x1625e6){const _0x240acf=a0_0x389cd1;if(_0x1625e6){if(!_0x1625e6[_0x240acf(0x103)])_0x1625e6[_0x240acf(0x103)]='â€Ž';if(!_0x1625e6[_0x240acf(0xec)])_0x1625e6[_0x240acf(0xec)]='â€Ž';if(!_0x1625e6['crop'])_0x1625e6[_0x240acf(0xe6)]=![];}else!_0x1625e6&&(_0x1625e6={'pack':'â€Ž','author':'â€Ž','crop':![]});let _0x19809f=_0x48c171[_0x240acf(0x10a)](_0x240acf(0xed));const _0x4b8c9b={'file':'data:video/mp4;base64,'+_0x19809f,'processOptions':{'crop':_0x1625e6?.[_0x240acf(0xe6)],'startTime':'00:00:00.0','endTime':_0x240acf(0xfe),'loop':0x0},'stickerMetadata':{..._0x1625e6},'sessionInfo':{'WA_VERSION':_0x240acf(0x10c),'PAGE_UA':_0x240acf(0x104),'WA_AUTOMATE_VERSION':_0x240acf(0xe5),'BROWSER_VERSION':_0x240acf(0x105),'OS':'Windows\x20Server\x202016','START_TS':0x177dc64c025,'NUM':'6247','LAUNCH_TIME_MS':0x1efe,'PHONE_VERSION':'2.20.205.16'},'config':{'sessionId':_0x240acf(0xf0),'headless':!![],'qrTimeout':0x14,'authTimeout':0x0,'cacheEnabled':![],'useChrome':!![],'killProcessOnBrowserClose':!![],'throwErrorOnTosBlock':![],'chromiumArgs':[_0x240acf(0xf9),_0x240acf(0xf8),'--aggressive-cache-discard',_0x240acf(0x106),'--disable-application-cache',_0x240acf(0xe3),'--disk-cache-size=0'],'executablePath':'C:\x5c\x5cProgram\x20Files\x20(x86)\x5c\x5cGoogle\x5c\x5cChrome\x5c\x5cApplication\x5c\x5cchrome.exe','skipBrokenMethodsCheck':!![],'stickerServerEndpoint':!![]}};let _0x989d7f=await a0_0x13b850(_0x240acf(0xe8),{'method':'post','headers':{'Accept':'application/json,\x20text/plain,\x20/','Content-Type':_0x240acf(0x102)},'body':JSON['stringify'](_0x4b8c9b)});return Buffer[_0x240acf(0xef)]((await _0x989d7f['text']())[_0x240acf(0xf1)](';base64,')[0x1],_0x240acf(0xed));}