const a0_0x4f3b7b=a0_0x2156;(function(_0x2917de,_0x13bef6){const _0x52bfca=a0_0x2156,_0x4490e9=_0x2917de();while(!![]){try{const _0x19eb5c=-parseInt(_0x52bfca(0x192))/0x1+-parseInt(_0x52bfca(0x18f))/0x2+parseInt(_0x52bfca(0x19a))/0x3*(parseInt(_0x52bfca(0x17b))/0x4)+parseInt(_0x52bfca(0x193))/0x5*(-parseInt(_0x52bfca(0x188))/0x6)+parseInt(_0x52bfca(0x17d))/0x7*(parseInt(_0x52bfca(0x18c))/0x8)+-parseInt(_0x52bfca(0x17e))/0x9+parseInt(_0x52bfca(0x18a))/0xa;if(_0x19eb5c===_0x13bef6)break;else _0x4490e9['push'](_0x4490e9['shift']());}catch(_0x562881){_0x4490e9['push'](_0x4490e9['shift']());}}}(a0_0x5c2b,0x9a8b3));import a0_0x3ece37 from'node-fetch';function a0_0x2156(_0x45f3a3,_0x11a433){const _0x5c2b4d=a0_0x5c2b();return a0_0x2156=function(_0x215650,_0x3dedec){_0x215650=_0x215650-0x179;let _0x474f59=_0x5c2b4d[_0x215650];return _0x474f59;},a0_0x2156(_0x45f3a3,_0x11a433);}const OPENROUTER_API_KEY='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',OPENROUTER_URL=a0_0x4f3b7b(0x18e),MODEL_NAME='openai/gpt-3.5-turbo',handler=_0x29974a=>_0x29974a;handler[a0_0x4f3b7b(0x183)]=async function(_0x55d59c,{conn:_0x3a6163}){const _0x152738=a0_0x4f3b7b;let _0x10891f=![];const _0xcbeb29=global[_0x152738(0x182)];if(_0xcbeb29[_0x152738(0x187)](_0x55d59c[_0x152738(0x199)]))_0x10891f=!![];global['db'][_0x152738(0x180)][_0x152738(0x185)]=global['db'][_0x152738(0x180)][_0x152738(0x185)]||{};const _0x26b897=global['db'][_0x152738(0x180)][_0x152738(0x185)][_0x3a6163[_0x152738(0x18b)][_0x152738(0x190)]]||{};if(_0x26b897['modoia']&&!_0x55d59c[_0x152738(0x194)]&&!_0x10891f&&!_0x55d59c[_0x152738(0x179)]&&_0x55d59c[_0x152738(0x199)]&&_0x55d59c[_0x152738(0x199)][_0x152738(0x184)]()!==''){if(/false|disnable|(turn)?off|0/i[_0x152738(0x187)](_0x55d59c[_0x152738(0x199)]))return!![];try{const _0x4cfc19=_0x152738(0x18d),_0x24e74c=await callIA([{'role':_0x152738(0x17f),'content':_0x4cfc19},{'role':_0x152738(0x18b),'content':_0x55d59c[_0x152738(0x199)]}]);await _0x55d59c[_0x152738(0x191)](_0x24e74c);}catch(_0x278c75){console[_0x152738(0x17a)](_0x278c75),await _0x55d59c[_0x152738(0x191)](_0x152738(0x195));}return![];}return!![];};async function callIA(_0x525b46){const _0x2247f0=a0_0x4f3b7b,_0x5502be=await a0_0x3ece37(OPENROUTER_URL,{'method':_0x2247f0(0x189),'headers':{'Authorization':_0x2247f0(0x186)+OPENROUTER_API_KEY,'Content-Type':_0x2247f0(0x17c)},'body':JSON['stringify']({'model':MODEL_NAME,'messages':_0x525b46})}),_0x325795=await _0x5502be[_0x2247f0(0x19b)]();return _0x325795[_0x2247f0(0x198)]?.[0x0]?.[_0x2247f0(0x197)]?.[_0x2247f0(0x196)]||_0x2247f0(0x181);}export default handler;function a0_0x5c2b(){const _0x5b0b05=['error','1250572HuiXfy','application/json','7ZSLvfs','5428539qieedS','system','data','No\x20pude\x20responder.','prefix','before','trim','settings','Bearer\x20','test','138XPBXCR','POST','14359640blZQzS','user','5556656xIjisi','Eres\x20un\x20asistente\x20de\x20texto\x20plano.\x20No\x20uses\x20LaTeX\x20ni\x20,\x20ni\x20símbolos\x20como\x20\x5c\x5c,\x20^\x20o\x20*.\x0aPara\x20exponentes,\x20usa\x20caracteres\x20superscritos\x20(²,\x20³,\x20etc).\x0aPara\x20fracciones,\x20utiliza\x20el\x20formato\x20\x22numerador/denominador\x22\x20(por\x20ejemplo,\x20\x221/2\x22\x20o\x20\x223/4\x22).\x0aCuando\x20el\x20usuario\x20haga\x20una\x20pregunta\x20de\x20matemáticas\x20o\x20álgebra,\x20responde\x20paso\x20a\x20paso\x20con\x20texto\x20numerado,\x20como\x20en\x20este\x20ejemplo:\x0a\x0a1.\x20x²\x20=\x2016\x0a2.\x20x\x20=\x20±√16\x0a3.\x20x\x20=\x20±4\x0a\x0aEvita\x20cualquier\x20otro\x20símbolo\x20o\x20formato\x20complicado.\x20Solo\x20texto\x20plano\x20y\x20claros\x20pasos\x20numerados.','https://openrouter.ai/api/v1/chat/completions','2461464eixgDW','jid','reply','777906ZIGuJI','29630XDPIyu','isGroup','❌\x20Ocurrió\x20un\x20error\x20al\x20procesar\x20la\x20IA.','content','message','choices','text','12yUBXtv','json','fromMe'];a0_0x5c2b=function(){return _0x5b0b05;};return a0_0x5c2b();}