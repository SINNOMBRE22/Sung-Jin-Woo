const a0_0x2bb6d9=a0_0x3ac3;(function(_0x284cde,_0x59f64f){const _0x1d4653=a0_0x3ac3,_0x262a0d=_0x284cde();while(!![]){try{const _0x5c400f=parseInt(_0x1d4653(0x1d7))/0x1+parseInt(_0x1d4653(0x1dc))/0x2*(-parseInt(_0x1d4653(0x1d2))/0x3)+-parseInt(_0x1d4653(0x1f2))/0x4+-parseInt(_0x1d4653(0x1ec))/0x5+parseInt(_0x1d4653(0x1de))/0x6+-parseInt(_0x1d4653(0x1e3))/0x7+-parseInt(_0x1d4653(0x1e4))/0x8*(-parseInt(_0x1d4653(0x1e7))/0x9);if(_0x5c400f===_0x59f64f)break;else _0x262a0d['push'](_0x262a0d['shift']());}catch(_0xb53837){_0x262a0d['push'](_0x262a0d['shift']());}}}(a0_0x23d2,0x28e5e));import a0_0x3e23d3 from'fs';import a0_0x3b23ba from'acrcloud';import a0_0x252fc4 from'axios';let acr=new a0_0x3b23ba({'host':a0_0x2bb6d9(0x1ed),'access_key':a0_0x2bb6d9(0x1ee),'access_secret':a0_0x2bb6d9(0x1d8)}),handler=async _0x5e3dbf=>{const _0x1955dd=a0_0x2bb6d9;let _0x31f0=_0x5e3dbf[_0x1955dd(0x1e5)]?_0x5e3dbf[_0x1955dd(0x1e5)]:_0x5e3dbf,_0x435c1a=(_0x31f0[_0x1955dd(0x1d0)]||_0x31f0)['mimetype']||'';if(/audio|video/[_0x1955dd(0x1d6)](_0x435c1a)){if((_0x31f0['msg']||_0x31f0)['seconds']>0x14)return _0x5e3dbf['reply']('[❗𝐈𝐍𝐅𝐎❗]\x0a\x0aEl\x20archivo\x20es\x20muy\x20grande,\x20recorta\x20a\x2010-20\x20segundos.');let _0xa605d9=await _0x31f0[_0x1955dd(0x1f3)](),_0x3a4750=_0x435c1a[_0x1955dd(0x1e1)]('/')[0x1],_0x3717d6='./tmp/'+_0x5e3dbf[_0x1955dd(0x1f9)]+'.'+_0x3a4750;a0_0x3e23d3['writeFileSync'](_0x3717d6,_0xa605d9);try{let _0x5143d8=await acr[_0x1955dd(0x1e0)](a0_0x3e23d3[_0x1955dd(0x1fd)](_0x3717d6)),{code:_0x2deb59,msg:_0x1bc514}=_0x5143d8['status'];if(_0x2deb59!==0x0)throw _0x1bc514;let {title:_0xa13001,artists:_0x385f08,album:_0x5891de,genres:_0x6864ee,release_date:_0x1bed02}=_0x5143d8[_0x1955dd(0x1e2)][_0x1955dd(0x1e6)][0x0],_0x197995=(_0x1955dd(0x1f4)+_0xa13001+'\x0a•\x20👨‍🎤\x20𝙰𝚁𝚃𝙸𝚂𝚃𝙰:\x20'+(_0x385f08?.[_0x1955dd(0x1ef)](_0x46d19b=>_0x46d19b['name'])[_0x1955dd(0x1fa)](',\x20')||_0x1955dd(0x1d4))+_0x1955dd(0x1dd)+(_0x5891de?.['name']||_0x1955dd(0x1d4))+'\x0a•\x20🌐\x20𝙶𝙴𝙽𝙴𝚁𝙾:\x20'+(_0x6864ee?.['map'](_0x19ea4b=>_0x19ea4b['name'])['join'](',\x20')||_0x1955dd(0x1d4))+'\x0a•\x20📆\x20𝙵𝙴𝙲𝙷𝙰\x20𝙳𝙴\x20𝙻𝙰𝙽𝚉𝙰𝙼𝙸𝙴𝙽𝚃𝙾:\x20'+(_0x1bed02||_0x1955dd(0x1d4))+'\x0a')['trim']();_0x5e3dbf['reply'](_0x197995);}catch(_0x10a381){_0x5e3dbf[_0x1955dd(0x1d9)](_0x1955dd(0x1d3));try{const _0x42b54f=a0_0x3e23d3['readFileSync'](_0x3717d6),_0x1909c6=_0x42b54f[_0x1955dd(0x1e8)]('base64');let _0x17dcaf=await a0_0x252fc4['post'](_0x1955dd(0x1da),{'audio':_0x1909c6},{'headers':{'Content-Type':_0x1955dd(0x1cf),'X-RapidAPI-Key':_0x1955dd(0x1d1),'X-RapidAPI-Host':_0x1955dd(0x1f0)}}),_0x1da37d=_0x17dcaf[_0x1955dd(0x1e9)][_0x1955dd(0x1d5)];if(!_0x1da37d)throw _0x1955dd(0x1f6);let _0x560464=(_0x1955dd(0x1f7)+_0x1da37d[_0x1955dd(0x1df)]+_0x1955dd(0x1fc)+(_0x1da37d[_0x1955dd(0x1fb)]||_0x1955dd(0x1d4))+'\x0a•\x20💿\x20𝙶𝙴𝙽𝙴𝚁𝙾:\x20'+(_0x1da37d['genres']?.[_0x1955dd(0x1eb)]||_0x1955dd(0x1d4))+'\x0a•\x20🔗\x20𝙴𝙽𝙻𝙰𝙲𝙴:\x20'+(_0x1da37d['url']||_0x1955dd(0x1f8))+'\x0a')[_0x1955dd(0x1f5)]();_0x5e3dbf[_0x1955dd(0x1d9)](_0x560464);}catch(_0x27ca4d){console['error'](_0x27ca4d),_0x5e3dbf[_0x1955dd(0x1d9)]('No\x20se\x20pudo\x20identificar\x20la\x20canción\x20con\x20ACRCloud\x20ni\x20con\x20Shazam.');}}finally{a0_0x3e23d3[_0x1955dd(0x1ea)](_0x3717d6);}}else throw _0x1955dd(0x1f1);};handler[a0_0x2bb6d9(0x1db)]=/^quemusica|quemusicaes|whatmusic$/i;function a0_0x3ac3(_0x4c8513,_0x571283){const _0x23d2c9=a0_0x23d2();return a0_0x3ac3=function(_0x3ac3b1,_0x389806){_0x3ac3b1=_0x3ac3b1-0x1cf;let _0x5340d7=_0x23d2c9[_0x3ac3b1];return _0x5340d7;},a0_0x3ac3(_0x4c8513,_0x571283);}export default handler;function a0_0x23d2(){const _0x104868=['No\x20encontrado','track','test','6846yMLyVN','bvgaIAEtADBTbLwiPGYlxupWqkNGIjT7J9Ag2vIu','reply','https://shazam.p.rapidapi.com/songs/detect','command','327214ksIPLG','\x0a•\x20💾\x20𝙰𝙻𝙱𝚄𝙼:\x20','1175064lGJUEg','title','identify','split','metadata','1085357IooLuu','1109848RIvFhK','quoted','music','63daBWMH','toString','data','unlinkSync','primary','1131340rxWDzv','identify-eu-west-1.acrcloud.com','c33c767d683f78bd17d4bd4991955d81','map','shazam.p.rapidapi.com','*[❗𝐈𝐍𝐅𝐎❗]\x20𝚁𝙴𝚂𝙿𝙾𝙽𝙳𝙰\x20𝙰\x20𝚄𝙽\x20𝙰𝚄𝙳𝙸𝙾*','1191024wvWXvs','download','\x0a𝚁𝙴𝚂𝚄𝙻𝚃𝙰𝙳𝙾𝚂\x20𝙳𝙴\x20𝙻𝙰\x20𝙱𝚄𝚂𝚀𝚄𝙴𝙳𝙰\x20(ACRCloud)\x0a\x0a•\x20📌\x20𝚃𝙸𝚃𝚄𝙻𝙾:\x20','trim','No\x20se\x20encontró\x20resultado\x20con\x20Shazam.','\x0a𝚁𝙴𝚂𝚄𝙻𝚃𝙰𝙳𝙾𝚂\x20𝚂𝙷𝙰𝚉𝙰𝙼\x0a\x0a•\x20📌\x20𝚃𝙸𝚃𝚄𝙻𝙾:\x20','No\x20disponible','sender','join','subtitle','\x0a•\x20👨‍🎤\x20𝙰𝚁𝚃𝙸𝚂𝚃𝙰:\x20','readFileSync','application/json','msg','8de872d0emshb893427c1833d64p10138jsn93f00555f','6nyNwyO','[❗𝐈𝐍𝐅𝐎❗]\x0aNo\x20se\x20pudo\x20identificar\x20con\x20ACRCloud,\x20intentando\x20con\x20Shazam...'];a0_0x23d2=function(){return _0x104868;};return a0_0x23d2();}