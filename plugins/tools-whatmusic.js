const a0_0x2ea712=a0_0x3e1a;(function(_0x41dd24,_0x3b0c3e){const _0x29788a=a0_0x3e1a,_0x482ba0=_0x41dd24();while(!![]){try{const _0x2b2697=-parseInt(_0x29788a(0x1c7))/0x1+parseInt(_0x29788a(0x1d3))/0x2*(-parseInt(_0x29788a(0x1bb))/0x3)+parseInt(_0x29788a(0x1d8))/0x4+-parseInt(_0x29788a(0x1b5))/0x5+parseInt(_0x29788a(0x1cf))/0x6+parseInt(_0x29788a(0x1c0))/0x7+parseInt(_0x29788a(0x1d1))/0x8;if(_0x2b2697===_0x3b0c3e)break;else _0x482ba0['push'](_0x482ba0['shift']());}catch(_0x2a2f9d){_0x482ba0['push'](_0x482ba0['shift']());}}}(a0_0x34de,0xa8f72));import a0_0x127c0c from'fs';import a0_0x1d07e9 from'acrcloud';import a0_0x4a5cfc from'axios';let acr=new a0_0x1d07e9({'host':a0_0x2ea712(0x1c9),'access_key':a0_0x2ea712(0x1c4),'access_secret':'bvgaIAEtADBTbLwiPGYlxupWqkNGIjT7J9Ag2vIu'}),handler=async _0x48ec6a=>{const _0x27a2de=a0_0x2ea712;let _0x4dfb8d=_0x48ec6a[_0x27a2de(0x1ac)]?_0x48ec6a[_0x27a2de(0x1ac)]:_0x48ec6a,_0x2734e0=(_0x4dfb8d[_0x27a2de(0x1b6)]||_0x4dfb8d)[_0x27a2de(0x1c1)]||'';if(/audio|video/[_0x27a2de(0x1aa)](_0x2734e0)){if((_0x4dfb8d[_0x27a2de(0x1b6)]||_0x4dfb8d)[_0x27a2de(0x1cb)]>0x14)return _0x48ec6a['reply'](_0x27a2de(0x1ae));let _0xcbb906=await _0x4dfb8d['download'](),_0x2165fd=_0x2734e0[_0x27a2de(0x1ab)]('/')[0x1],_0x5126d6=_0x27a2de(0x1a9)+_0x48ec6a['sender']+'.'+_0x2165fd;a0_0x127c0c[_0x27a2de(0x1d0)](_0x5126d6,_0xcbb906);try{let _0x54f938=await acr[_0x27a2de(0x1a8)](a0_0x127c0c[_0x27a2de(0x1d4)](_0x5126d6)),{code:_0x2f9d89,msg:_0xf88ea8}=_0x54f938[_0x27a2de(0x1cc)];if(_0x2f9d89!==0x0)throw _0xf88ea8;let {title:_0xff8998,artists:_0x3795ea,album:_0x1bb43f,genres:_0x3ff1b5,release_date:_0x30108d}=_0x54f938['metadata'][_0x27a2de(0x1c3)][0x0],_0x44acd5=('\x0a𝚁𝙴𝚂𝚄𝙻𝚃𝙰𝙳𝙾𝚂\x20𝙳𝙴\x20𝙻𝙰\x20𝙱𝚄𝚂𝚀𝚄𝙴𝙳𝙰\x20(ACRCloud)\x0a\x0a•\x20📌\x20𝚃𝙸𝚃𝚄𝙻𝙾:\x20'+_0xff8998+_0x27a2de(0x1d7)+(_0x3795ea?.[_0x27a2de(0x1af)](_0x46fc85=>_0x46fc85[_0x27a2de(0x1d5)])[_0x27a2de(0x1b3)](',\x20')||_0x27a2de(0x1ba))+_0x27a2de(0x1d6)+(_0x1bb43f?.[_0x27a2de(0x1d5)]||_0x27a2de(0x1ba))+_0x27a2de(0x1b4)+(_0x3ff1b5?.['map'](_0x124ccb=>_0x124ccb[_0x27a2de(0x1d5)])[_0x27a2de(0x1b3)](',\x20')||'No\x20encontrado')+_0x27a2de(0x1d2)+(_0x30108d||_0x27a2de(0x1ba))+'\x0a')[_0x27a2de(0x1a6)]();_0x48ec6a['reply'](_0x44acd5);}catch(_0xfbf705){_0x48ec6a[_0x27a2de(0x1b1)](_0x27a2de(0x1be));try{const _0x53b01b=a0_0x127c0c[_0x27a2de(0x1d4)](_0x5126d6),_0x4ba5c8=_0x53b01b['toString'](_0x27a2de(0x1c6));let _0x54e0c9=await a0_0x4a5cfc['post'](_0x27a2de(0x1b9),{'audio':_0x4ba5c8},{'headers':{'Content-Type':_0x27a2de(0x1cd),'X-RapidAPI-Key':_0x27a2de(0x1c8),'X-RapidAPI-Host':_0x27a2de(0x1ca)}}),_0x1ef0d7=_0x54e0c9['data']['track'];if(!_0x1ef0d7)throw _0x27a2de(0x1bd);let _0x94e8da=(_0x27a2de(0x1a7)+_0x1ef0d7[_0x27a2de(0x1c5)]+_0x27a2de(0x1d7)+(_0x1ef0d7[_0x27a2de(0x1ce)]||_0x27a2de(0x1ba))+_0x27a2de(0x1b8)+(_0x1ef0d7[_0x27a2de(0x1b2)]?.['primary']||_0x27a2de(0x1ba))+_0x27a2de(0x1b7)+(_0x1ef0d7[_0x27a2de(0x1bf)]||'No\x20disponible')+'\x0a')[_0x27a2de(0x1a6)]();_0x48ec6a[_0x27a2de(0x1b1)](_0x94e8da);}catch(_0x472cba){console[_0x27a2de(0x1ad)](_0x472cba),_0x48ec6a[_0x27a2de(0x1b1)]('No\x20se\x20pudo\x20identificar\x20la\x20canción\x20con\x20ACRCloud\x20ni\x20con\x20Shazam.');}}finally{a0_0x127c0c[_0x27a2de(0x1bc)](_0x5126d6);}}else throw _0x27a2de(0x1b0);};handler[a0_0x2ea712(0x1c2)]=/^quemusica|quemusicaes|whatmusic$/i;export default handler;function a0_0x3e1a(_0x4f4277,_0x370585){const _0x34de47=a0_0x34de();return a0_0x3e1a=function(_0x3e1a04,_0xa2c9e0){_0x3e1a04=_0x3e1a04-0x1a6;let _0x48d049=_0x34de47[_0x3e1a04];return _0x48d049;},a0_0x3e1a(_0x4f4277,_0x370585);}function a0_0x34de(){const _0x5e099d=['name','\x0a•\x20💾\x20𝙰𝙻𝙱𝚄𝙼:\x20','\x0a•\x20👨‍🎤\x20𝙰𝚁𝚃𝙸𝚂𝚃𝙰:\x20','5442228aidNHj','trim','\x0a𝚁𝙴𝚂𝚄𝙻𝚃𝙰𝙳𝙾𝚂\x20𝚂𝙷𝙰𝚉𝙰𝙼\x0a\x0a•\x20📌\x20𝚃𝙸𝚃𝚄𝙻𝙾:\x20','identify','./tmp/','test','split','quoted','error','[❗𝐈𝐍𝐅𝐎❗]\x0a\x0aEl\x20archivo\x20es\x20muy\x20grande,\x20recorta\x20a\x2010-20\x20segundos.','map','*[❗𝐈𝐍𝐅𝐎❗]\x20𝚁𝙴𝚂𝙿𝙾𝙽𝙳𝙰\x20𝙰\x20𝚄𝙽\x20𝙰𝚄𝙳𝙸𝙾*','reply','genres','join','\x0a•\x20🌐\x20𝙶𝙴𝙽𝙴𝚁𝙾:\x20','5964200jQxlUB','msg','\x0a•\x20🔗\x20𝙴𝙽𝙻𝙰𝙲𝙴:\x20','\x0a•\x20💿\x20𝙶𝙴𝙽𝙴𝚁𝙾:\x20','https://shazam.p.rapidapi.com/songs/detect','No\x20encontrado','99ZCNAZc','unlinkSync','No\x20se\x20encontró\x20resultado\x20con\x20Shazam.','[❗𝐈𝐍𝐅𝐎❗]\x0aNo\x20se\x20pudo\x20identificar\x20con\x20ACRCloud,\x20intentando\x20con\x20Shazam...','url','7428855wDGQRH','mimetype','command','music','c33c767d683f78bd17d4bd4991955d81','title','base64','1165126aAahMI','8de872d0emshb893427c1833d64p10138jsn93f00555f','identify-eu-west-1.acrcloud.com','shazam.p.rapidapi.com','seconds','status','application/json','subtitle','2424192zgklmo','writeFileSync','8421800yoxqvE','\x0a•\x20📆\x20𝙵𝙴𝙲𝙷𝙰\x20𝙳𝙴\x20𝙻𝙰𝙽𝚉𝙰𝙼𝙸𝙴𝙽𝚃𝙾:\x20','50214gGcnoi','readFileSync'];a0_0x34de=function(){return _0x5e099d;};return a0_0x34de();}