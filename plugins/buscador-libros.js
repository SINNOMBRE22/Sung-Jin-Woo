const a0_0x2e33ac=a0_0x2989;(function(_0x2782bd,_0x5d360e){const _0x19df7f=a0_0x2989,_0x1cc20b=_0x2782bd();while(!![]){try{const _0x36f47b=-parseInt(_0x19df7f(0x149))/0x1*(parseInt(_0x19df7f(0x165))/0x2)+-parseInt(_0x19df7f(0x15d))/0x3*(-parseInt(_0x19df7f(0x14d))/0x4)+parseInt(_0x19df7f(0x16d))/0x5*(-parseInt(_0x19df7f(0x15c))/0x6)+-parseInt(_0x19df7f(0x16e))/0x7+-parseInt(_0x19df7f(0x16f))/0x8+-parseInt(_0x19df7f(0x170))/0x9*(parseInt(_0x19df7f(0x154))/0xa)+-parseInt(_0x19df7f(0x14f))/0xb*(-parseInt(_0x19df7f(0x15a))/0xc);if(_0x36f47b===_0x5d360e)break;else _0x1cc20b['push'](_0x1cc20b['shift']());}catch(_0x406785){_0x1cc20b['push'](_0x1cc20b['shift']());}}}(a0_0x159e,0x7c8ca));import a0_0xcc7358 from'cheerio';let handler=async(_0x28d1a1,{text:_0x4dc4ef,conn:_0x50f97f})=>{const _0x4c0544=a0_0x2989;if(!_0x4dc4ef)return _0x28d1a1['reply'](_0x4c0544(0x14c));let _0x1d07f3=_0x4dc4ef,_0x5edcbb='https://www.gutenberg.org/ebooks/search/?query='+encodeURIComponent(_0x1d07f3);try{let _0x5b6f5c=await fetch(_0x5edcbb,{'headers':{'User-Agent':_0x4c0544(0x163)}});if(!_0x5b6f5c['ok'])return _0x28d1a1[_0x4c0544(0x147)]('Error\x20en\x20la\x20búsqueda:\x20'+_0x5b6f5c['statusText']);let _0x52cdd4=await _0x5b6f5c[_0x4c0544(0x150)](),_0x1c121a=a0_0xcc7358[_0x4c0544(0x157)](_0x52cdd4),_0x3955bc=[];_0x1c121a('li.booklink')[_0x4c0544(0x151)]((_0x36ce96,_0x281834)=>{const _0x5ae916=_0x4c0544;let _0x4523f0=_0x1c121a(_0x281834)[_0x5ae916(0x162)](_0x5ae916(0x159))[_0x5ae916(0x150)]()[_0x5ae916(0x16c)](),_0x314907=_0x1c121a(_0x281834)[_0x5ae916(0x162)]('span.subtitle')[_0x5ae916(0x150)]()[_0x5ae916(0x16c)](),_0x158a14=_0x5ae916(0x14b)+_0x1c121a(_0x281834)[_0x5ae916(0x162)]('a')['attr'](_0x5ae916(0x167));_0x3955bc['push']({'title':_0x4523f0,'author':_0x314907,'link':_0x158a14});});if(_0x3955bc[_0x4c0544(0x14a)]===0x0)return _0x28d1a1[_0x4c0544(0x147)](_0x4c0544(0x168));let _0x54bf81=_0x3955bc[0x0];_0x28d1a1['reply'](_0x4c0544(0x155)+_0x54bf81[_0x4c0544(0x14e)]+(_0x54bf81['author']?_0x4c0544(0x153)+_0x54bf81[_0x4c0544(0x15b)]:'')+'\x0aDescargando...');let _0x3d749f=await fetch(_0x54bf81[_0x4c0544(0x15e)],{'headers':{'User-Agent':_0x4c0544(0x163)}});if(!_0x3d749f['ok'])return _0x28d1a1['reply'](_0x4c0544(0x152)+_0x3d749f[_0x4c0544(0x169)]);let _0x5405a4=await _0x3d749f[_0x4c0544(0x150)](),_0x3e32b8=a0_0xcc7358['load'](_0x5405a4),_0x3c28c1=_0x3e32b8(_0x4c0544(0x156))[_0x4c0544(0x166)]('href');!_0x3c28c1&&(_0x3c28c1=_0x3e32b8('a[href$=\x22.txt\x22]')[_0x4c0544(0x166)](_0x4c0544(0x167)));if(!_0x3c28c1)return _0x28d1a1['reply'](_0x4c0544(0x15f));_0x3c28c1['startsWith']('/')&&(_0x3c28c1=_0x4c0544(0x14b)+_0x3c28c1);let _0x2e838a=await fetch(_0x3c28c1,{'headers':{'User-Agent':_0x4c0544(0x163)}});if(!_0x2e838a['ok'])return _0x28d1a1['reply']('Error\x20al\x20descargar\x20el\x20libro:\x20'+_0x2e838a[_0x4c0544(0x169)]);let _0x34c149=await _0x2e838a[_0x4c0544(0x148)](),_0x1e6301=Buffer[_0x4c0544(0x160)](_0x34c149);await _0x50f97f[_0x4c0544(0x16a)](_0x28d1a1[_0x4c0544(0x158)],_0x1e6301,_0x54bf81[_0x4c0544(0x14e)]+'.txt',_0x4c0544(0x16b)+_0x54bf81[_0x4c0544(0x14e)],_0x28d1a1);}catch(_0x5d1537){console[_0x4c0544(0x146)](_0x5d1537),_0x28d1a1[_0x4c0544(0x147)](_0x4c0544(0x164));}};handler[a0_0x2e33ac(0x161)]=['libro\x20<título>'],handler['tags']=['buscador'],handler['command']=/^libro$/i;function a0_0x2989(_0x2f7061,_0x2b8fbc){const _0x159e42=a0_0x159e();return a0_0x2989=function(_0x29890b,_0x52d757){_0x29890b=_0x29890b-0x146;let _0x31799e=_0x159e42[_0x29890b];return _0x31799e;},a0_0x2989(_0x2f7061,_0x2b8fbc);}function a0_0x159e(){const _0x2a646c=['text','each','Error\x20al\x20obtener\x20la\x20página\x20del\x20libro:\x20','\x20-\x20','100WQGXkA','Encontrado:\x20','a[type=\x22text/plain\x22]','load','chat','span.title','444lJylya','author','3843876kWDTTt','8301JqZJVq','link','No\x20se\x20encontró\x20una\x20versión\x20en\x20texto\x20plano\x20para\x20descargar.','from','help','find','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)','Ocurrió\x20un\x20error\x20al\x20buscar\x20o\x20descargar\x20el\x20libro.\x20Intenta\x20nuevamente.','8602ZzWfxd','attr','href','No\x20se\x20encontraron\x20libros\x20para\x20esa\x20búsqueda.','statusText','sendFile','Aquí\x20tienes\x20el\x20libro:\x20','trim','5yozudZ','2994852IXwxhB','3658880ulRubo','506997MufGNV','error','reply','arrayBuffer','139yTIozP','length','https://www.gutenberg.org','Por\x20favor,\x20ingresa\x20el\x20título\x20o\x20tema\x20del\x20libro\x20a\x20buscar.','1316zEsgSk','title','679866pPYZKJ'];a0_0x159e=function(){return _0x2a646c;};return a0_0x159e();}export default handler;