function a0_0x5331(_0x3a5f08,_0x199d18){const _0x99d39f=a0_0x99d3();return a0_0x5331=function(_0x53312d,_0x8e8997){_0x53312d=_0x53312d-0x90;let _0x39a24e=_0x99d39f[_0x53312d];return _0x39a24e;},a0_0x5331(_0x3a5f08,_0x199d18);}function a0_0x99d3(){const _0x4ed324=['Error\x20al\x20obtener\x20la\x20página\x20del\x20libro:\x20','libro\x20<título>','3MyVWMZ','link','title','trim','\x20-\x20','attr','Ocurrió\x20un\x20error\x20al\x20buscar\x20o\x20descargar\x20el\x20libro.\x20Intenta\x20nuevamente.','error','text','statusText','\x0aDescargando...','543897UspBCy','3174404XwXTYF','368yTkdGq','each','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)','a[type=\x22text/plain\x22]','href','reply','No\x20se\x20encontraron\x20libros\x20para\x20esa\x20búsqueda.','tags','arrayBuffer','2657GzpcvD','1657975MSzGga','push','author','6588048XwPalq','chat','length','startsWith','Por\x20favor,\x20ingresa\x20el\x20título\x20o\x20tema\x20del\x20libro\x20a\x20buscar.','1743112xMGmds','Error\x20al\x20descargar\x20el\x20libro:\x20','find','https://www.gutenberg.org','72708rAUnEf','Encontrado:\x20','buscador','from','li.booklink','sendFile','load','span.title'];a0_0x99d3=function(){return _0x4ed324;};return a0_0x99d3();}const a0_0x3fe144=a0_0x5331;(function(_0x30e58e,_0x43990a){const _0x292040=a0_0x5331,_0x1a7f5e=_0x30e58e();while(!![]){try{const _0xf7a9c8=parseInt(_0x292040(0xb6))/0x1*(parseInt(_0x292040(0xad))/0x2)+parseInt(_0x292040(0xa0))/0x3*(-parseInt(_0x292040(0xac))/0x4)+-parseInt(_0x292040(0xb7))/0x5+-parseInt(_0x292040(0x96))/0x6+parseInt(_0x292040(0x92))/0x7+parseInt(_0x292040(0xba))/0x8+parseInt(_0x292040(0xab))/0x9;if(_0xf7a9c8===_0x43990a)break;else _0x1a7f5e['push'](_0x1a7f5e['shift']());}catch(_0x4e34dc){_0x1a7f5e['push'](_0x1a7f5e['shift']());}}}(a0_0x99d3,0x764b1));import a0_0x4737cb from'cheerio';let handler=async(_0x523b0a,{text:_0x414b0a,conn:_0x50cf43})=>{const _0x3be134=a0_0x5331;if(!_0x414b0a)return _0x523b0a[_0x3be134(0xb2)](_0x3be134(0x91));let _0x5cf7fd=_0x414b0a,_0x1aff47='https://www.gutenberg.org/ebooks/search/?query='+encodeURIComponent(_0x5cf7fd);try{let _0x202a05=await fetch(_0x1aff47,{'headers':{'User-Agent':_0x3be134(0xaf)}});if(!_0x202a05['ok'])return _0x523b0a['reply']('Error\x20en\x20la\x20búsqueda:\x20'+_0x202a05[_0x3be134(0xa9)]);let _0x42b044=await _0x202a05['text'](),_0x17e1b8=a0_0x4737cb[_0x3be134(0x9c)](_0x42b044),_0x4752d7=[];_0x17e1b8(_0x3be134(0x9a))[_0x3be134(0xae)]((_0xb493be,_0x5afa52)=>{const _0x5365e7=_0x3be134;let _0x50076d=_0x17e1b8(_0x5afa52)[_0x5365e7(0x94)](_0x5365e7(0x9d))['text']()[_0x5365e7(0xa3)](),_0x3077d1=_0x17e1b8(_0x5afa52)[_0x5365e7(0x94)]('span.subtitle')[_0x5365e7(0xa8)]()[_0x5365e7(0xa3)](),_0x2dae10='https://www.gutenberg.org'+_0x17e1b8(_0x5afa52)[_0x5365e7(0x94)]('a')[_0x5365e7(0xa5)](_0x5365e7(0xb1));_0x4752d7[_0x5365e7(0xb8)]({'title':_0x50076d,'author':_0x3077d1,'link':_0x2dae10});});if(_0x4752d7[_0x3be134(0xbc)]===0x0)return _0x523b0a['reply'](_0x3be134(0xb3));let _0x35523a=_0x4752d7[0x0];_0x523b0a[_0x3be134(0xb2)](_0x3be134(0x97)+_0x35523a[_0x3be134(0xa2)]+(_0x35523a[_0x3be134(0xb9)]?_0x3be134(0xa4)+_0x35523a[_0x3be134(0xb9)]:'')+_0x3be134(0xaa));let _0x4c06d0=await fetch(_0x35523a[_0x3be134(0xa1)],{'headers':{'User-Agent':_0x3be134(0xaf)}});if(!_0x4c06d0['ok'])return _0x523b0a[_0x3be134(0xb2)](_0x3be134(0x9e)+_0x4c06d0['statusText']);let _0x1c73b4=await _0x4c06d0['text'](),_0x23597b=a0_0x4737cb[_0x3be134(0x9c)](_0x1c73b4),_0x37f840=_0x23597b(_0x3be134(0xb0))[_0x3be134(0xa5)]('href');!_0x37f840&&(_0x37f840=_0x23597b('a[href$=\x22.txt\x22]')[_0x3be134(0xa5)](_0x3be134(0xb1)));if(!_0x37f840)return _0x523b0a[_0x3be134(0xb2)]('No\x20se\x20encontró\x20una\x20versión\x20en\x20texto\x20plano\x20para\x20descargar.');_0x37f840[_0x3be134(0x90)]('/')&&(_0x37f840=_0x3be134(0x95)+_0x37f840);let _0x3254f0=await fetch(_0x37f840,{'headers':{'User-Agent':_0x3be134(0xaf)}});if(!_0x3254f0['ok'])return _0x523b0a[_0x3be134(0xb2)](_0x3be134(0x93)+_0x3254f0[_0x3be134(0xa9)]);let _0x46ab3e=await _0x3254f0[_0x3be134(0xb5)](),_0x366224=Buffer[_0x3be134(0x99)](_0x46ab3e);await _0x50cf43[_0x3be134(0x9b)](_0x523b0a[_0x3be134(0xbb)],_0x366224,_0x35523a[_0x3be134(0xa2)]+'.txt','Aquí\x20tienes\x20el\x20libro:\x20'+_0x35523a[_0x3be134(0xa2)],_0x523b0a);}catch(_0x3cc19f){console[_0x3be134(0xa7)](_0x3cc19f),_0x523b0a['reply'](_0x3be134(0xa6));}};handler['help']=[a0_0x3fe144(0x9f)],handler[a0_0x3fe144(0xb4)]=[a0_0x3fe144(0x98)],handler['command']=/^libro$/i;export default handler;