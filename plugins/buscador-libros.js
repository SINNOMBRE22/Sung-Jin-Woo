const a0_0x4f89a6=a0_0x207f;function a0_0x207f(_0x4a5f4f,_0x72b33d){const _0x1bb3f0=a0_0x1bb3();return a0_0x207f=function(_0x207f4a,_0x1c8806){_0x207f4a=_0x207f4a-0xf1;let _0x51ed0e=_0x1bb3f0[_0x207f4a];return _0x51ed0e;},a0_0x207f(_0x4a5f4f,_0x72b33d);}(function(_0x393dca,_0x333d24){const _0x110c06=a0_0x207f,_0x522b0a=_0x393dca();while(!![]){try{const _0x58979d=parseInt(_0x110c06(0x10f))/0x1+parseInt(_0x110c06(0xfc))/0x2+-parseInt(_0x110c06(0x102))/0x3+parseInt(_0x110c06(0x106))/0x4+parseInt(_0x110c06(0xfb))/0x5+parseInt(_0x110c06(0xf4))/0x6*(parseInt(_0x110c06(0x115))/0x7)+-parseInt(_0x110c06(0x101))/0x8;if(_0x58979d===_0x333d24)break;else _0x522b0a['push'](_0x522b0a['shift']());}catch(_0x16cd07){_0x522b0a['push'](_0x522b0a['shift']());}}}(a0_0x1bb3,0xc6d74));function a0_0x1bb3(){const _0x1bb14a=['Ocurrió\x20un\x20error\x20al\x20buscar\x20o\x20descargar\x20el\x20libro.\x20Intenta\x20nuevamente.','\x20-\x20','a[href$=\x22.txt\x22]','push','sendFile','from','buscador','5973648rFBwKs','startsWith','https://www.gutenberg.org','text','span.subtitle','link','attr','7820990ZTpbDL','2119158JGkOAg','https://www.gutenberg.org/ebooks/search/?query=','arrayBuffer','each','Error\x20al\x20obtener\x20la\x20página\x20del\x20libro:\x20','39556480RCBqQt','1649601eNEUbj','href','chat','trim','6305308RZjdtg','find','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)','.txt','\x0aDescargando...','author','span.title','tags','a[type=\x22text/plain\x22]','1113167YCQmcu','Por\x20favor,\x20ingresa\x20el\x20título\x20o\x20tema\x20del\x20libro\x20a\x20buscar.','Aquí\x20tienes\x20el\x20libro:\x20','title','statusText','Error\x20en\x20la\x20búsqueda:\x20','7lEZpfR','No\x20se\x20encontró\x20una\x20versión\x20en\x20texto\x20plano\x20para\x20descargar.','reply','Encontrado:\x20'];a0_0x1bb3=function(){return _0x1bb14a;};return a0_0x1bb3();}import a0_0x4891b1 from'cheerio';let handler=async(_0xf981ea,{text:_0x4045b2,conn:_0x4552fd})=>{const _0x45971e=a0_0x207f;if(!_0x4045b2)return _0xf981ea['reply'](_0x45971e(0x110));let _0x4082f7=_0x4045b2,_0x5c44df=_0x45971e(0xfd)+encodeURIComponent(_0x4082f7);try{let _0x5d26e5=await fetch(_0x5c44df,{'headers':{'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)'}});if(!_0x5d26e5['ok'])return _0xf981ea[_0x45971e(0x117)](_0x45971e(0x114)+_0x5d26e5[_0x45971e(0x113)]);let _0xe82fa1=await _0x5d26e5[_0x45971e(0xf7)](),_0x3ebba4=a0_0x4891b1['load'](_0xe82fa1),_0xca9702=[];_0x3ebba4('li.booklink')[_0x45971e(0xff)]((_0x500a4a,_0x23a59d)=>{const _0x2a848b=_0x45971e;let _0x4e8cb0=_0x3ebba4(_0x23a59d)[_0x2a848b(0x107)](_0x2a848b(0x10c))[_0x2a848b(0xf7)]()[_0x2a848b(0x105)](),_0x129b30=_0x3ebba4(_0x23a59d)[_0x2a848b(0x107)](_0x2a848b(0xf8))[_0x2a848b(0xf7)]()[_0x2a848b(0x105)](),_0x4c6c25=_0x2a848b(0xf6)+_0x3ebba4(_0x23a59d)['find']('a')[_0x2a848b(0xfa)](_0x2a848b(0x103));_0xca9702[_0x2a848b(0x11c)]({'title':_0x4e8cb0,'author':_0x129b30,'link':_0x4c6c25});});if(_0xca9702['length']===0x0)return _0xf981ea[_0x45971e(0x117)]('No\x20se\x20encontraron\x20libros\x20para\x20esa\x20búsqueda.');let _0x4c73a6=_0xca9702[0x0];_0xf981ea[_0x45971e(0x117)](_0x45971e(0x118)+_0x4c73a6[_0x45971e(0x112)]+(_0x4c73a6[_0x45971e(0x10b)]?_0x45971e(0x11a)+_0x4c73a6['author']:'')+_0x45971e(0x10a));let _0x396098=await fetch(_0x4c73a6[_0x45971e(0xf9)],{'headers':{'User-Agent':_0x45971e(0x108)}});if(!_0x396098['ok'])return _0xf981ea[_0x45971e(0x117)](_0x45971e(0x100)+_0x396098[_0x45971e(0x113)]);let _0x1152a2=await _0x396098[_0x45971e(0xf7)](),_0xcbbe6c=a0_0x4891b1['load'](_0x1152a2),_0x169c1f=_0xcbbe6c(_0x45971e(0x10e))[_0x45971e(0xfa)](_0x45971e(0x103));!_0x169c1f&&(_0x169c1f=_0xcbbe6c(_0x45971e(0x11b))[_0x45971e(0xfa)](_0x45971e(0x103)));if(!_0x169c1f)return _0xf981ea[_0x45971e(0x117)](_0x45971e(0x116));_0x169c1f[_0x45971e(0xf5)]('/')&&(_0x169c1f='https://www.gutenberg.org'+_0x169c1f);let _0x2fb263=await fetch(_0x169c1f,{'headers':{'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)'}});if(!_0x2fb263['ok'])return _0xf981ea['reply']('Error\x20al\x20descargar\x20el\x20libro:\x20'+_0x2fb263['statusText']);let _0x1141b1=await _0x2fb263[_0x45971e(0xfe)](),_0x3d598c=Buffer[_0x45971e(0xf2)](_0x1141b1);await _0x4552fd[_0x45971e(0xf1)](_0xf981ea[_0x45971e(0x104)],_0x3d598c,_0x4c73a6[_0x45971e(0x112)]+_0x45971e(0x109),_0x45971e(0x111)+_0x4c73a6[_0x45971e(0x112)],_0xf981ea);}catch(_0x535ff9){console['error'](_0x535ff9),_0xf981ea['reply'](_0x45971e(0x119));}};handler['help']=['libro\x20<título>'],handler[a0_0x4f89a6(0x10d)]=[a0_0x4f89a6(0xf3)],handler['command']=/^libro$/i;export default handler;