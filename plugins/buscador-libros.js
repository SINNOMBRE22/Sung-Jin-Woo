const a0_0x167fdb=a0_0x4a13;(function(_0xd5dbc1,_0x2cbfd3){const _0x1f55de=a0_0x4a13,_0xbef090=_0xd5dbc1();while(!![]){try{const _0x3095bd=-parseInt(_0x1f55de(0x11f))/0x1*(parseInt(_0x1f55de(0x123))/0x2)+parseInt(_0x1f55de(0x136))/0x3*(parseInt(_0x1f55de(0x11d))/0x4)+parseInt(_0x1f55de(0x12f))/0x5+-parseInt(_0x1f55de(0x118))/0x6+parseInt(_0x1f55de(0x13a))/0x7*(parseInt(_0x1f55de(0x12d))/0x8)+-parseInt(_0x1f55de(0x12e))/0x9+-parseInt(_0x1f55de(0x133))/0xa;if(_0x3095bd===_0x2cbfd3)break;else _0xbef090['push'](_0xbef090['shift']());}catch(_0x1a26b0){_0xbef090['push'](_0xbef090['shift']());}}}(a0_0x1141,0x23fc3));import a0_0x7095db from'cheerio';let handler=async(_0x318091,{text:_0x351d6c,conn:_0x1f8f0e})=>{const _0x577e40=a0_0x4a13;if(!_0x351d6c)return _0x318091['reply']('Por\x20favor,\x20ingresa\x20el\x20título\x20o\x20tema\x20del\x20libro\x20a\x20buscar.');let _0x1b160f=_0x351d6c,_0x316462=_0x577e40(0x122)+encodeURIComponent(_0x1b160f);try{let _0x4f26a3=await fetch(_0x316462,{'headers':{'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)'}});if(!_0x4f26a3['ok'])return _0x318091[_0x577e40(0x131)](_0x577e40(0x130)+_0x4f26a3[_0x577e40(0x135)]);let _0x5946ce=await _0x4f26a3[_0x577e40(0x132)](),_0x124750=a0_0x7095db[_0x577e40(0x12a)](_0x5946ce),_0x5078eb=[];_0x124750(_0x577e40(0x119))[_0x577e40(0x12c)]((_0x5666c6,_0x4fa598)=>{const _0x3f0112=_0x577e40;let _0x3118e6=_0x124750(_0x4fa598)['find'](_0x3f0112(0x117))[_0x3f0112(0x132)]()[_0x3f0112(0x124)](),_0x192925=_0x124750(_0x4fa598)[_0x3f0112(0x13f)](_0x3f0112(0x142))[_0x3f0112(0x132)]()[_0x3f0112(0x124)](),_0x2003a9=_0x3f0112(0x143)+_0x124750(_0x4fa598)[_0x3f0112(0x13f)]('a')[_0x3f0112(0x13c)]('href');_0x5078eb['push']({'title':_0x3118e6,'author':_0x192925,'link':_0x2003a9});});if(_0x5078eb[_0x577e40(0x116)]===0x0)return _0x318091[_0x577e40(0x131)](_0x577e40(0x128));let _0x5a7237=_0x5078eb[0x0];_0x318091['reply'](_0x577e40(0x125)+_0x5a7237['title']+(_0x5a7237[_0x577e40(0x137)]?_0x577e40(0x144)+_0x5a7237['author']:'')+'\x0aDescargando...');let _0xfe3381=await fetch(_0x5a7237[_0x577e40(0x13d)],{'headers':{'User-Agent':_0x577e40(0x134)}});if(!_0xfe3381['ok'])return _0x318091[_0x577e40(0x131)](_0x577e40(0x126)+_0xfe3381[_0x577e40(0x135)]);let _0x6c7892=await _0xfe3381[_0x577e40(0x132)](),_0x396226=a0_0x7095db[_0x577e40(0x12a)](_0x6c7892),_0x29fc85=_0x396226(_0x577e40(0x11c))['attr'](_0x577e40(0x141));!_0x29fc85&&(_0x29fc85=_0x396226('a[href$=\x22.txt\x22]')['attr']('href'));if(!_0x29fc85)return _0x318091[_0x577e40(0x131)](_0x577e40(0x12b));_0x29fc85['startsWith']('/')&&(_0x29fc85=_0x577e40(0x143)+_0x29fc85);let _0x51b156=await fetch(_0x29fc85,{'headers':{'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)'}});if(!_0x51b156['ok'])return _0x318091[_0x577e40(0x131)](_0x577e40(0x114)+_0x51b156[_0x577e40(0x135)]);let _0x1974e1=await _0x51b156[_0x577e40(0x13b)](),_0x4e9545=Buffer[_0x577e40(0x121)](_0x1974e1);await _0x1f8f0e[_0x577e40(0x11a)](_0x318091[_0x577e40(0x11e)],_0x4e9545,_0x5a7237[_0x577e40(0x139)]+_0x577e40(0x127),_0x577e40(0x129)+_0x5a7237[_0x577e40(0x139)],_0x318091);}catch(_0x4d408b){console['error'](_0x4d408b),_0x318091[_0x577e40(0x131)](_0x577e40(0x138));}};function a0_0x4a13(_0x1c8be4,_0x1126da){const _0x1141c9=a0_0x1141();return a0_0x4a13=function(_0x4a1347,_0x337db6){_0x4a1347=_0x4a1347-0x114;let _0x1848c5=_0x1141c9[_0x4a1347];return _0x1848c5;},a0_0x4a13(_0x1c8be4,_0x1126da);}handler[a0_0x167fdb(0x13e)]=[a0_0x167fdb(0x140)],handler[a0_0x167fdb(0x11b)]=[a0_0x167fdb(0x120)],handler[a0_0x167fdb(0x115)]=/^libro$/i;function a0_0x1141(){const _0x4accc9=['command','length','span.title','213870xhWOaf','li.booklink','sendFile','tags','a[type=\x22text/plain\x22]','355252nQZpog','chat','14767demfxO','buscador','from','https://www.gutenberg.org/ebooks/search/?query=','8FpwRHy','trim','Encontrado:\x20','Error\x20al\x20obtener\x20la\x20página\x20del\x20libro:\x20','.txt','No\x20se\x20encontraron\x20libros\x20para\x20esa\x20búsqueda.','Aquí\x20tienes\x20el\x20libro:\x20','load','No\x20se\x20encontró\x20una\x20versión\x20en\x20texto\x20plano\x20para\x20descargar.','each','8JDkCju','2126934EdWPPo','335120mQjBqV','Error\x20en\x20la\x20búsqueda:\x20','reply','text','1850xLKOjc','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)','statusText','9hwbqQX','author','Ocurrió\x20un\x20error\x20al\x20buscar\x20o\x20descargar\x20el\x20libro.\x20Intenta\x20nuevamente.','title','1016092sKFFkd','arrayBuffer','attr','link','help','find','libro\x20<título>','href','span.subtitle','https://www.gutenberg.org','\x20-\x20','Error\x20al\x20descargar\x20el\x20libro:\x20'];a0_0x1141=function(){return _0x4accc9;};return a0_0x1141();}export default handler;