const a0_0x4087b9=a0_0x3654;(function(_0x5d3bc8,_0x5d35a7){const _0x3d148e=a0_0x3654,_0xf9e84f=_0x5d3bc8();while(!![]){try{const _0x1a9955=parseInt(_0x3d148e(0x81))/0x1+parseInt(_0x3d148e(0x94))/0x2+parseInt(_0x3d148e(0x9d))/0x3+parseInt(_0x3d148e(0x7b))/0x4*(parseInt(_0x3d148e(0x80))/0x5)+parseInt(_0x3d148e(0x8c))/0x6*(-parseInt(_0x3d148e(0x85))/0x7)+parseInt(_0x3d148e(0x74))/0x8+parseInt(_0x3d148e(0x97))/0x9*(-parseInt(_0x3d148e(0x86))/0xa);if(_0x1a9955===_0x5d35a7)break;else _0xf9e84f['push'](_0xf9e84f['shift']());}catch(_0x2ac756){_0xf9e84f['push'](_0xf9e84f['shift']());}}}(a0_0x47f4,0xe4468));import a0_0x2458fb from'cheerio';let handler=async(_0x1e8f78,{text:_0xf35ad7,conn:_0xebc239})=>{const _0x1a5f07=a0_0x3654;if(!_0xf35ad7)return _0x1e8f78[_0x1a5f07(0x8f)](_0x1a5f07(0x8d));let _0x1c077d=_0xf35ad7,_0x32839f=_0x1a5f07(0x76)+encodeURIComponent(_0x1c077d);try{let _0x2bf027=await fetch(_0x32839f,{'headers':{'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)'}});if(!_0x2bf027['ok'])return _0x1e8f78['reply'](_0x1a5f07(0x98)+_0x2bf027[_0x1a5f07(0x8a)]);let _0x14db14=await _0x2bf027[_0x1a5f07(0x7f)](),_0x54f796=a0_0x2458fb['load'](_0x14db14),_0x5bb574=[];_0x54f796(_0x1a5f07(0x78))['each']((_0x5ed2a8,_0xa89bcc)=>{const _0x23d720=_0x1a5f07;let _0x29cc49=_0x54f796(_0xa89bcc)[_0x23d720(0x9f)](_0x23d720(0x84))[_0x23d720(0x7f)]()[_0x23d720(0x92)](),_0x151447=_0x54f796(_0xa89bcc)[_0x23d720(0x9f)](_0x23d720(0x79))[_0x23d720(0x7f)]()[_0x23d720(0x92)](),_0x5c9bce=_0x23d720(0x9c)+_0x54f796(_0xa89bcc)[_0x23d720(0x9f)]('a')[_0x23d720(0x90)](_0x23d720(0x9e));_0x5bb574[_0x23d720(0x9b)]({'title':_0x29cc49,'author':_0x151447,'link':_0x5c9bce});});if(_0x5bb574[_0x1a5f07(0x95)]===0x0)return _0x1e8f78[_0x1a5f07(0x8f)](_0x1a5f07(0x96));let _0x1c4461=_0x5bb574[0x0];_0x1e8f78['reply'](_0x1a5f07(0x75)+_0x1c4461['title']+(_0x1c4461[_0x1a5f07(0x73)]?'\x20-\x20'+_0x1c4461[_0x1a5f07(0x73)]:'')+'\x0aDescargando...');let _0x3a5ecc=await fetch(_0x1c4461[_0x1a5f07(0x93)],{'headers':{'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)'}});if(!_0x3a5ecc['ok'])return _0x1e8f78[_0x1a5f07(0x8f)]('Error\x20al\x20obtener\x20la\x20página\x20del\x20libro:\x20'+_0x3a5ecc[_0x1a5f07(0x8a)]);let _0x3b223b=await _0x3a5ecc[_0x1a5f07(0x7f)](),_0x2d8a1b=a0_0x2458fb['load'](_0x3b223b),_0x31eb75=_0x2d8a1b(_0x1a5f07(0x87))[_0x1a5f07(0x90)]('href');!_0x31eb75&&(_0x31eb75=_0x2d8a1b(_0x1a5f07(0x77))['attr']('href'));if(!_0x31eb75)return _0x1e8f78[_0x1a5f07(0x8f)](_0x1a5f07(0x7e));_0x31eb75[_0x1a5f07(0x8b)]('/')&&(_0x31eb75='https://www.gutenberg.org'+_0x31eb75);let _0x39b011=await fetch(_0x31eb75,{'headers':{'User-Agent':_0x1a5f07(0x83)}});if(!_0x39b011['ok'])return _0x1e8f78[_0x1a5f07(0x8f)]('Error\x20al\x20descargar\x20el\x20libro:\x20'+_0x39b011['statusText']);let _0x59cd85=await _0x39b011[_0x1a5f07(0x91)](),_0x2372ba=Buffer[_0x1a5f07(0xa1)](_0x59cd85);await _0xebc239[_0x1a5f07(0x88)](_0x1e8f78[_0x1a5f07(0x99)],_0x2372ba,_0x1c4461['title']+_0x1a5f07(0x89),_0x1a5f07(0x82)+_0x1c4461[_0x1a5f07(0xa0)],_0x1e8f78);}catch(_0x2b5b55){console[_0x1a5f07(0x7d)](_0x2b5b55),_0x1e8f78[_0x1a5f07(0x8f)](_0x1a5f07(0x7a));}};handler[a0_0x4087b9(0x9a)]=[a0_0x4087b9(0x7c)],handler['tags']=[a0_0x4087b9(0x8e)],handler['command']=/^libro$/i;function a0_0x3654(_0x277a0e,_0x565cb3){const _0x47f48b=a0_0x47f4();return a0_0x3654=function(_0x3654f7,_0xd98f54){_0x3654f7=_0x3654f7-0x73;let _0x1fdf03=_0x47f48b[_0x3654f7];return _0x1fdf03;},a0_0x3654(_0x277a0e,_0x565cb3);}function a0_0x47f4(){const _0x5241ce=['help','push','https://www.gutenberg.org','3960846kfyVSq','href','find','title','from','author','13684104bPbioE','Encontrado:\x20','https://www.gutenberg.org/ebooks/search/?query=','a[href$=\x22.txt\x22]','li.booklink','span.subtitle','Ocurrió\x20un\x20error\x20al\x20buscar\x20o\x20descargar\x20el\x20libro.\x20Intenta\x20nuevamente.','1543096PHleDx','libro\x20<título>','error','No\x20se\x20encontró\x20una\x20versión\x20en\x20texto\x20plano\x20para\x20descargar.','text','5FGXBTJ','1601122OfBgIn','Aquí\x20tienes\x20el\x20libro:\x20','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)','span.title','2014026SrKyzF','24020PEMWsj','a[type=\x22text/plain\x22]','sendFile','.txt','statusText','startsWith','12ldKPBw','Por\x20favor,\x20ingresa\x20el\x20título\x20o\x20tema\x20del\x20libro\x20a\x20buscar.','buscador','reply','attr','arrayBuffer','trim','link','2924998ZLZzqW','length','No\x20se\x20encontraron\x20libros\x20para\x20esa\x20búsqueda.','18621clihNW','Error\x20en\x20la\x20búsqueda:\x20','chat'];a0_0x47f4=function(){return _0x5241ce;};return a0_0x47f4();}export default handler;