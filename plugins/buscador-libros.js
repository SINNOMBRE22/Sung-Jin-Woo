function a0_0x3775(_0x56e8d8,_0x5d291d){const _0x51b1fa=a0_0x51b1();return a0_0x3775=function(_0x377527,_0x453048){_0x377527=_0x377527-0xec;let _0x5cd63f=_0x51b1fa[_0x377527];return _0x5cd63f;},a0_0x3775(_0x56e8d8,_0x5d291d);}const a0_0x264ebb=a0_0x3775;(function(_0x4222b8,_0x1e72b7){const _0x5c55e0=a0_0x3775,_0x244a25=_0x4222b8();while(!![]){try{const _0x45c588=-parseInt(_0x5c55e0(0xf4))/0x1*(-parseInt(_0x5c55e0(0xf0))/0x2)+-parseInt(_0x5c55e0(0x10d))/0x3+-parseInt(_0x5c55e0(0x10f))/0x4*(-parseInt(_0x5c55e0(0xf1))/0x5)+parseInt(_0x5c55e0(0x108))/0x6+-parseInt(_0x5c55e0(0x114))/0x7*(parseInt(_0x5c55e0(0x112))/0x8)+-parseInt(_0x5c55e0(0xf7))/0x9+parseInt(_0x5c55e0(0xf3))/0xa*(parseInt(_0x5c55e0(0xf8))/0xb);if(_0x45c588===_0x1e72b7)break;else _0x244a25['push'](_0x244a25['shift']());}catch(_0x172e34){_0x244a25['push'](_0x244a25['shift']());}}}(a0_0x51b1,0x49147));import a0_0x84cc60 from'cheerio';let handler=async(_0x53d251,{text:_0x4d1fbd,conn:_0x13cd2e})=>{const _0x5e16b0=a0_0x3775;if(!_0x4d1fbd)return _0x53d251[_0x5e16b0(0x116)]('Por\x20favor,\x20ingresa\x20el\x20título\x20o\x20tema\x20del\x20libro\x20a\x20buscar.');let _0x5acf95=_0x4d1fbd,_0x11f82e=_0x5e16b0(0x105)+encodeURIComponent(_0x5acf95);try{let _0x5f0428=await fetch(_0x11f82e,{'headers':{'User-Agent':_0x5e16b0(0xef)}});if(!_0x5f0428['ok'])return _0x53d251['reply'](_0x5e16b0(0xfb)+_0x5f0428[_0x5e16b0(0x104)]);let _0x2d29ba=await _0x5f0428['text'](),_0x1527e2=a0_0x84cc60[_0x5e16b0(0xed)](_0x2d29ba),_0x410ed4=[];_0x1527e2(_0x5e16b0(0x113))['each']((_0x4260ae,_0x718717)=>{const _0x3f2b9a=_0x5e16b0;let _0x252258=_0x1527e2(_0x718717)['find'](_0x3f2b9a(0x10e))[_0x3f2b9a(0x102)]()[_0x3f2b9a(0x117)](),_0x1642ef=_0x1527e2(_0x718717)[_0x3f2b9a(0x10b)](_0x3f2b9a(0xf6))[_0x3f2b9a(0x102)]()[_0x3f2b9a(0x117)](),_0x1e8173='https://www.gutenberg.org'+_0x1527e2(_0x718717)[_0x3f2b9a(0x10b)]('a')['attr'](_0x3f2b9a(0x109));_0x410ed4[_0x3f2b9a(0xf9)]({'title':_0x252258,'author':_0x1642ef,'link':_0x1e8173});});if(_0x410ed4[_0x5e16b0(0x111)]===0x0)return _0x53d251[_0x5e16b0(0x116)](_0x5e16b0(0x11c));let _0x5c38a2=_0x410ed4[0x0];_0x53d251['reply'](_0x5e16b0(0xf2)+_0x5c38a2[_0x5e16b0(0x101)]+(_0x5c38a2[_0x5e16b0(0x11d)]?_0x5e16b0(0xfa)+_0x5c38a2['author']:'')+'\x0aDescargando...');let _0x1c66af=await fetch(_0x5c38a2[_0x5e16b0(0x110)],{'headers':{'User-Agent':_0x5e16b0(0xef)}});if(!_0x1c66af['ok'])return _0x53d251[_0x5e16b0(0x116)](_0x5e16b0(0x11b)+_0x1c66af[_0x5e16b0(0x104)]);let _0x258c74=await _0x1c66af[_0x5e16b0(0x102)](),_0x2742ee=a0_0x84cc60['load'](_0x258c74),_0x1997f2=_0x2742ee('a[type=\x22text/plain\x22]')[_0x5e16b0(0x10c)](_0x5e16b0(0x109));!_0x1997f2&&(_0x1997f2=_0x2742ee(_0x5e16b0(0xec))[_0x5e16b0(0x10c)](_0x5e16b0(0x109)));if(!_0x1997f2)return _0x53d251['reply'](_0x5e16b0(0x118));_0x1997f2[_0x5e16b0(0xfc)]('/')&&(_0x1997f2=_0x5e16b0(0x115)+_0x1997f2);let _0x7b8974=await fetch(_0x1997f2,{'headers':{'User-Agent':_0x5e16b0(0xef)}});if(!_0x7b8974['ok'])return _0x53d251[_0x5e16b0(0x116)](_0x5e16b0(0xfe)+_0x7b8974[_0x5e16b0(0x104)]);let _0x250fd8=await _0x7b8974[_0x5e16b0(0x100)](),_0x34621d=Buffer[_0x5e16b0(0x106)](_0x250fd8);await _0x13cd2e['sendFile'](_0x53d251[_0x5e16b0(0x11a)],_0x34621d,_0x5c38a2[_0x5e16b0(0x101)]+_0x5e16b0(0x103),_0x5e16b0(0x10a)+_0x5c38a2['title'],_0x53d251);}catch(_0x21a432){console[_0x5e16b0(0x119)](_0x21a432),_0x53d251[_0x5e16b0(0x116)](_0x5e16b0(0x107));}};function a0_0x51b1(){const _0x197344=['from','Ocurrió\x20un\x20error\x20al\x20buscar\x20o\x20descargar\x20el\x20libro.\x20Intenta\x20nuevamente.','1331544kiWtjQ','href','Aquí\x20tienes\x20el\x20libro:\x20','find','attr','1076577qhjCNb','span.title','40vyoMLb','link','length','3383672YghhBN','li.booklink','7ipulYY','https://www.gutenberg.org','reply','trim','No\x20se\x20encontró\x20una\x20versión\x20en\x20texto\x20plano\x20para\x20descargar.','error','chat','Error\x20al\x20obtener\x20la\x20página\x20del\x20libro:\x20','No\x20se\x20encontraron\x20libros\x20para\x20esa\x20búsqueda.','author','a[href$=\x22.txt\x22]','load','help','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)','2tmpZiF','2440KlkNVw','Encontrado:\x20','3970JzJeRg','303883lQsKtf','command','span.subtitle','1884528FapOVR','21054fymsuS','push','\x20-\x20','Error\x20en\x20la\x20búsqueda:\x20','startsWith','libro\x20<título>','Error\x20al\x20descargar\x20el\x20libro:\x20','buscador','arrayBuffer','title','text','.txt','statusText','https://www.gutenberg.org/ebooks/search/?query='];a0_0x51b1=function(){return _0x197344;};return a0_0x51b1();}handler[a0_0x264ebb(0xee)]=[a0_0x264ebb(0xfd)],handler['tags']=[a0_0x264ebb(0xff)],handler[a0_0x264ebb(0xf5)]=/^libro$/i;export default handler;