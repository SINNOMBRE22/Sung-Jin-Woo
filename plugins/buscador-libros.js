const a0_0xfdd85c=a0_0xdb81;(function(_0x41959e,_0x4e7ddd){const _0x273f60=a0_0xdb81,_0x36f558=_0x41959e();while(!![]){try{const _0x4dfe0a=parseInt(_0x273f60(0x138))/0x1+-parseInt(_0x273f60(0x13e))/0x2+parseInt(_0x273f60(0x135))/0x3*(parseInt(_0x273f60(0x117))/0x4)+-parseInt(_0x273f60(0x124))/0x5+parseInt(_0x273f60(0x13b))/0x6+parseInt(_0x273f60(0x11d))/0x7+-parseInt(_0x273f60(0x113))/0x8;if(_0x4dfe0a===_0x4e7ddd)break;else _0x36f558['push'](_0x36f558['shift']());}catch(_0x37172d){_0x36f558['push'](_0x36f558['shift']());}}}(a0_0x403a,0xa456f));function a0_0xdb81(_0x224f18,_0x379491){const _0x403ac8=a0_0x403a();return a0_0xdb81=function(_0xdb81e4,_0x49f00c){_0xdb81e4=_0xdb81e4-0x113;let _0x138ad7=_0x403ac8[_0xdb81e4];return _0x138ad7;},a0_0xdb81(_0x224f18,_0x379491);}import a0_0x297dd1 from'cheerio';let handler=async(_0x30a2a3,{text:_0x24b04d,conn:_0x3a224c})=>{const _0x590649=a0_0xdb81;if(!_0x24b04d)return _0x30a2a3[_0x590649(0x11e)](_0x590649(0x115));let _0x3a4d18=_0x24b04d,_0x2b1fa3=_0x590649(0x12e)+encodeURIComponent(_0x3a4d18);try{let _0xe9b089=await fetch(_0x2b1fa3,{'headers':{'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)'}});if(!_0xe9b089['ok'])return _0x30a2a3[_0x590649(0x11e)](_0x590649(0x11c)+_0xe9b089[_0x590649(0x133)]);let _0x593bc0=await _0xe9b089[_0x590649(0x12a)](),_0x5cc41a=a0_0x297dd1[_0x590649(0x11a)](_0x593bc0),_0x2950e4=[];_0x5cc41a('li.booklink')[_0x590649(0x123)]((_0xc50cd7,_0x37f882)=>{const _0xb10ca7=_0x590649;let _0x33fa42=_0x5cc41a(_0x37f882)['find'](_0xb10ca7(0x114))['text']()[_0xb10ca7(0x13a)](),_0x3a1e18=_0x5cc41a(_0x37f882)[_0xb10ca7(0x12d)](_0xb10ca7(0x139))[_0xb10ca7(0x12a)]()[_0xb10ca7(0x13a)](),_0x235e50='https://www.gutenberg.org'+_0x5cc41a(_0x37f882)[_0xb10ca7(0x12d)]('a')[_0xb10ca7(0x120)](_0xb10ca7(0x118));_0x2950e4[_0xb10ca7(0x11f)]({'title':_0x33fa42,'author':_0x3a1e18,'link':_0x235e50});});if(_0x2950e4[_0x590649(0x129)]===0x0)return _0x30a2a3['reply'](_0x590649(0x12b));let _0x143555=_0x2950e4[0x0];_0x30a2a3[_0x590649(0x11e)](_0x590649(0x131)+_0x143555[_0x590649(0x13d)]+(_0x143555[_0x590649(0x12f)]?'\x20-\x20'+_0x143555[_0x590649(0x12f)]:'')+_0x590649(0x125));let _0x1ddda1=await fetch(_0x143555[_0x590649(0x128)],{'headers':{'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)'}});if(!_0x1ddda1['ok'])return _0x30a2a3['reply'](_0x590649(0x11b)+_0x1ddda1[_0x590649(0x133)]);let _0x33671c=await _0x1ddda1['text'](),_0x27fd95=a0_0x297dd1[_0x590649(0x11a)](_0x33671c),_0x19cea1=_0x27fd95(_0x590649(0x119))[_0x590649(0x120)](_0x590649(0x118));!_0x19cea1&&(_0x19cea1=_0x27fd95(_0x590649(0x132))[_0x590649(0x120)]('href'));if(!_0x19cea1)return _0x30a2a3[_0x590649(0x11e)]('No\x20se\x20encontró\x20una\x20versión\x20en\x20texto\x20plano\x20para\x20descargar.');_0x19cea1[_0x590649(0x136)]('/')&&(_0x19cea1='https://www.gutenberg.org'+_0x19cea1);let _0x353bf3=await fetch(_0x19cea1,{'headers':{'User-Agent':_0x590649(0x127)}});if(!_0x353bf3['ok'])return _0x30a2a3[_0x590649(0x11e)](_0x590649(0x116)+_0x353bf3['statusText']);let _0x3077d4=await _0x353bf3[_0x590649(0x121)](),_0x3ac716=Buffer[_0x590649(0x13c)](_0x3077d4);await _0x3a224c[_0x590649(0x126)](_0x30a2a3[_0x590649(0x13f)],_0x3ac716,_0x143555[_0x590649(0x13d)]+'.txt','Aquí\x20tienes\x20el\x20libro:\x20'+_0x143555[_0x590649(0x13d)],_0x30a2a3);}catch(_0x608a16){console[_0x590649(0x12c)](_0x608a16),_0x30a2a3[_0x590649(0x11e)]('Ocurrió\x20un\x20error\x20al\x20buscar\x20o\x20descargar\x20el\x20libro.\x20Intenta\x20nuevamente.');}};function a0_0x403a(){const _0x1b0cb2=['reply','push','attr','arrayBuffer','buscador','each','5621105LGgEOJ','\x0aDescargando...','sendFile','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)','link','length','text','No\x20se\x20encontraron\x20libros\x20para\x20esa\x20búsqueda.','error','find','https://www.gutenberg.org/ebooks/search/?query=','author','help','Encontrado:\x20','a[href$=\x22.txt\x22]','statusText','command','98157tNwZcM','startsWith','libro\x20<título>','1305462QVaBsu','span.subtitle','trim','4178862PgwsqD','from','title','273982GcVaCs','chat','12936704UCrtIJ','span.title','Por\x20favor,\x20ingresa\x20el\x20título\x20o\x20tema\x20del\x20libro\x20a\x20buscar.','Error\x20al\x20descargar\x20el\x20libro:\x20','36BOalKc','href','a[type=\x22text/plain\x22]','load','Error\x20al\x20obtener\x20la\x20página\x20del\x20libro:\x20','Error\x20en\x20la\x20búsqueda:\x20','8785175AbvzbP'];a0_0x403a=function(){return _0x1b0cb2;};return a0_0x403a();}handler[a0_0xfdd85c(0x130)]=[a0_0xfdd85c(0x137)],handler['tags']=[a0_0xfdd85c(0x122)],handler[a0_0xfdd85c(0x134)]=/^libro$/i;export default handler;