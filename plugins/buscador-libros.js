const a0_0x6675ad=a0_0x51e7;function a0_0xff60(){const _0x51bc22=['href','Error\x20en\x20la\x20búsqueda:\x20','text','sendFile','statusText','span.title','startsWith','Encontrado:\x20','Aquí\x20tienes\x20el\x20libro:\x20','Por\x20favor,\x20ingresa\x20el\x20título\x20o\x20tema\x20del\x20libro\x20a\x20buscar.','title','length','\x0aDescargando...','9159057SKSoFd','buscador','help','No\x20se\x20encontró\x20una\x20versión\x20en\x20texto\x20plano\x20para\x20descargar.','tags','push','trim','author','link','7ykueCw','command','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)','603310oNVOdn','li.booklink','error','arrayBuffer','6737946RVZmZu','load','chat','130JRvWxU','5313760NIPMXT','find','reply','107437DZITCw','Error\x20al\x20obtener\x20la\x20página\x20del\x20libro:\x20','attr','from','span.subtitle','2HSNFmo','a[href$=\x22.txt\x22]','https://www.gutenberg.org','https://www.gutenberg.org/ebooks/search/?query=','8PDwxWj','.txt','Error\x20al\x20descargar\x20el\x20libro:\x20','5060919RrcGDN','101240EGJxpN','\x20-\x20'];a0_0xff60=function(){return _0x51bc22;};return a0_0xff60();}(function(_0x2503f4,_0x2e108a){const _0x437951=a0_0x51e7,_0x194013=_0x2503f4();while(!![]){try{const _0x1d7512=parseInt(_0x437951(0x140))/0x1+parseInt(_0x437951(0x138))/0x2*(-parseInt(_0x437951(0x13f))/0x3)+parseInt(_0x437951(0x13c))/0x4*(-parseInt(_0x437951(0x128))/0x5)+parseInt(_0x437951(0x12c))/0x6+parseInt(_0x437951(0x125))/0x7*(parseInt(_0x437951(0x130))/0x8)+parseInt(_0x437951(0x11c))/0x9+parseInt(_0x437951(0x12f))/0xa*(-parseInt(_0x437951(0x133))/0xb);if(_0x1d7512===_0x2e108a)break;else _0x194013['push'](_0x194013['shift']());}catch(_0x1f4f9e){_0x194013['push'](_0x194013['shift']());}}}(a0_0xff60,0xcfba8));import a0_0x321a8f from'cheerio';let handler=async(_0x3b5106,{text:_0x515e7c,conn:_0x250054})=>{const _0x4fddc1=a0_0x51e7;if(!_0x515e7c)return _0x3b5106[_0x4fddc1(0x132)](_0x4fddc1(0x14b));let _0x4c9c18=_0x515e7c,_0x57934a=_0x4fddc1(0x13b)+encodeURIComponent(_0x4c9c18);try{let _0x1fd840=await fetch(_0x57934a,{'headers':{'User-Agent':_0x4fddc1(0x127)}});if(!_0x1fd840['ok'])return _0x3b5106[_0x4fddc1(0x132)](_0x4fddc1(0x143)+_0x1fd840[_0x4fddc1(0x146)]);let _0x426998=await _0x1fd840['text'](),_0x4b14ee=a0_0x321a8f[_0x4fddc1(0x12d)](_0x426998),_0x2f4ddb=[];_0x4b14ee(_0x4fddc1(0x129))['each']((_0x3ef3e4,_0x4b2ef2)=>{const _0x250a8d=_0x4fddc1;let _0x1e4a67=_0x4b14ee(_0x4b2ef2)[_0x250a8d(0x131)](_0x250a8d(0x147))['text']()[_0x250a8d(0x122)](),_0x2717fb=_0x4b14ee(_0x4b2ef2)['find'](_0x250a8d(0x137))[_0x250a8d(0x144)]()[_0x250a8d(0x122)](),_0x151efa=_0x250a8d(0x13a)+_0x4b14ee(_0x4b2ef2)[_0x250a8d(0x131)]('a')['attr'](_0x250a8d(0x142));_0x2f4ddb[_0x250a8d(0x121)]({'title':_0x1e4a67,'author':_0x2717fb,'link':_0x151efa});});if(_0x2f4ddb[_0x4fddc1(0x11a)]===0x0)return _0x3b5106[_0x4fddc1(0x132)]('No\x20se\x20encontraron\x20libros\x20para\x20esa\x20búsqueda.');let _0x5428da=_0x2f4ddb[0x0];_0x3b5106[_0x4fddc1(0x132)](_0x4fddc1(0x149)+_0x5428da[_0x4fddc1(0x119)]+(_0x5428da[_0x4fddc1(0x123)]?_0x4fddc1(0x141)+_0x5428da['author']:'')+_0x4fddc1(0x11b));let _0x244243=await fetch(_0x5428da[_0x4fddc1(0x124)],{'headers':{'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)'}});if(!_0x244243['ok'])return _0x3b5106[_0x4fddc1(0x132)](_0x4fddc1(0x134)+_0x244243['statusText']);let _0x17347e=await _0x244243[_0x4fddc1(0x144)](),_0x42e7c3=a0_0x321a8f['load'](_0x17347e),_0x3f4a29=_0x42e7c3('a[type=\x22text/plain\x22]')[_0x4fddc1(0x135)](_0x4fddc1(0x142));!_0x3f4a29&&(_0x3f4a29=_0x42e7c3(_0x4fddc1(0x139))[_0x4fddc1(0x135)](_0x4fddc1(0x142)));if(!_0x3f4a29)return _0x3b5106[_0x4fddc1(0x132)](_0x4fddc1(0x11f));_0x3f4a29[_0x4fddc1(0x148)]('/')&&(_0x3f4a29=_0x4fddc1(0x13a)+_0x3f4a29);let _0xff49e3=await fetch(_0x3f4a29,{'headers':{'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)'}});if(!_0xff49e3['ok'])return _0x3b5106[_0x4fddc1(0x132)](_0x4fddc1(0x13e)+_0xff49e3[_0x4fddc1(0x146)]);let _0x297209=await _0xff49e3[_0x4fddc1(0x12b)](),_0x376ddf=Buffer[_0x4fddc1(0x136)](_0x297209);await _0x250054[_0x4fddc1(0x145)](_0x3b5106[_0x4fddc1(0x12e)],_0x376ddf,_0x5428da[_0x4fddc1(0x119)]+_0x4fddc1(0x13d),_0x4fddc1(0x14a)+_0x5428da[_0x4fddc1(0x119)],_0x3b5106);}catch(_0x199d87){console[_0x4fddc1(0x12a)](_0x199d87),_0x3b5106[_0x4fddc1(0x132)]('Ocurrió\x20un\x20error\x20al\x20buscar\x20o\x20descargar\x20el\x20libro.\x20Intenta\x20nuevamente.');}};function a0_0x51e7(_0x4cc378,_0x2096ef){const _0xff6027=a0_0xff60();return a0_0x51e7=function(_0x51e760,_0x3eb485){_0x51e760=_0x51e760-0x119;let _0x1ec3e5=_0xff6027[_0x51e760];return _0x1ec3e5;},a0_0x51e7(_0x4cc378,_0x2096ef);}handler[a0_0x6675ad(0x11e)]=['libro\x20<título>'],handler[a0_0x6675ad(0x120)]=[a0_0x6675ad(0x11d)],handler[a0_0x6675ad(0x126)]=/^libro$/i;export default handler;