function a0_0x3d8f(){const _0xfa3185=['reply','https://www.gutenberg.org/ebooks/search/?query=','762RtKXyf','statusText','1239685daCqnZ','trim','Aquí\x20tienes\x20el\x20libro:\x20','arrayBuffer','Encontrado:\x20','each','find','6CgBAGU','href','author','chat','\x0aDescargando...','Error\x20al\x20descargar\x20el\x20libro:\x20','1592816sThdDJ','command','push','load','startsWith','li.booklink','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)','a[href$=\x22.txt\x22]','https://www.gutenberg.org','a[type=\x22text/plain\x22]','No\x20se\x20encontraron\x20libros\x20para\x20esa\x20búsqueda.','16YfKRFF','No\x20se\x20encontró\x20una\x20versión\x20en\x20texto\x20plano\x20para\x20descargar.','392508MiGUan','text','buscador','error','8107520HmMEkw','title','attr','81199mlYxBd','4039wlgJMA','545736VYkpVT','link','.txt','libro\x20<título>','span.subtitle','Error\x20en\x20la\x20búsqueda:\x20','help','Por\x20favor,\x20ingresa\x20el\x20título\x20o\x20tema\x20del\x20libro\x20a\x20buscar.'];a0_0x3d8f=function(){return _0xfa3185;};return a0_0x3d8f();}const a0_0x164311=a0_0x5a8a;(function(_0x62062c,_0x521a1f){const _0x217efd=a0_0x5a8a,_0x2b8557=_0x62062c();while(!![]){try{const _0x27502c=parseInt(_0x217efd(0x1ca))/0x1*(-parseInt(_0x217efd(0x1df))/0x2)+parseInt(_0x217efd(0x1cc))/0x3+-parseInt(_0x217efd(0x1e5))/0x4+parseInt(_0x217efd(0x1d8))/0x5+-parseInt(_0x217efd(0x1d6))/0x6*(parseInt(_0x217efd(0x1cb))/0x7)+-parseInt(_0x217efd(0x1f0))/0x8*(parseInt(_0x217efd(0x1f2))/0x9)+parseInt(_0x217efd(0x1f6))/0xa;if(_0x27502c===_0x521a1f)break;else _0x2b8557['push'](_0x2b8557['shift']());}catch(_0x1b8c13){_0x2b8557['push'](_0x2b8557['shift']());}}}(a0_0x3d8f,0x6b019));function a0_0x5a8a(_0x29014e,_0x44a273){const _0x3d8f7a=a0_0x3d8f();return a0_0x5a8a=function(_0x5a8a41,_0x387816){_0x5a8a41=_0x5a8a41-0x1ca;let _0x2d9672=_0x3d8f7a[_0x5a8a41];return _0x2d9672;},a0_0x5a8a(_0x29014e,_0x44a273);}import a0_0x28879e from'cheerio';let handler=async(_0x3cf3d9,{text:_0x3843ce,conn:_0x139ed5})=>{const _0x176009=a0_0x5a8a;if(!_0x3843ce)return _0x3cf3d9[_0x176009(0x1d4)](_0x176009(0x1d3));let _0x13e16c=_0x3843ce,_0x5de6d2=_0x176009(0x1d5)+encodeURIComponent(_0x13e16c);try{let _0x3bc6e7=await fetch(_0x5de6d2,{'headers':{'User-Agent':_0x176009(0x1eb)}});if(!_0x3bc6e7['ok'])return _0x3cf3d9[_0x176009(0x1d4)](_0x176009(0x1d1)+_0x3bc6e7[_0x176009(0x1d7)]);let _0xe63a9a=await _0x3bc6e7[_0x176009(0x1f3)](),_0x1c9094=a0_0x28879e[_0x176009(0x1e8)](_0xe63a9a),_0x26efeb=[];_0x1c9094(_0x176009(0x1ea))[_0x176009(0x1dd)]((_0x21b59a,_0x2586cf)=>{const _0x8598ae=_0x176009;let _0x33357a=_0x1c9094(_0x2586cf)[_0x8598ae(0x1de)]('span.title')['text']()[_0x8598ae(0x1d9)](),_0x2b76b7=_0x1c9094(_0x2586cf)['find'](_0x8598ae(0x1d0))['text']()[_0x8598ae(0x1d9)](),_0x3e63cf=_0x8598ae(0x1ed)+_0x1c9094(_0x2586cf)[_0x8598ae(0x1de)]('a')[_0x8598ae(0x1f8)](_0x8598ae(0x1e0));_0x26efeb[_0x8598ae(0x1e7)]({'title':_0x33357a,'author':_0x2b76b7,'link':_0x3e63cf});});if(_0x26efeb['length']===0x0)return _0x3cf3d9[_0x176009(0x1d4)](_0x176009(0x1ef));let _0x162b3a=_0x26efeb[0x0];_0x3cf3d9[_0x176009(0x1d4)](_0x176009(0x1dc)+_0x162b3a[_0x176009(0x1f7)]+(_0x162b3a['author']?'\x20-\x20'+_0x162b3a[_0x176009(0x1e1)]:'')+_0x176009(0x1e3));let _0x223278=await fetch(_0x162b3a[_0x176009(0x1cd)],{'headers':{'User-Agent':_0x176009(0x1eb)}});if(!_0x223278['ok'])return _0x3cf3d9[_0x176009(0x1d4)]('Error\x20al\x20obtener\x20la\x20página\x20del\x20libro:\x20'+_0x223278[_0x176009(0x1d7)]);let _0x2fe66b=await _0x223278[_0x176009(0x1f3)](),_0x1bd290=a0_0x28879e['load'](_0x2fe66b),_0x38d1a5=_0x1bd290(_0x176009(0x1ee))[_0x176009(0x1f8)](_0x176009(0x1e0));!_0x38d1a5&&(_0x38d1a5=_0x1bd290(_0x176009(0x1ec))['attr'](_0x176009(0x1e0)));if(!_0x38d1a5)return _0x3cf3d9[_0x176009(0x1d4)](_0x176009(0x1f1));_0x38d1a5[_0x176009(0x1e9)]('/')&&(_0x38d1a5=_0x176009(0x1ed)+_0x38d1a5);let _0x30c718=await fetch(_0x38d1a5,{'headers':{'User-Agent':_0x176009(0x1eb)}});if(!_0x30c718['ok'])return _0x3cf3d9[_0x176009(0x1d4)](_0x176009(0x1e4)+_0x30c718[_0x176009(0x1d7)]);let _0x71e704=await _0x30c718[_0x176009(0x1db)](),_0x4f249a=Buffer['from'](_0x71e704);await _0x139ed5['sendFile'](_0x3cf3d9[_0x176009(0x1e2)],_0x4f249a,_0x162b3a[_0x176009(0x1f7)]+_0x176009(0x1ce),_0x176009(0x1da)+_0x162b3a[_0x176009(0x1f7)],_0x3cf3d9);}catch(_0x58c0ca){console[_0x176009(0x1f5)](_0x58c0ca),_0x3cf3d9[_0x176009(0x1d4)]('Ocurrió\x20un\x20error\x20al\x20buscar\x20o\x20descargar\x20el\x20libro.\x20Intenta\x20nuevamente.');}};handler[a0_0x164311(0x1d2)]=[a0_0x164311(0x1cf)],handler['tags']=[a0_0x164311(0x1f4)],handler[a0_0x164311(0x1e6)]=/^libro$/i;export default handler;