const a0_0x40cba0=a0_0x3e10;(function(_0x2c46cc,_0x1dafbe){const _0x3e6f6b=a0_0x3e10,_0x2b4d67=_0x2c46cc();while(!![]){try{const _0x5a436a=parseInt(_0x3e6f6b(0xcb))/0x1+parseInt(_0x3e6f6b(0xc7))/0x2*(-parseInt(_0x3e6f6b(0xce))/0x3)+parseInt(_0x3e6f6b(0xed))/0x4*(parseInt(_0x3e6f6b(0xea))/0x5)+parseInt(_0x3e6f6b(0xd8))/0x6+parseInt(_0x3e6f6b(0xd1))/0x7+-parseInt(_0x3e6f6b(0xe3))/0x8+parseInt(_0x3e6f6b(0xd7))/0x9*(-parseInt(_0x3e6f6b(0xef))/0xa);if(_0x5a436a===_0x1dafbe)break;else _0x2b4d67['push'](_0x2b4d67['shift']());}catch(_0x4001d7){_0x2b4d67['push'](_0x2b4d67['shift']());}}}(a0_0x3e20,0x563b3));function a0_0x3e10(_0x8daf7f,_0x58a955){const _0x3e2043=a0_0x3e20();return a0_0x3e10=function(_0x3e1018,_0x3b4df8){_0x3e1018=_0x3e1018-0xc7;let _0xb43de3=_0x3e2043[_0x3e1018];return _0xb43de3;},a0_0x3e10(_0x8daf7f,_0x58a955);}import a0_0x41c00a from'cheerio';let handler=async(_0x2aa4d5,{text:_0x254552,conn:_0x3dbb43})=>{const _0x23a01a=a0_0x3e10;if(!_0x254552)return _0x2aa4d5['reply'](_0x23a01a(0xdb));let _0x3ed31a=_0x254552,_0x2f92df=_0x23a01a(0xcd)+encodeURIComponent(_0x3ed31a);try{let _0x123ba3=await fetch(_0x2f92df,{'headers':{'User-Agent':_0x23a01a(0xf0)}});if(!_0x123ba3['ok'])return _0x2aa4d5['reply'](_0x23a01a(0xd6)+_0x123ba3[_0x23a01a(0xd5)]);let _0x3033aa=await _0x123ba3['text'](),_0x5828b6=a0_0x41c00a['load'](_0x3033aa),_0x554f52=[];_0x5828b6('li.booklink')['each']((_0x42aa53,_0x3ec7ee)=>{const _0x4f1121=_0x23a01a;let _0x3964cb=_0x5828b6(_0x3ec7ee)['find'](_0x4f1121(0xe2))[_0x4f1121(0xf2)]()[_0x4f1121(0xeb)](),_0x29270a=_0x5828b6(_0x3ec7ee)[_0x4f1121(0xe8)](_0x4f1121(0xcc))['text']()[_0x4f1121(0xeb)](),_0xea9197=_0x4f1121(0xd2)+_0x5828b6(_0x3ec7ee)['find']('a')[_0x4f1121(0xd9)](_0x4f1121(0xca));_0x554f52[_0x4f1121(0xdd)]({'title':_0x3964cb,'author':_0x29270a,'link':_0xea9197});});if(_0x554f52['length']===0x0)return _0x2aa4d5[_0x23a01a(0xdf)](_0x23a01a(0xd4));let _0x2576b8=_0x554f52[0x0];_0x2aa4d5['reply']('Encontrado:\x20'+_0x2576b8['title']+(_0x2576b8[_0x23a01a(0xcf)]?_0x23a01a(0xee)+_0x2576b8[_0x23a01a(0xcf)]:'')+_0x23a01a(0xd0));let _0xa9210b=await fetch(_0x2576b8['link'],{'headers':{'User-Agent':_0x23a01a(0xf0)}});if(!_0xa9210b['ok'])return _0x2aa4d5['reply'](_0x23a01a(0xc8)+_0xa9210b[_0x23a01a(0xd5)]);let _0x5bd9e0=await _0xa9210b[_0x23a01a(0xf2)](),_0x4ef3bb=a0_0x41c00a['load'](_0x5bd9e0),_0x12c352=_0x4ef3bb('a[type=\x22text/plain\x22]')[_0x23a01a(0xd9)]('href');!_0x12c352&&(_0x12c352=_0x4ef3bb(_0x23a01a(0xe0))[_0x23a01a(0xd9)](_0x23a01a(0xca)));if(!_0x12c352)return _0x2aa4d5[_0x23a01a(0xdf)](_0x23a01a(0xe7));_0x12c352[_0x23a01a(0xe1)]('/')&&(_0x12c352=_0x23a01a(0xd2)+_0x12c352);let _0x24296f=await fetch(_0x12c352,{'headers':{'User-Agent':_0x23a01a(0xf0)}});if(!_0x24296f['ok'])return _0x2aa4d5[_0x23a01a(0xdf)]('Error\x20al\x20descargar\x20el\x20libro:\x20'+_0x24296f[_0x23a01a(0xd5)]);let _0x59c3de=await _0x24296f[_0x23a01a(0xc9)](),_0x42bef3=Buffer[_0x23a01a(0xf1)](_0x59c3de);await _0x3dbb43['sendFile'](_0x2aa4d5[_0x23a01a(0xe9)],_0x42bef3,_0x2576b8[_0x23a01a(0xda)]+'.txt',_0x23a01a(0xe4)+_0x2576b8[_0x23a01a(0xda)],_0x2aa4d5);}catch(_0x2bd696){console[_0x23a01a(0xde)](_0x2bd696),_0x2aa4d5['reply'](_0x23a01a(0xdc));}};function a0_0x3e20(){const _0x5edd36=['chat','10mOkZyf','trim','command','1310740IBTRiD','\x20-\x20','420220tqtlIM','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)','from','text','16ctVfvr','Error\x20al\x20obtener\x20la\x20página\x20del\x20libro:\x20','arrayBuffer','href','107287QSUnIm','span.subtitle','https://www.gutenberg.org/ebooks/search/?query=','64536THFFaP','author','\x0aDescargando...','278215mUDwlK','https://www.gutenberg.org','help','No\x20se\x20encontraron\x20libros\x20para\x20esa\x20búsqueda.','statusText','Error\x20en\x20la\x20búsqueda:\x20','27oufJSl','489102jAPxkn','attr','title','Por\x20favor,\x20ingresa\x20el\x20título\x20o\x20tema\x20del\x20libro\x20a\x20buscar.','Ocurrió\x20un\x20error\x20al\x20buscar\x20o\x20descargar\x20el\x20libro.\x20Intenta\x20nuevamente.','push','error','reply','a[href$=\x22.txt\x22]','startsWith','span.title','1860432IHnwxp','Aquí\x20tienes\x20el\x20libro:\x20','libro\x20<título>','buscador','No\x20se\x20encontró\x20una\x20versión\x20en\x20texto\x20plano\x20para\x20descargar.','find'];a0_0x3e20=function(){return _0x5edd36;};return a0_0x3e20();}handler[a0_0x40cba0(0xd3)]=[a0_0x40cba0(0xe5)],handler['tags']=[a0_0x40cba0(0xe6)],handler[a0_0x40cba0(0xec)]=/^libro$/i;export default handler;