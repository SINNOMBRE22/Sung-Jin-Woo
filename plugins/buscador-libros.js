const a0_0x178b72=a0_0x1084;function a0_0x5ae5(){const _0x340f23=['load','tags','3432250mFyACc','Error\x20en\x20la\x20búsqueda:\x20','.txt','title','find','statusText','length','https://www.gutenberg.org/ebooks/search/?query=','7340823jGwKTE','No\x20se\x20encontró\x20una\x20versión\x20en\x20texto\x20plano\x20para\x20descargar.','error','trim','192946vNfbRI','https://www.gutenberg.org','8ysJjQO','3828282HNNQRu','span.subtitle','a[type=\x22text/plain\x22]','375reTRSX','1874742GqxZrX','from','Error\x20al\x20descargar\x20el\x20libro:\x20','No\x20se\x20encontraron\x20libros\x20para\x20esa\x20búsqueda.','21740rtMDgI','text','10688270TLuRhF','Ocurrió\x20un\x20error\x20al\x20buscar\x20o\x20descargar\x20el\x20libro.\x20Intenta\x20nuevamente.','\x0aDescargando...','7EzMawn','reply','libro\x20<título>','sendFile','a[href$=\x22.txt\x22]','chat','href','Error\x20al\x20obtener\x20la\x20página\x20del\x20libro:\x20','command','Encontrado:\x20','Por\x20favor,\x20ingresa\x20el\x20título\x20o\x20tema\x20del\x20libro\x20a\x20buscar.','span.title','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)','help','attr','push','each'];a0_0x5ae5=function(){return _0x340f23;};return a0_0x5ae5();}(function(_0x3f0c1f,_0x31d4c9){const _0x30e309=a0_0x1084,_0x56e451=_0x3f0c1f();while(!![]){try{const _0x218960=parseInt(_0x30e309(0xa6))/0x1+-parseInt(_0x30e309(0xad))/0x2+parseInt(_0x30e309(0xac))/0x3*(parseInt(_0x30e309(0xb1))/0x4)+-parseInt(_0x30e309(0x9a))/0x5+parseInt(_0x30e309(0xa9))/0x6*(-parseInt(_0x30e309(0x87))/0x7)+-parseInt(_0x30e309(0xa8))/0x8*(-parseInt(_0x30e309(0xa2))/0x9)+parseInt(_0x30e309(0xb3))/0xa;if(_0x218960===_0x31d4c9)break;else _0x56e451['push'](_0x56e451['shift']());}catch(_0x61b3eb){_0x56e451['push'](_0x56e451['shift']());}}}(a0_0x5ae5,0x78d4f));function a0_0x1084(_0x70185b,_0x2dd77d){const _0x5ae594=a0_0x5ae5();return a0_0x1084=function(_0x108417,_0x1608c9){_0x108417=_0x108417-0x85;let _0x315099=_0x5ae594[_0x108417];return _0x315099;},a0_0x1084(_0x70185b,_0x2dd77d);}import a0_0x4df6cc from'cheerio';let handler=async(_0x559e78,{text:_0x4f62e9,conn:_0x793bac})=>{const _0x27a0fb=a0_0x1084;if(!_0x4f62e9)return _0x559e78['reply'](_0x27a0fb(0x91));let _0x31ac17=_0x4f62e9,_0x70ebca=_0x27a0fb(0xa1)+encodeURIComponent(_0x31ac17);try{let _0x251130=await fetch(_0x70ebca,{'headers':{'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)'}});if(!_0x251130['ok'])return _0x559e78['reply'](_0x27a0fb(0x9b)+_0x251130[_0x27a0fb(0x9f)]);let _0x181a90=await _0x251130[_0x27a0fb(0xb2)](),_0x1f6242=a0_0x4df6cc[_0x27a0fb(0x98)](_0x181a90),_0x36966d=[];_0x1f6242('li.booklink')[_0x27a0fb(0x97)]((_0x297cd0,_0xfa4bfb)=>{const _0x1cd2ce=_0x27a0fb;let _0x37464d=_0x1f6242(_0xfa4bfb)[_0x1cd2ce(0x9e)](_0x1cd2ce(0x92))[_0x1cd2ce(0xb2)]()[_0x1cd2ce(0xa5)](),_0x33b935=_0x1f6242(_0xfa4bfb)[_0x1cd2ce(0x9e)](_0x1cd2ce(0xaa))['text']()[_0x1cd2ce(0xa5)](),_0x35e95e=_0x1cd2ce(0xa7)+_0x1f6242(_0xfa4bfb)[_0x1cd2ce(0x9e)]('a')[_0x1cd2ce(0x95)]('href');_0x36966d[_0x1cd2ce(0x96)]({'title':_0x37464d,'author':_0x33b935,'link':_0x35e95e});});if(_0x36966d[_0x27a0fb(0xa0)]===0x0)return _0x559e78[_0x27a0fb(0x88)](_0x27a0fb(0xb0));let _0xd4480=_0x36966d[0x0];_0x559e78[_0x27a0fb(0x88)](_0x27a0fb(0x90)+_0xd4480[_0x27a0fb(0x9d)]+(_0xd4480['author']?'\x20-\x20'+_0xd4480['author']:'')+_0x27a0fb(0x86));let _0x389087=await fetch(_0xd4480['link'],{'headers':{'User-Agent':_0x27a0fb(0x93)}});if(!_0x389087['ok'])return _0x559e78['reply'](_0x27a0fb(0x8e)+_0x389087[_0x27a0fb(0x9f)]);let _0x2c68c1=await _0x389087['text'](),_0x3c757b=a0_0x4df6cc[_0x27a0fb(0x98)](_0x2c68c1),_0x102eee=_0x3c757b(_0x27a0fb(0xab))[_0x27a0fb(0x95)](_0x27a0fb(0x8d));!_0x102eee&&(_0x102eee=_0x3c757b(_0x27a0fb(0x8b))[_0x27a0fb(0x95)]('href'));if(!_0x102eee)return _0x559e78[_0x27a0fb(0x88)](_0x27a0fb(0xa3));_0x102eee['startsWith']('/')&&(_0x102eee=_0x27a0fb(0xa7)+_0x102eee);let _0x9bd75b=await fetch(_0x102eee,{'headers':{'User-Agent':_0x27a0fb(0x93)}});if(!_0x9bd75b['ok'])return _0x559e78['reply'](_0x27a0fb(0xaf)+_0x9bd75b[_0x27a0fb(0x9f)]);let _0x237173=await _0x9bd75b['arrayBuffer'](),_0xbefb32=Buffer[_0x27a0fb(0xae)](_0x237173);await _0x793bac[_0x27a0fb(0x8a)](_0x559e78[_0x27a0fb(0x8c)],_0xbefb32,_0xd4480[_0x27a0fb(0x9d)]+_0x27a0fb(0x9c),'Aquí\x20tienes\x20el\x20libro:\x20'+_0xd4480[_0x27a0fb(0x9d)],_0x559e78);}catch(_0x42cb8d){console[_0x27a0fb(0xa4)](_0x42cb8d),_0x559e78[_0x27a0fb(0x88)](_0x27a0fb(0x85));}};handler[a0_0x178b72(0x94)]=[a0_0x178b72(0x89)],handler[a0_0x178b72(0x99)]=['buscador'],handler[a0_0x178b72(0x8f)]=/^libro$/i;export default handler;