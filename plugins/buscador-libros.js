function a0_0x5581(_0x4ef59a,_0x1a0c7c){const _0x483e44=a0_0x483e();return a0_0x5581=function(_0x55815b,_0x5ba21f){_0x55815b=_0x55815b-0xa4;let _0x4ce107=_0x483e44[_0x55815b];return _0x4ce107;},a0_0x5581(_0x4ef59a,_0x1a0c7c);}const a0_0x415159=a0_0x5581;(function(_0x39be9b,_0xf95e88){const _0x344fab=a0_0x5581,_0x44c6b8=_0x39be9b();while(!![]){try{const _0xd20a84=parseInt(_0x344fab(0xbf))/0x1*(parseInt(_0x344fab(0xcf))/0x2)+-parseInt(_0x344fab(0xb2))/0x3*(parseInt(_0x344fab(0xc3))/0x4)+parseInt(_0x344fab(0xcb))/0x5+parseInt(_0x344fab(0xb9))/0x6*(parseInt(_0x344fab(0xa7))/0x7)+-parseInt(_0x344fab(0xc8))/0x8+-parseInt(_0x344fab(0xb6))/0x9+parseInt(_0x344fab(0xc1))/0xa;if(_0xd20a84===_0xf95e88)break;else _0x44c6b8['push'](_0x44c6b8['shift']());}catch(_0x58d9ad){_0x44c6b8['push'](_0x44c6b8['shift']());}}}(a0_0x483e,0x3afe3));import a0_0x260730 from'cheerio';let handler=async(_0x256190,{text:_0x190bee,conn:_0xc7dfdc})=>{const _0x5a4147=a0_0x5581;if(!_0x190bee)return _0x256190[_0x5a4147(0xc2)](_0x5a4147(0xb3));let _0x2ccc66=_0x190bee,_0x5181ee=_0x5a4147(0xac)+encodeURIComponent(_0x2ccc66);try{let _0x2cf616=await fetch(_0x5181ee,{'headers':{'User-Agent':_0x5a4147(0xb5)}});if(!_0x2cf616['ok'])return _0x256190[_0x5a4147(0xc2)](_0x5a4147(0xd1)+_0x2cf616[_0x5a4147(0xc6)]);let _0x594a11=await _0x2cf616[_0x5a4147(0xc5)](),_0x104cb7=a0_0x260730[_0x5a4147(0xb8)](_0x594a11),_0x4554e2=[];_0x104cb7('li.booklink')[_0x5a4147(0xad)]((_0x577c0b,_0x39c87c)=>{const _0x291af9=_0x5a4147;let _0x8dbe64=_0x104cb7(_0x39c87c)[_0x291af9(0xbb)](_0x291af9(0xc4))[_0x291af9(0xc5)]()[_0x291af9(0xbe)](),_0x1fccba=_0x104cb7(_0x39c87c)[_0x291af9(0xbb)](_0x291af9(0xb4))['text']()['trim'](),_0xf32277=_0x291af9(0xd0)+_0x104cb7(_0x39c87c)[_0x291af9(0xbb)]('a')['attr'](_0x291af9(0xab));_0x4554e2[_0x291af9(0xa6)]({'title':_0x8dbe64,'author':_0x1fccba,'link':_0xf32277});});if(_0x4554e2[_0x5a4147(0xbd)]===0x0)return _0x256190['reply'](_0x5a4147(0xa9));let _0x20594d=_0x4554e2[0x0];_0x256190[_0x5a4147(0xc2)](_0x5a4147(0xc9)+_0x20594d[_0x5a4147(0xbc)]+(_0x20594d['author']?'\x20-\x20'+_0x20594d[_0x5a4147(0xc7)]:'')+_0x5a4147(0xce));let _0x1c9ec3=await fetch(_0x20594d['link'],{'headers':{'User-Agent':_0x5a4147(0xb5)}});if(!_0x1c9ec3['ok'])return _0x256190[_0x5a4147(0xc2)](_0x5a4147(0xa8)+_0x1c9ec3[_0x5a4147(0xc6)]);let _0x40578a=await _0x1c9ec3[_0x5a4147(0xc5)](),_0x193691=a0_0x260730[_0x5a4147(0xb8)](_0x40578a),_0x2a7544=_0x193691(_0x5a4147(0xa5))['attr'](_0x5a4147(0xab));!_0x2a7544&&(_0x2a7544=_0x193691('a[href$=\x22.txt\x22]')['attr'](_0x5a4147(0xab)));if(!_0x2a7544)return _0x256190[_0x5a4147(0xc2)]('No\x20se\x20encontró\x20una\x20versión\x20en\x20texto\x20plano\x20para\x20descargar.');_0x2a7544[_0x5a4147(0xba)]('/')&&(_0x2a7544=_0x5a4147(0xd0)+_0x2a7544);let _0xb0d0ec=await fetch(_0x2a7544,{'headers':{'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)'}});if(!_0xb0d0ec['ok'])return _0x256190['reply'](_0x5a4147(0xc0)+_0xb0d0ec[_0x5a4147(0xc6)]);let _0x4c454d=await _0xb0d0ec[_0x5a4147(0xcd)](),_0x174718=Buffer[_0x5a4147(0xca)](_0x4c454d);await _0xc7dfdc[_0x5a4147(0xaf)](_0x256190[_0x5a4147(0xb0)],_0x174718,_0x20594d[_0x5a4147(0xbc)]+'.txt',_0x5a4147(0xaa)+_0x20594d['title'],_0x256190);}catch(_0x1a7192){console[_0x5a4147(0xa4)](_0x1a7192),_0x256190[_0x5a4147(0xc2)]('Ocurrió\x20un\x20error\x20al\x20buscar\x20o\x20descargar\x20el\x20libro.\x20Intenta\x20nuevamente.');}};handler[a0_0x415159(0xb7)]=[a0_0x415159(0xae)],handler[a0_0x415159(0xb1)]=[a0_0x415159(0xcc)],handler['command']=/^libro$/i;export default handler;function a0_0x483e(){const _0xac7f82=['4VExXxy','span.title','text','statusText','author','498968yaiVAE','Encontrado:\x20','from','1374255ptlbsC','buscador','arrayBuffer','\x0aDescargando...','2AMFpfW','https://www.gutenberg.org','Error\x20en\x20la\x20búsqueda:\x20','error','a[type=\x22text/plain\x22]','push','149863hEnPsd','Error\x20al\x20obtener\x20la\x20página\x20del\x20libro:\x20','No\x20se\x20encontraron\x20libros\x20para\x20esa\x20búsqueda.','Aquí\x20tienes\x20el\x20libro:\x20','href','https://www.gutenberg.org/ebooks/search/?query=','each','libro\x20<título>','sendFile','chat','tags','1195302GmaSoK','Por\x20favor,\x20ingresa\x20el\x20título\x20o\x20tema\x20del\x20libro\x20a\x20buscar.','span.subtitle','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)','4079439iyQZPJ','help','load','90MmWQkP','startsWith','find','title','length','trim','30463rDkCDD','Error\x20al\x20descargar\x20el\x20libro:\x20','5292620uAxvjC','reply'];a0_0x483e=function(){return _0xac7f82;};return a0_0x483e();}