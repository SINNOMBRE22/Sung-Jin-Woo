function a0_0x5a26(){const _0x3bcf5f=['statusText','12010KEuuja','reply','1935AiBMKT','chat','title','Ocurrió\x20un\x20error\x20al\x20buscar\x20o\x20descargar\x20el\x20libro.\x20Intenta\x20nuevamente.','command','Por\x20favor,\x20ingresa\x20el\x20título\x20o\x20tema\x20del\x20libro\x20a\x20buscar.','1749UciaSA','span.subtitle','a[type=\x22text/plain\x22]','No\x20se\x20encontró\x20una\x20versión\x20en\x20texto\x20plano\x20para\x20descargar.','2032818LrJISF','https://www.gutenberg.org/ebooks/search/?query=','href','1105016nNfXmr','14mUpMyN','from','libro\x20<título>','startsWith','No\x20se\x20encontraron\x20libros\x20para\x20esa\x20búsqueda.','7eoBGrT','find','trim','length','text','Error\x20en\x20la\x20búsqueda:\x20','buscador','38078xjVrcl','span.title','li.booklink','3taNkSW','attr','Encontrado:\x20','949335EdbMWH','https://www.gutenberg.org','push','sendFile','6420bBJsKS','\x0aDescargando...','a[href$=\x22.txt\x22]','.txt','author','440780EfGnil','arrayBuffer','help','each','Aquí\x20tienes\x20el\x20libro:\x20','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)','load'];a0_0x5a26=function(){return _0x3bcf5f;};return a0_0x5a26();}function a0_0x5779(_0x1aa742,_0x35d435){const _0x5a2649=a0_0x5a26();return a0_0x5779=function(_0x577937,_0x117b22){_0x577937=_0x577937-0x13e;let _0x460dc9=_0x5a2649[_0x577937];return _0x460dc9;},a0_0x5779(_0x1aa742,_0x35d435);}const a0_0x24d543=a0_0x5779;(function(_0x3f6583,_0x4800a0){const _0x5e8280=a0_0x5779,_0x24ab8b=_0x3f6583();while(!![]){try{const _0x1ba1b2=parseInt(_0x5e8280(0x14f))/0x1*(-parseInt(_0x5e8280(0x143))/0x2)+parseInt(_0x5e8280(0x152))/0x3*(-parseInt(_0x5e8280(0x15e))/0x4)+parseInt(_0x5e8280(0x155))/0x5+parseInt(_0x5e8280(0x13f))/0x6*(parseInt(_0x5e8280(0x148))/0x7)+-parseInt(_0x5e8280(0x142))/0x8+-parseInt(_0x5e8280(0x168))/0x9*(-parseInt(_0x5e8280(0x166))/0xa)+parseInt(_0x5e8280(0x16e))/0xb*(-parseInt(_0x5e8280(0x159))/0xc);if(_0x1ba1b2===_0x4800a0)break;else _0x24ab8b['push'](_0x24ab8b['shift']());}catch(_0x1b3a1c){_0x24ab8b['push'](_0x24ab8b['shift']());}}}(a0_0x5a26,0x2da48));import a0_0x528e18 from'cheerio';let handler=async(_0x326903,{text:_0x124d64,conn:_0x5a3726})=>{const _0x1e8453=a0_0x5779;if(!_0x124d64)return _0x326903[_0x1e8453(0x167)](_0x1e8453(0x16d));let _0x193c1d=_0x124d64,_0x100a02=_0x1e8453(0x140)+encodeURIComponent(_0x193c1d);try{let _0x4a7bf5=await fetch(_0x100a02,{'headers':{'User-Agent':_0x1e8453(0x163)}});if(!_0x4a7bf5['ok'])return _0x326903[_0x1e8453(0x167)](_0x1e8453(0x14d)+_0x4a7bf5['statusText']);let _0x260ccb=await _0x4a7bf5[_0x1e8453(0x14c)](),_0x3790ee=a0_0x528e18[_0x1e8453(0x164)](_0x260ccb),_0x1ff97c=[];_0x3790ee(_0x1e8453(0x151))[_0x1e8453(0x161)]((_0x2f14f7,_0x481c67)=>{const _0x267632=_0x1e8453;let _0x4ed969=_0x3790ee(_0x481c67)[_0x267632(0x149)](_0x267632(0x150))[_0x267632(0x14c)]()[_0x267632(0x14a)](),_0x1ebef3=_0x3790ee(_0x481c67)[_0x267632(0x149)](_0x267632(0x16f))[_0x267632(0x14c)]()[_0x267632(0x14a)](),_0x8589d6=_0x267632(0x156)+_0x3790ee(_0x481c67)[_0x267632(0x149)]('a')[_0x267632(0x153)]('href');_0x1ff97c[_0x267632(0x157)]({'title':_0x4ed969,'author':_0x1ebef3,'link':_0x8589d6});});if(_0x1ff97c[_0x1e8453(0x14b)]===0x0)return _0x326903['reply'](_0x1e8453(0x147));let _0x51d9bd=_0x1ff97c[0x0];_0x326903[_0x1e8453(0x167)](_0x1e8453(0x154)+_0x51d9bd[_0x1e8453(0x16a)]+(_0x51d9bd[_0x1e8453(0x15d)]?'\x20-\x20'+_0x51d9bd[_0x1e8453(0x15d)]:'')+_0x1e8453(0x15a));let _0x3ccc5d=await fetch(_0x51d9bd['link'],{'headers':{'User-Agent':_0x1e8453(0x163)}});if(!_0x3ccc5d['ok'])return _0x326903[_0x1e8453(0x167)]('Error\x20al\x20obtener\x20la\x20página\x20del\x20libro:\x20'+_0x3ccc5d['statusText']);let _0x46d7ba=await _0x3ccc5d[_0x1e8453(0x14c)](),_0x2c4b90=a0_0x528e18[_0x1e8453(0x164)](_0x46d7ba),_0xacc7e1=_0x2c4b90(_0x1e8453(0x170))[_0x1e8453(0x153)](_0x1e8453(0x141));!_0xacc7e1&&(_0xacc7e1=_0x2c4b90(_0x1e8453(0x15b))[_0x1e8453(0x153)](_0x1e8453(0x141)));if(!_0xacc7e1)return _0x326903['reply'](_0x1e8453(0x13e));_0xacc7e1[_0x1e8453(0x146)]('/')&&(_0xacc7e1=_0x1e8453(0x156)+_0xacc7e1);let _0xdf4248=await fetch(_0xacc7e1,{'headers':{'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)'}});if(!_0xdf4248['ok'])return _0x326903[_0x1e8453(0x167)]('Error\x20al\x20descargar\x20el\x20libro:\x20'+_0xdf4248[_0x1e8453(0x165)]);let _0x4823bc=await _0xdf4248[_0x1e8453(0x15f)](),_0x56f9f9=Buffer[_0x1e8453(0x144)](_0x4823bc);await _0x5a3726[_0x1e8453(0x158)](_0x326903[_0x1e8453(0x169)],_0x56f9f9,_0x51d9bd[_0x1e8453(0x16a)]+_0x1e8453(0x15c),_0x1e8453(0x162)+_0x51d9bd[_0x1e8453(0x16a)],_0x326903);}catch(_0x2195f9){console['error'](_0x2195f9),_0x326903[_0x1e8453(0x167)](_0x1e8453(0x16b));}};handler[a0_0x24d543(0x160)]=[a0_0x24d543(0x145)],handler['tags']=[a0_0x24d543(0x14e)],handler[a0_0x24d543(0x16c)]=/^libro$/i;export default handler;