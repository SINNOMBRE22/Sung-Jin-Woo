function a0_0x179c(){const _0xb22223=['Encontrado:\x20','.txt','error','1499410uQWwNw','author','8361EYSLuw','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)','help','a[type=\x22text/plain\x22]','libro\x20<título>','from','33455030vzCchw','Por\x20favor,\x20ingresa\x20el\x20título\x20o\x20tema\x20del\x20libro\x20a\x20buscar.','attr','load','Aquí\x20tienes\x20el\x20libro:\x20','2004QcZLZH','Ocurrió\x20un\x20error\x20al\x20buscar\x20o\x20descargar\x20el\x20libro.\x20Intenta\x20nuevamente.','\x0aDescargando...','https://www.gutenberg.org','li.booklink','Error\x20al\x20obtener\x20la\x20página\x20del\x20libro:\x20','statusText','reply','8KrqBUx','command','buscador','each','59316NtRLnJ','a[href$=\x22.txt\x22]','href','233246ghRXKG','Error\x20al\x20descargar\x20el\x20libro:\x20','arrayBuffer','1572400CLZYoE','chat','find','title','startsWith','length','742zMhUqw','text','push','Error\x20en\x20la\x20búsqueda:\x20','trim','2950803qqjrWo','span.title'];a0_0x179c=function(){return _0xb22223;};return a0_0x179c();}const a0_0x29d097=a0_0x1acf;(function(_0x198f62,_0x5780be){const _0x4833d5=a0_0x1acf,_0x449dba=_0x198f62();while(!![]){try{const _0x24c67f=-parseInt(_0x4833d5(0x98))/0x1*(-parseInt(_0x4833d5(0x9f))/0x2)+parseInt(_0x4833d5(0x85))/0x3*(parseInt(_0x4833d5(0x90))/0x4)+parseInt(_0x4833d5(0x83))/0x5+parseInt(_0x4833d5(0x9c))/0x6*(parseInt(_0x4833d5(0xa8))/0x7)+parseInt(_0x4833d5(0xa2))/0x8+parseInt(_0x4833d5(0xad))/0x9+-parseInt(_0x4833d5(0x8b))/0xa;if(_0x24c67f===_0x5780be)break;else _0x449dba['push'](_0x449dba['shift']());}catch(_0x341791){_0x449dba['push'](_0x449dba['shift']());}}}(a0_0x179c,0xd0faf));import a0_0x599be7 from'cheerio';let handler=async(_0x2bd7f2,{text:_0x540bbe,conn:_0x52d7bf})=>{const _0xf58a0d=a0_0x1acf;if(!_0x540bbe)return _0x2bd7f2[_0xf58a0d(0x97)](_0xf58a0d(0x8c));let _0x450589=_0x540bbe,_0x15ff26='https://www.gutenberg.org/ebooks/search/?query='+encodeURIComponent(_0x450589);try{let _0x27a4b1=await fetch(_0x15ff26,{'headers':{'User-Agent':_0xf58a0d(0x86)}});if(!_0x27a4b1['ok'])return _0x2bd7f2[_0xf58a0d(0x97)](_0xf58a0d(0xab)+_0x27a4b1[_0xf58a0d(0x96)]);let _0x5aa7d2=await _0x27a4b1['text'](),_0xff3098=a0_0x599be7[_0xf58a0d(0x8e)](_0x5aa7d2),_0x478435=[];_0xff3098(_0xf58a0d(0x94))[_0xf58a0d(0x9b)]((_0x4e496b,_0x301540)=>{const _0x41425a=_0xf58a0d;let _0x32483a=_0xff3098(_0x301540)[_0x41425a(0xa4)](_0x41425a(0xae))['text']()[_0x41425a(0xac)](),_0x469b31=_0xff3098(_0x301540)[_0x41425a(0xa4)]('span.subtitle')[_0x41425a(0xa9)]()[_0x41425a(0xac)](),_0x33bbe2=_0x41425a(0x93)+_0xff3098(_0x301540)[_0x41425a(0xa4)]('a')[_0x41425a(0x8d)]('href');_0x478435[_0x41425a(0xaa)]({'title':_0x32483a,'author':_0x469b31,'link':_0x33bbe2});});if(_0x478435[_0xf58a0d(0xa7)]===0x0)return _0x2bd7f2[_0xf58a0d(0x97)]('No\x20se\x20encontraron\x20libros\x20para\x20esa\x20búsqueda.');let _0x2dc690=_0x478435[0x0];_0x2bd7f2['reply'](_0xf58a0d(0xaf)+_0x2dc690[_0xf58a0d(0xa5)]+(_0x2dc690['author']?'\x20-\x20'+_0x2dc690[_0xf58a0d(0x84)]:'')+_0xf58a0d(0x92));let _0x11d82f=await fetch(_0x2dc690['link'],{'headers':{'User-Agent':_0xf58a0d(0x86)}});if(!_0x11d82f['ok'])return _0x2bd7f2['reply'](_0xf58a0d(0x95)+_0x11d82f[_0xf58a0d(0x96)]);let _0x8eb244=await _0x11d82f[_0xf58a0d(0xa9)](),_0x3d302a=a0_0x599be7['load'](_0x8eb244),_0x5e4156=_0x3d302a(_0xf58a0d(0x88))[_0xf58a0d(0x8d)](_0xf58a0d(0x9e));!_0x5e4156&&(_0x5e4156=_0x3d302a(_0xf58a0d(0x9d))[_0xf58a0d(0x8d)](_0xf58a0d(0x9e)));if(!_0x5e4156)return _0x2bd7f2['reply']('No\x20se\x20encontró\x20una\x20versión\x20en\x20texto\x20plano\x20para\x20descargar.');_0x5e4156[_0xf58a0d(0xa6)]('/')&&(_0x5e4156='https://www.gutenberg.org'+_0x5e4156);let _0x32e2a1=await fetch(_0x5e4156,{'headers':{'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)'}});if(!_0x32e2a1['ok'])return _0x2bd7f2['reply'](_0xf58a0d(0xa0)+_0x32e2a1[_0xf58a0d(0x96)]);let _0x363ede=await _0x32e2a1[_0xf58a0d(0xa1)](),_0x41d2c2=Buffer[_0xf58a0d(0x8a)](_0x363ede);await _0x52d7bf['sendFile'](_0x2bd7f2[_0xf58a0d(0xa3)],_0x41d2c2,_0x2dc690[_0xf58a0d(0xa5)]+_0xf58a0d(0x81),_0xf58a0d(0x8f)+_0x2dc690['title'],_0x2bd7f2);}catch(_0x283851){console[_0xf58a0d(0x82)](_0x283851),_0x2bd7f2[_0xf58a0d(0x97)](_0xf58a0d(0x91));}};handler[a0_0x29d097(0x87)]=[a0_0x29d097(0x89)],handler['tags']=[a0_0x29d097(0x9a)],handler[a0_0x29d097(0x99)]=/^libro$/i;function a0_0x1acf(_0x131a85,_0x57b9e9){const _0x179c00=a0_0x179c();return a0_0x1acf=function(_0x1acf23,_0x2e90ae){_0x1acf23=_0x1acf23-0x81;let _0x64740b=_0x179c00[_0x1acf23];return _0x64740b;},a0_0x1acf(_0x131a85,_0x57b9e9);}export default handler;