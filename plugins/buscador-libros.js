const a0_0x4673e1=a0_0x5470;function a0_0x5470(_0x5d7138,_0xc624e8){const _0x54bd51=a0_0x54bd();return a0_0x5470=function(_0x547077,_0x226a88){_0x547077=_0x547077-0x119;let _0x370d04=_0x54bd51[_0x547077];return _0x370d04;},a0_0x5470(_0x5d7138,_0xc624e8);}function a0_0x54bd(){const _0x4b845f=['push','402lfuLGR','114YtOfsH','Error\x20al\x20obtener\x20la\x20página\x20del\x20libro:\x20','Ocurrió\x20un\x20error\x20al\x20buscar\x20o\x20descargar\x20el\x20libro.\x20Intenta\x20nuevamente.','a[href$=\x22.txt\x22]','\x0aDescargando...','No\x20se\x20encontró\x20una\x20versión\x20en\x20texto\x20plano\x20para\x20descargar.','statusText','libro\x20<título>','load','.txt','4059744gTcfOG','text','error','https://www.gutenberg.org/ebooks/search/?query=','command','href','https://www.gutenberg.org','author','help','find','632thekzf','reply','12645974Skgpvq','from','29880Anemat','100961nUviIh','length','title','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)','22114fNwaSK','span.title','buscador','No\x20se\x20encontraron\x20libros\x20para\x20esa\x20búsqueda.','Error\x20en\x20la\x20búsqueda:\x20','trim','8270307tUbZVF','tags','attr','each','Aquí\x20tienes\x20el\x20libro:\x20','628430YYHYZa','10squUZw'];a0_0x54bd=function(){return _0x4b845f;};return a0_0x54bd();}(function(_0x243b2d,_0x481e04){const _0x2fae59=a0_0x5470,_0x1c7aa8=_0x243b2d();while(!![]){try{const _0x473b71=parseInt(_0x2fae59(0x136))/0x1+parseInt(_0x2fae59(0x12b))/0x2*(-parseInt(_0x2fae59(0x13a))/0x3)+parseInt(_0x2fae59(0x122))/0x4*(-parseInt(_0x2fae59(0x126))/0x5)+parseInt(_0x2fae59(0x139))/0x6*(parseInt(_0x2fae59(0x127))/0x7)+parseInt(_0x2fae59(0x144))/0x8+-parseInt(_0x2fae59(0x131))/0x9*(-parseInt(_0x2fae59(0x137))/0xa)+-parseInt(_0x2fae59(0x124))/0xb;if(_0x473b71===_0x481e04)break;else _0x1c7aa8['push'](_0x1c7aa8['shift']());}catch(_0x471bec){_0x1c7aa8['push'](_0x1c7aa8['shift']());}}}(a0_0x54bd,0x7bd12));import a0_0x478732 from'cheerio';let handler=async(_0x43fdb3,{text:_0x112da9,conn:_0x207fc0})=>{const _0x402ffd=a0_0x5470;if(!_0x112da9)return _0x43fdb3[_0x402ffd(0x123)]('Por\x20favor,\x20ingresa\x20el\x20título\x20o\x20tema\x20del\x20libro\x20a\x20buscar.');let _0x43107a=_0x112da9,_0x5da148=_0x402ffd(0x11b)+encodeURIComponent(_0x43107a);try{let _0x2b4f6e=await fetch(_0x5da148,{'headers':{'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)'}});if(!_0x2b4f6e['ok'])return _0x43fdb3[_0x402ffd(0x123)](_0x402ffd(0x12f)+_0x2b4f6e[_0x402ffd(0x140)]);let _0x43b3a4=await _0x2b4f6e['text'](),_0x487f3f=a0_0x478732[_0x402ffd(0x142)](_0x43b3a4),_0x4c0ba9=[];_0x487f3f('li.booklink')[_0x402ffd(0x134)]((_0x22ebb5,_0x2382ae)=>{const _0x19c7b0=_0x402ffd;let _0x112324=_0x487f3f(_0x2382ae)[_0x19c7b0(0x121)](_0x19c7b0(0x12c))[_0x19c7b0(0x119)]()[_0x19c7b0(0x130)](),_0x23c42d=_0x487f3f(_0x2382ae)[_0x19c7b0(0x121)]('span.subtitle')[_0x19c7b0(0x119)]()[_0x19c7b0(0x130)](),_0x108619=_0x19c7b0(0x11e)+_0x487f3f(_0x2382ae)[_0x19c7b0(0x121)]('a')[_0x19c7b0(0x133)](_0x19c7b0(0x11d));_0x4c0ba9[_0x19c7b0(0x138)]({'title':_0x112324,'author':_0x23c42d,'link':_0x108619});});if(_0x4c0ba9[_0x402ffd(0x128)]===0x0)return _0x43fdb3[_0x402ffd(0x123)](_0x402ffd(0x12e));let _0x17b482=_0x4c0ba9[0x0];_0x43fdb3[_0x402ffd(0x123)]('Encontrado:\x20'+_0x17b482[_0x402ffd(0x129)]+(_0x17b482['author']?'\x20-\x20'+_0x17b482[_0x402ffd(0x11f)]:'')+_0x402ffd(0x13e));let _0x346098=await fetch(_0x17b482['link'],{'headers':{'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)'}});if(!_0x346098['ok'])return _0x43fdb3['reply'](_0x402ffd(0x13b)+_0x346098[_0x402ffd(0x140)]);let _0x87f6fd=await _0x346098[_0x402ffd(0x119)](),_0x4a64b0=a0_0x478732['load'](_0x87f6fd),_0x25ec87=_0x4a64b0('a[type=\x22text/plain\x22]')[_0x402ffd(0x133)](_0x402ffd(0x11d));!_0x25ec87&&(_0x25ec87=_0x4a64b0(_0x402ffd(0x13d))[_0x402ffd(0x133)](_0x402ffd(0x11d)));if(!_0x25ec87)return _0x43fdb3[_0x402ffd(0x123)](_0x402ffd(0x13f));_0x25ec87['startsWith']('/')&&(_0x25ec87=_0x402ffd(0x11e)+_0x25ec87);let _0x58b90a=await fetch(_0x25ec87,{'headers':{'User-Agent':_0x402ffd(0x12a)}});if(!_0x58b90a['ok'])return _0x43fdb3[_0x402ffd(0x123)]('Error\x20al\x20descargar\x20el\x20libro:\x20'+_0x58b90a[_0x402ffd(0x140)]);let _0x3d4466=await _0x58b90a['arrayBuffer'](),_0x2c769c=Buffer[_0x402ffd(0x125)](_0x3d4466);await _0x207fc0['sendFile'](_0x43fdb3['chat'],_0x2c769c,_0x17b482[_0x402ffd(0x129)]+_0x402ffd(0x143),_0x402ffd(0x135)+_0x17b482[_0x402ffd(0x129)],_0x43fdb3);}catch(_0x334aaf){console[_0x402ffd(0x11a)](_0x334aaf),_0x43fdb3['reply'](_0x402ffd(0x13c));}};handler[a0_0x4673e1(0x120)]=[a0_0x4673e1(0x141)],handler[a0_0x4673e1(0x132)]=[a0_0x4673e1(0x12d)],handler[a0_0x4673e1(0x11c)]=/^libro$/i;export default handler;