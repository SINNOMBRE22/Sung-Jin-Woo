const a0_0x1347e5=a0_0x3e3d;function a0_0x3e3d(_0x4baa3d,_0x3aad7c){const _0x44c7cc=a0_0x44c7();return a0_0x3e3d=function(_0x3e3d84,_0x1e8cd4){_0x3e3d84=_0x3e3d84-0xfa;let _0x1b4f23=_0x44c7cc[_0x3e3d84];return _0x1b4f23;},a0_0x3e3d(_0x4baa3d,_0x3aad7c);}(function(_0x4695ee,_0x66860e){const _0x3d09d0=a0_0x3e3d,_0x39bdc1=_0x4695ee();while(!![]){try{const _0x52b88b=-parseInt(_0x3d09d0(0x11b))/0x1+-parseInt(_0x3d09d0(0x11e))/0x2*(parseInt(_0x3d09d0(0x108))/0x3)+-parseInt(_0x3d09d0(0x114))/0x4+-parseInt(_0x3d09d0(0x10d))/0x5*(-parseInt(_0x3d09d0(0x117))/0x6)+-parseInt(_0x3d09d0(0xff))/0x7*(-parseInt(_0x3d09d0(0x119))/0x8)+-parseInt(_0x3d09d0(0x101))/0x9*(parseInt(_0x3d09d0(0x11c))/0xa)+parseInt(_0x3d09d0(0x107))/0xb*(parseInt(_0x3d09d0(0x128))/0xc);if(_0x52b88b===_0x66860e)break;else _0x39bdc1['push'](_0x39bdc1['shift']());}catch(_0x4ed3b4){_0x39bdc1['push'](_0x39bdc1['shift']());}}}(a0_0x44c7,0xc470c));function a0_0x44c7(){const _0x1be4e7=['9cWPIMK','text','\x20-\x20','author','\x0aDescargando...','attr','118195vCgHBg','3jxWYDQ','command','buscador','span.title','libro\x20<título>','65055NTLKfS','a[href$=\x22.txt\x22]','find','chat','statusText','li.booklink','reply','1455816lWFPDP','No\x20se\x20encontró\x20una\x20versión\x20en\x20texto\x20plano\x20para\x20descargar.','load','222TpPZKe','error','948592yTjyxP','Ocurrió\x20un\x20error\x20al\x20buscar\x20o\x20descargar\x20el\x20libro.\x20Intenta\x20nuevamente.','223113caLVSl','1388740LOZpqb','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)','1063754SrVtzC','sendFile','href','span.subtitle','length','tags','a[type=\x22text/plain\x22]','Encontrado:\x20','help','Error\x20al\x20obtener\x20la\x20página\x20del\x20libro:\x20','1236GQKMsC','https://www.gutenberg.org/ebooks/search/?query=','title','startsWith','Por\x20favor,\x20ingresa\x20el\x20título\x20o\x20tema\x20del\x20libro\x20a\x20buscar.','.txt','Error\x20en\x20la\x20búsqueda:\x20','https://www.gutenberg.org','28GuULsj','trim'];a0_0x44c7=function(){return _0x1be4e7;};return a0_0x44c7();}import a0_0xfaf876 from'cheerio';let handler=async(_0x333aa5,{text:_0x33fd1b,conn:_0x48ba14})=>{const _0x94f3ad=a0_0x3e3d;if(!_0x33fd1b)return _0x333aa5['reply'](_0x94f3ad(0xfb));let _0x116676=_0x33fd1b,_0x479ec5=_0x94f3ad(0x129)+encodeURIComponent(_0x116676);try{let _0x2c8abd=await fetch(_0x479ec5,{'headers':{'User-Agent':_0x94f3ad(0x11d)}});if(!_0x2c8abd['ok'])return _0x333aa5[_0x94f3ad(0x113)](_0x94f3ad(0xfd)+_0x2c8abd[_0x94f3ad(0x111)]);let _0x5a2e82=await _0x2c8abd[_0x94f3ad(0x102)](),_0x4b3965=a0_0xfaf876[_0x94f3ad(0x116)](_0x5a2e82),_0x5b1b23=[];_0x4b3965(_0x94f3ad(0x112))['each']((_0x54e147,_0x24c5e4)=>{const _0x7e35d3=_0x94f3ad;let _0x22aa7f=_0x4b3965(_0x24c5e4)[_0x7e35d3(0x10f)](_0x7e35d3(0x10b))[_0x7e35d3(0x102)]()[_0x7e35d3(0x100)](),_0x31818c=_0x4b3965(_0x24c5e4)[_0x7e35d3(0x10f)](_0x7e35d3(0x121))['text']()['trim'](),_0x3307bf=_0x7e35d3(0xfe)+_0x4b3965(_0x24c5e4)[_0x7e35d3(0x10f)]('a')[_0x7e35d3(0x106)](_0x7e35d3(0x120));_0x5b1b23['push']({'title':_0x22aa7f,'author':_0x31818c,'link':_0x3307bf});});if(_0x5b1b23[_0x94f3ad(0x122)]===0x0)return _0x333aa5[_0x94f3ad(0x113)]('No\x20se\x20encontraron\x20libros\x20para\x20esa\x20búsqueda.');let _0x40617e=_0x5b1b23[0x0];_0x333aa5['reply'](_0x94f3ad(0x125)+_0x40617e[_0x94f3ad(0x12a)]+(_0x40617e[_0x94f3ad(0x104)]?_0x94f3ad(0x103)+_0x40617e['author']:'')+_0x94f3ad(0x105));let _0x3692f7=await fetch(_0x40617e['link'],{'headers':{'User-Agent':_0x94f3ad(0x11d)}});if(!_0x3692f7['ok'])return _0x333aa5[_0x94f3ad(0x113)](_0x94f3ad(0x127)+_0x3692f7[_0x94f3ad(0x111)]);let _0x2f3961=await _0x3692f7[_0x94f3ad(0x102)](),_0x2c6b7e=a0_0xfaf876[_0x94f3ad(0x116)](_0x2f3961),_0x2d2862=_0x2c6b7e(_0x94f3ad(0x124))[_0x94f3ad(0x106)]('href');!_0x2d2862&&(_0x2d2862=_0x2c6b7e(_0x94f3ad(0x10e))[_0x94f3ad(0x106)](_0x94f3ad(0x120)));if(!_0x2d2862)return _0x333aa5['reply'](_0x94f3ad(0x115));_0x2d2862[_0x94f3ad(0xfa)]('/')&&(_0x2d2862=_0x94f3ad(0xfe)+_0x2d2862);let _0x41f576=await fetch(_0x2d2862,{'headers':{'User-Agent':_0x94f3ad(0x11d)}});if(!_0x41f576['ok'])return _0x333aa5['reply']('Error\x20al\x20descargar\x20el\x20libro:\x20'+_0x41f576[_0x94f3ad(0x111)]);let _0x8bf487=await _0x41f576['arrayBuffer'](),_0x27e4c9=Buffer['from'](_0x8bf487);await _0x48ba14[_0x94f3ad(0x11f)](_0x333aa5[_0x94f3ad(0x110)],_0x27e4c9,_0x40617e['title']+_0x94f3ad(0xfc),'Aquí\x20tienes\x20el\x20libro:\x20'+_0x40617e[_0x94f3ad(0x12a)],_0x333aa5);}catch(_0x1de4d0){console[_0x94f3ad(0x118)](_0x1de4d0),_0x333aa5[_0x94f3ad(0x113)](_0x94f3ad(0x11a));}};handler[a0_0x1347e5(0x126)]=[a0_0x1347e5(0x10c)],handler[a0_0x1347e5(0x123)]=[a0_0x1347e5(0x10a)],handler[a0_0x1347e5(0x109)]=/^libro$/i;export default handler;