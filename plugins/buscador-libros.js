function a0_0x10ff(_0x7eeb13,_0x5991c3){const _0x469a99=a0_0x469a();return a0_0x10ff=function(_0x10ff95,_0x3a0d98){_0x10ff95=_0x10ff95-0x18f;let _0x3669e4=_0x469a99[_0x10ff95];return _0x3669e4;},a0_0x10ff(_0x7eeb13,_0x5991c3);}const a0_0x22ddff=a0_0x10ff;(function(_0x29018f,_0x54e8c8){const _0x338216=a0_0x10ff,_0x5af48a=_0x29018f();while(!![]){try{const _0x595668=parseInt(_0x338216(0x1a0))/0x1*(parseInt(_0x338216(0x1ab))/0x2)+-parseInt(_0x338216(0x1a6))/0x3*(-parseInt(_0x338216(0x1ac))/0x4)+-parseInt(_0x338216(0x1a3))/0x5*(parseInt(_0x338216(0x1aa))/0x6)+-parseInt(_0x338216(0x193))/0x7*(-parseInt(_0x338216(0x1ae))/0x8)+-parseInt(_0x338216(0x1bd))/0x9*(parseInt(_0x338216(0x1bc))/0xa)+parseInt(_0x338216(0x1a4))/0xb+parseInt(_0x338216(0x192))/0xc*(-parseInt(_0x338216(0x1a1))/0xd);if(_0x595668===_0x54e8c8)break;else _0x5af48a['push'](_0x5af48a['shift']());}catch(_0x2d11ff){_0x5af48a['push'](_0x5af48a['shift']());}}}(a0_0x469a,0xbb697));import a0_0x59cf4b from'cheerio';let handler=async(_0x320f3c,{text:_0x344640,conn:_0x3634b8})=>{const _0x326bfe=a0_0x10ff;if(!_0x344640)return _0x320f3c[_0x326bfe(0x1a9)]('Por\x20favor,\x20ingresa\x20el\x20título\x20o\x20tema\x20del\x20libro\x20a\x20buscar.');let _0x56e323=_0x344640,_0x3c7b23=_0x326bfe(0x19b)+encodeURIComponent(_0x56e323);try{let _0x27a7d4=await fetch(_0x3c7b23,{'headers':{'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)'}});if(!_0x27a7d4['ok'])return _0x320f3c[_0x326bfe(0x1a9)]('Error\x20en\x20la\x20búsqueda:\x20'+_0x27a7d4[_0x326bfe(0x1ad)]);let _0xfa5c99=await _0x27a7d4[_0x326bfe(0x1b0)](),_0x53baa5=a0_0x59cf4b['load'](_0xfa5c99),_0x13edb7=[];_0x53baa5(_0x326bfe(0x1ba))['each']((_0x153da5,_0x4f7a0e)=>{const _0x4be55=_0x326bfe;let _0x49e1c3=_0x53baa5(_0x4f7a0e)[_0x4be55(0x195)](_0x4be55(0x19a))[_0x4be55(0x1b0)]()['trim'](),_0x216c59=_0x53baa5(_0x4f7a0e)[_0x4be55(0x195)](_0x4be55(0x19f))[_0x4be55(0x1b0)]()['trim'](),_0x5e6e28=_0x4be55(0x1af)+_0x53baa5(_0x4f7a0e)[_0x4be55(0x195)]('a')[_0x4be55(0x191)](_0x4be55(0x18f));_0x13edb7[_0x4be55(0x19c)]({'title':_0x49e1c3,'author':_0x216c59,'link':_0x5e6e28});});if(_0x13edb7[_0x326bfe(0x1b5)]===0x0)return _0x320f3c[_0x326bfe(0x1a9)](_0x326bfe(0x197));let _0x43d701=_0x13edb7[0x0];_0x320f3c['reply']('Encontrado:\x20'+_0x43d701['title']+(_0x43d701[_0x326bfe(0x1a2)]?_0x326bfe(0x1a8)+_0x43d701[_0x326bfe(0x1a2)]:'')+_0x326bfe(0x199));let _0x1349af=await fetch(_0x43d701[_0x326bfe(0x190)],{'headers':{'User-Agent':_0x326bfe(0x1b1)}});if(!_0x1349af['ok'])return _0x320f3c[_0x326bfe(0x1a9)]('Error\x20al\x20obtener\x20la\x20página\x20del\x20libro:\x20'+_0x1349af[_0x326bfe(0x1ad)]);let _0x3ce58b=await _0x1349af[_0x326bfe(0x1b0)](),_0x1abfd1=a0_0x59cf4b['load'](_0x3ce58b),_0x3e3f84=_0x1abfd1(_0x326bfe(0x1b8))[_0x326bfe(0x191)](_0x326bfe(0x18f));!_0x3e3f84&&(_0x3e3f84=_0x1abfd1('a[href$=\x22.txt\x22]')[_0x326bfe(0x191)](_0x326bfe(0x18f)));if(!_0x3e3f84)return _0x320f3c[_0x326bfe(0x1a9)](_0x326bfe(0x1b9));_0x3e3f84[_0x326bfe(0x19d)]('/')&&(_0x3e3f84=_0x326bfe(0x1af)+_0x3e3f84);let _0x466b31=await fetch(_0x3e3f84,{'headers':{'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)'}});if(!_0x466b31['ok'])return _0x320f3c[_0x326bfe(0x1a9)](_0x326bfe(0x1b3)+_0x466b31[_0x326bfe(0x1ad)]);let _0x3f6503=await _0x466b31[_0x326bfe(0x1b7)](),_0x3bc5fe=Buffer[_0x326bfe(0x1b4)](_0x3f6503);await _0x3634b8[_0x326bfe(0x1a7)](_0x320f3c[_0x326bfe(0x196)],_0x3bc5fe,_0x43d701['title']+_0x326bfe(0x1b2),_0x326bfe(0x1a5)+_0x43d701[_0x326bfe(0x1b6)],_0x320f3c);}catch(_0x412d84){console['error'](_0x412d84),_0x320f3c['reply'](_0x326bfe(0x1bb));}};function a0_0x469a(){const _0x510d6e=['chat','No\x20se\x20encontraron\x20libros\x20para\x20esa\x20búsqueda.','libro\x20<título>','\x0aDescargando...','span.title','https://www.gutenberg.org/ebooks/search/?query=','push','startsWith','help','span.subtitle','1422hnTULZ','1118SWMyvp','author','13145SfwESM','6582103vLRVzC','Aquí\x20tienes\x20el\x20libro:\x20','10902rZTaob','sendFile','\x20-\x20','reply','2508kxNVqO','2148ksitCo','1640zsqBxq','statusText','225536rOuMrO','https://www.gutenberg.org','text','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)','.txt','Error\x20al\x20descargar\x20el\x20libro:\x20','from','length','title','arrayBuffer','a[type=\x22text/plain\x22]','No\x20se\x20encontró\x20una\x20versión\x20en\x20texto\x20plano\x20para\x20descargar.','li.booklink','Ocurrió\x20un\x20error\x20al\x20buscar\x20o\x20descargar\x20el\x20libro.\x20Intenta\x20nuevamente.','60VAAWkd','1398069jEScvi','href','link','attr','161196rwhRYz','84MWBWCD','command','find'];a0_0x469a=function(){return _0x510d6e;};return a0_0x469a();}handler[a0_0x22ddff(0x19e)]=[a0_0x22ddff(0x198)],handler['tags']=['buscador'],handler[a0_0x22ddff(0x194)]=/^libro$/i;export default handler;