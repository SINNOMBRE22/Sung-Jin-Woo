const a0_0x76f757=a0_0xb184;function a0_0x2c9e(){const _0x231a5e=['Ocurrió\x20un\x20error\x20al\x20buscar\x20o\x20descargar\x20el\x20libro.\x20Intenta\x20nuevamente.','text','length','statusText','20965VjxdBU','command','attr','Error\x20en\x20la\x20búsqueda:\x20','Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)','push','2490dqgaHy','a[type=\x22text/plain\x22]','38xrhkzT','https://www.gutenberg.org/ebooks/search/?query=','help','href','Error\x20al\x20descargar\x20el\x20libro:\x20','No\x20se\x20encontraron\x20libros\x20para\x20esa\x20búsqueda.','arrayBuffer','https://www.gutenberg.org','1455412mOXGVZ','author','trim','13968647uFoQoT','a[href$=\x22.txt\x22]','buscador','59451JqpYnH','chat','No\x20se\x20encontró\x20una\x20versión\x20en\x20texto\x20plano\x20para\x20descargar.','Por\x20favor,\x20ingresa\x20el\x20título\x20o\x20tema\x20del\x20libro\x20a\x20buscar.','error','title','each','3010QTQPQT','link','find','8pnnjyR','270aOYmLU','124920cavcqQ','sendFile','reply','load','\x20-\x20','45543lJKEXK','\x0aDescargando...'];a0_0x2c9e=function(){return _0x231a5e;};return a0_0x2c9e();}(function(_0x4fcd6a,_0x194037){const _0x1c9713=a0_0xb184,_0x544574=_0x4fcd6a();while(!![]){try{const _0x1bc164=parseInt(_0x1c9713(0x1dc))/0x1+parseInt(_0x1c9713(0x1ce))/0x2*(-parseInt(_0x1c9713(0x1c0))/0x3)+-parseInt(_0x1c9713(0x1d6))/0x4+-parseInt(_0x1c9713(0x1e3))/0x5*(-parseInt(_0x1c9713(0x1cc))/0x6)+parseInt(_0x1c9713(0x1c6))/0x7*(-parseInt(_0x1c9713(0x1b9))/0x8)+-parseInt(_0x1c9713(0x1ba))/0x9*(parseInt(_0x1c9713(0x1bb))/0xa)+parseInt(_0x1c9713(0x1d9))/0xb;if(_0x1bc164===_0x194037)break;else _0x544574['push'](_0x544574['shift']());}catch(_0x200a2c){_0x544574['push'](_0x544574['shift']());}}}(a0_0x2c9e,0x860f7));import a0_0x1895c5 from'cheerio';let handler=async(_0x35f40a,{text:_0xb5e745,conn:_0x48f245})=>{const _0x236902=a0_0xb184;if(!_0xb5e745)return _0x35f40a['reply'](_0x236902(0x1df));let _0x5d7fa8=_0xb5e745,_0x562483=_0x236902(0x1cf)+encodeURIComponent(_0x5d7fa8);try{let _0x333b6d=await fetch(_0x562483,{'headers':{'User-Agent':_0x236902(0x1ca)}});if(!_0x333b6d['ok'])return _0x35f40a['reply'](_0x236902(0x1c9)+_0x333b6d[_0x236902(0x1c5)]);let _0x507387=await _0x333b6d['text'](),_0x1d310d=a0_0x1895c5[_0x236902(0x1be)](_0x507387),_0x223680=[];_0x1d310d('li.booklink')[_0x236902(0x1e2)]((_0x4bcdb4,_0x594d66)=>{const _0x478b54=_0x236902;let _0x422d47=_0x1d310d(_0x594d66)['find']('span.title')['text']()[_0x478b54(0x1d8)](),_0x22ad6c=_0x1d310d(_0x594d66)[_0x478b54(0x1b8)]('span.subtitle')[_0x478b54(0x1c3)]()[_0x478b54(0x1d8)](),_0x1cb020=_0x478b54(0x1d5)+_0x1d310d(_0x594d66)['find']('a')[_0x478b54(0x1c8)](_0x478b54(0x1d1));_0x223680[_0x478b54(0x1cb)]({'title':_0x422d47,'author':_0x22ad6c,'link':_0x1cb020});});if(_0x223680[_0x236902(0x1c4)]===0x0)return _0x35f40a['reply'](_0x236902(0x1d3));let _0x532577=_0x223680[0x0];_0x35f40a[_0x236902(0x1bd)]('Encontrado:\x20'+_0x532577['title']+(_0x532577[_0x236902(0x1d7)]?_0x236902(0x1bf)+_0x532577[_0x236902(0x1d7)]:'')+_0x236902(0x1c1));let _0x5a1a56=await fetch(_0x532577[_0x236902(0x1e4)],{'headers':{'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)'}});if(!_0x5a1a56['ok'])return _0x35f40a[_0x236902(0x1bd)]('Error\x20al\x20obtener\x20la\x20página\x20del\x20libro:\x20'+_0x5a1a56['statusText']);let _0x344f9a=await _0x5a1a56['text'](),_0x54f851=a0_0x1895c5[_0x236902(0x1be)](_0x344f9a),_0x526aa5=_0x54f851(_0x236902(0x1cd))['attr'](_0x236902(0x1d1));!_0x526aa5&&(_0x526aa5=_0x54f851(_0x236902(0x1da))['attr'](_0x236902(0x1d1)));if(!_0x526aa5)return _0x35f40a[_0x236902(0x1bd)](_0x236902(0x1de));_0x526aa5['startsWith']('/')&&(_0x526aa5=_0x236902(0x1d5)+_0x526aa5);let _0x22ecdb=await fetch(_0x526aa5,{'headers':{'User-Agent':'Mozilla/5.0\x20(Windows\x20NT\x2010.0;\x20Win64;\x20x64)'}});if(!_0x22ecdb['ok'])return _0x35f40a[_0x236902(0x1bd)](_0x236902(0x1d2)+_0x22ecdb['statusText']);let _0x263ce1=await _0x22ecdb[_0x236902(0x1d4)](),_0x34899d=Buffer['from'](_0x263ce1);await _0x48f245[_0x236902(0x1bc)](_0x35f40a[_0x236902(0x1dd)],_0x34899d,_0x532577[_0x236902(0x1e1)]+'.txt','Aquí\x20tienes\x20el\x20libro:\x20'+_0x532577[_0x236902(0x1e1)],_0x35f40a);}catch(_0x1a2cbc){console[_0x236902(0x1e0)](_0x1a2cbc),_0x35f40a['reply'](_0x236902(0x1c2));}};handler[a0_0x76f757(0x1d0)]=['libro\x20<título>'],handler['tags']=[a0_0x76f757(0x1db)],handler[a0_0x76f757(0x1c7)]=/^libro$/i;function a0_0xb184(_0x5b5d21,_0x8fac21){const _0x2c9e4a=a0_0x2c9e();return a0_0xb184=function(_0xb184cf,_0x4b1083){_0xb184cf=_0xb184cf-0x1b8;let _0x420d6d=_0x2c9e4a[_0xb184cf];return _0x420d6d;},a0_0xb184(_0x5b5d21,_0x8fac21);}export default handler;