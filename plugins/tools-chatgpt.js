const a0_0x47949a=a0_0x273b;(function(_0x5d3cb2,_0xfe34fe){const _0x2f2478=a0_0x273b,_0x2c5eb5=_0x5d3cb2();while(!![]){try{const _0x24cc58=-parseInt(_0x2f2478(0x9d))/0x1*(-parseInt(_0x2f2478(0x73))/0x2)+-parseInt(_0x2f2478(0x9f))/0x3*(-parseInt(_0x2f2478(0x86))/0x4)+parseInt(_0x2f2478(0x88))/0x5+-parseInt(_0x2f2478(0x74))/0x6*(-parseInt(_0x2f2478(0x93))/0x7)+parseInt(_0x2f2478(0x71))/0x8+parseInt(_0x2f2478(0x7e))/0x9*(-parseInt(_0x2f2478(0x89))/0xa)+parseInt(_0x2f2478(0x76))/0xb*(-parseInt(_0x2f2478(0x8a))/0xc);if(_0x24cc58===_0xfe34fe)break;else _0x2c5eb5['push'](_0x2c5eb5['shift']());}catch(_0x2eab06){_0x2c5eb5['push'](_0x2c5eb5['shift']());}}}(a0_0x304c,0x3786a));import a0_0xe2c630 from'node-fetch';function a0_0x304c(){const _0x10ccda=['users','chat','&name=','content','sender','openai_key','1kMiqqN','json','21icRrbz','system','texto2','Bearer\x20','resultado','98672BoEYMV','application/json','516466TDMsxT','6evLSUQ','command','11rxSEpV','createCompletion','&prompt=','message','./language/','push','text-davinci-003','.json','47097iXxHLg','text','choices','texto3','texto4','composing','POST','reply','160340GMkuCb','trim','89355zxIJkg','30TXlrBK','5700096WFXKca','stringify','sendPresenceUpdate','data','user','Human:','error','herramientas_chatgpt','language','1043756SPtSWK','Ai:','texto1','parse'];a0_0x304c=function(){return _0x10ccda;};return a0_0x304c();}import a0_0x11b7c7 from'axios';import a0_0x55c545 from'@vitalets/google-translate-api';import{Configuration,OpenAIApi}from'openai';const configuration=new Configuration({'organization':global['openai_org_id'],'apiKey':global['openai_key']}),openaiii=new OpenAIApi(configuration),handler=async(_0x4be6fa,{conn:_0x100912,text:_0x5eda0d,usedPrefix:_0x4a6e75,command:_0x28220c})=>{const _0x284019=a0_0x273b,_0x284ee6=global,_0x5864c4=_0x284ee6['db'][_0x284019(0x8d)]['users'][_0x4be6fa[_0x284019(0x9b)]][_0x284019(0x92)],_0x5447be=JSON[_0x284019(0x96)](fs['readFileSync'](_0x284019(0x7a)+_0x5864c4+_0x284019(0x7d))),_0x1913df=_0x5447be['plugins'][_0x284019(0x91)];if(_0x4a6e75=='a'||_0x4a6e75=='A')return;if(!_0x5eda0d)throw _0x1913df[_0x284019(0x95)][0x0]+'\x20'+(_0x4a6e75+_0x28220c)+'\x20'+_0x1913df['texto1'][0x1]+'\x20'+(_0x4a6e75+_0x28220c)+'\x20'+_0x1913df['texto1'][0x2];try{_0x100912['sendPresenceUpdate'](_0x284019(0x83),_0x4be6fa[_0x284019(0x98)]);let _0x154490=_0x1913df[_0x284019(0xa1)];async function _0x3e706e(_0x5c7db5){const _0x1f343d=_0x284019,_0x5c7650=global[_0x1f343d(0x9c)];let _0x4439ab=global['chatgpt'][_0x1f343d(0x8d)][_0x1f343d(0x97)][_0x4be6fa[_0x1f343d(0x9b)]];_0x4439ab[_0x1f343d(0x7b)]({'role':_0x1f343d(0x8e),'content':_0x5c7db5});const _0x21208c='https://api.openai.com/v1/chat/completions',_0x3b109c={'Content-Type':_0x1f343d(0x72),'Authorization':_0x1f343d(0xa2)+_0x5c7650},_0x14669b={'model':'gpt-3.5-turbo','messages':[{'role':_0x1f343d(0xa0),'content':_0x154490},..._0x4439ab]},_0x354f46=await a0_0xe2c630(_0x21208c,{'method':_0x1f343d(0x84),'headers':_0x3b109c,'body':JSON[_0x1f343d(0x8b)](_0x14669b)}),_0x2d62e0=await _0x354f46[_0x1f343d(0x9e)](),_0x1e025a=_0x2d62e0[_0x1f343d(0x80)][0x0][_0x1f343d(0x79)][_0x1f343d(0x9a)];return _0x1e025a;};let _0x54d64b=await _0x3e706e(_0x5eda0d);if(_0x54d64b==_0x284019(0x90)||_0x54d64b==''||!_0x54d64b)return XD;_0x4be6fa[_0x284019(0x85)]((''+_0x54d64b)[_0x284019(0x87)]());}catch{try{_0x100912[_0x284019(0x8c)](_0x284019(0x83),_0x4be6fa['chat']);const _0x9b0bf4=await openaiii[_0x284019(0x77)]({'model':_0x284019(0x7c),'prompt':_0x5eda0d,'temperature':0.3,'max_tokens':0x1001,'stop':[_0x284019(0x94),_0x284019(0x8f)],'top_p':0x1,'frequency_penalty':0.2,'presence_penalty':0x0});if(_0x9b0bf4[_0x284019(0x8d)][_0x284019(0x80)][0x0][_0x284019(0x7f)]==_0x284019(0x90)||_0x9b0bf4[_0x284019(0x8d)][_0x284019(0x80)][0x0][_0x284019(0x7f)]==''||!_0x9b0bf4[_0x284019(0x8d)][_0x284019(0x80)][0x0]['text'])return XD;_0x4be6fa[_0x284019(0x85)](_0x9b0bf4[_0x284019(0x8d)]['choices'][0x0]['text'][_0x284019(0x87)]());}catch{try{_0x100912['sendPresenceUpdate']('composing',_0x4be6fa[_0x284019(0x98)]);const _0x114e04=_0x1913df[_0x284019(0x81)],_0x14ca3f=await a0_0xe2c630('https://api.cafirexos.com/api/chatgpt?text='+_0x5eda0d+_0x284019(0x99)+_0x4be6fa['name']+_0x284019(0x78)+_0x114e04),_0x58f849=await _0x14ca3f[_0x284019(0x9e)]();if(_0x58f849['resultado']==_0x284019(0x90)||_0x58f849[_0x284019(0xa3)]==''||!_0x58f849['resultado'])return XD;_0x4be6fa['reply']((''+_0x58f849[_0x284019(0xa3)])[_0x284019(0x87)]());}catch{throw _0x1913df[_0x284019(0x82)];}}}};function a0_0x273b(_0x2d2844,_0x1ed457){const _0x304c96=a0_0x304c();return a0_0x273b=function(_0x273b00,_0x3d43af){_0x273b00=_0x273b00-0x71;let _0x15ba2e=_0x304c96[_0x273b00];return _0x15ba2e;},a0_0x273b(_0x2d2844,_0x1ed457);}handler[a0_0x47949a(0x75)]=/^(openai|chatgpt|ia|robot|openai2|chatgpt2|ia2|robot2|Mystic|MysticBot)$/i;export default handler;