const a0_0x388dd1=a0_0x39bb;function a0_0x2fc2(){const _0x11cc5f=['data','name','createCompletion','choices','texto4','composing','sendPresenceUpdate','&prompt=','text','application/json','.json','2449650Jjwnxk','7602858kpkljL','&name=','https://api.cafirexos.com/api/chatgpt?text=','resultado','300340FJWJIr','164952sXosRZ','422152jzYaRU','3WMfBAM','content','./language/','Human:','json','chat','trim','texto1','stringify','https://api.openai.com/v1/chat/completions','language','282drjvmv','users','Bearer\x20','openai_key','error','herramientas_chatgpt','reply','gpt-3.5-turbo','13320CWqmFg','plugins','sender','138760rGanMB'];a0_0x2fc2=function(){return _0x11cc5f;};return a0_0x2fc2();}(function(_0x500d1e,_0x4fb500){const _0x37b82b=a0_0x39bb,_0x237d01=_0x500d1e();while(!![]){try{const _0x483de9=-parseInt(_0x37b82b(0xdd))/0x1+-parseInt(_0x37b82b(0xcc))/0x2*(-parseInt(_0x37b82b(0xe0))/0x3)+parseInt(_0x37b82b(0xdf))/0x4+parseInt(_0x37b82b(0xc9))/0x5*(-parseInt(_0x37b82b(0xc1))/0x6)+-parseInt(_0x37b82b(0xd8))/0x7+-parseInt(_0x37b82b(0xde))/0x8+parseInt(_0x37b82b(0xd9))/0x9;if(_0x483de9===_0x4fb500)break;else _0x237d01['push'](_0x237d01['shift']());}catch(_0x39d9af){_0x237d01['push'](_0x237d01['shift']());}}}(a0_0x2fc2,0x3694b));import a0_0x9415b9 from'node-fetch';import a0_0x283948 from'axios';function a0_0x39bb(_0x169cbb,_0x486b3b){const _0x2fc29b=a0_0x2fc2();return a0_0x39bb=function(_0x39bb36,_0x1d6f58){_0x39bb36=_0x39bb36-0xbe;let _0x3e3e15=_0x2fc29b[_0x39bb36];return _0x3e3e15;},a0_0x39bb(_0x169cbb,_0x486b3b);}import a0_0x3ebed7 from'@vitalets/google-translate-api';import{Configuration,OpenAIApi}from'openai';const configuration=new Configuration({'organization':global['openai_org_id'],'apiKey':global[a0_0x388dd1(0xc4)]}),openaiii=new OpenAIApi(configuration),handler=async(_0x5aa12d,{conn:_0x597199,text:_0x372cd2,usedPrefix:_0x41016b,command:_0x213e8f})=>{const _0x1db5b0=a0_0x388dd1,_0x3d99f1=global,_0x5bf1b8=_0x3d99f1['db'][_0x1db5b0(0xcd)][_0x1db5b0(0xc2)][_0x5aa12d[_0x1db5b0(0xcb)]][_0x1db5b0(0xc0)],_0x28e5dd=JSON['parse'](fs['readFileSync'](_0x1db5b0(0xe2)+_0x5bf1b8+_0x1db5b0(0xd7))),_0x11545b=_0x28e5dd[_0x1db5b0(0xca)][_0x1db5b0(0xc6)];if(_0x41016b=='a'||_0x41016b=='A')return;if(!_0x372cd2)throw _0x11545b[_0x1db5b0(0xe7)][0x0]+'\x20'+(_0x41016b+_0x213e8f)+'\x20'+_0x11545b[_0x1db5b0(0xe7)][0x1]+'\x20'+(_0x41016b+_0x213e8f)+'\x20'+_0x11545b['texto1'][0x2];try{_0x597199['sendPresenceUpdate'](_0x1db5b0(0xd2),_0x5aa12d[_0x1db5b0(0xe5)]);let _0x2df653=_0x11545b['texto2'];async function _0x493da1(_0x503faa){const _0x4d19da=_0x1db5b0,_0x3d874f=global[_0x4d19da(0xc4)];let _0x2c9b56=global['chatgpt'][_0x4d19da(0xcd)][_0x4d19da(0xc2)][_0x5aa12d[_0x4d19da(0xcb)]];_0x2c9b56['push']({'role':'user','content':_0x503faa});const _0x107e7f=_0x4d19da(0xbf),_0x4a68bd={'Content-Type':_0x4d19da(0xd6),'Authorization':_0x4d19da(0xc3)+_0x3d874f},_0x19fc48={'model':_0x4d19da(0xc8),'messages':[{'role':'system','content':_0x2df653},..._0x2c9b56]},_0x5cdfce=await a0_0x9415b9(_0x107e7f,{'method':'POST','headers':_0x4a68bd,'body':JSON[_0x4d19da(0xbe)](_0x19fc48)}),_0x93a486=await _0x5cdfce[_0x4d19da(0xe4)](),_0x45f9c1=_0x93a486[_0x4d19da(0xd0)][0x0]['message'][_0x4d19da(0xe1)];return _0x45f9c1;};let _0x5444b1=await _0x493da1(_0x372cd2);if(_0x5444b1=='error'||_0x5444b1==''||!_0x5444b1)return XD;_0x5aa12d[_0x1db5b0(0xc7)]((''+_0x5444b1)[_0x1db5b0(0xe6)]());}catch{try{_0x597199[_0x1db5b0(0xd3)](_0x1db5b0(0xd2),_0x5aa12d[_0x1db5b0(0xe5)]);const _0xed5888=await openaiii[_0x1db5b0(0xcf)]({'model':'text-davinci-003','prompt':_0x372cd2,'temperature':0.3,'max_tokens':0x1001,'stop':['Ai:',_0x1db5b0(0xe3)],'top_p':0x1,'frequency_penalty':0.2,'presence_penalty':0x0});if(_0xed5888[_0x1db5b0(0xcd)][_0x1db5b0(0xd0)][0x0][_0x1db5b0(0xd5)]==_0x1db5b0(0xc5)||_0xed5888[_0x1db5b0(0xcd)][_0x1db5b0(0xd0)][0x0]['text']==''||!_0xed5888[_0x1db5b0(0xcd)][_0x1db5b0(0xd0)][0x0]['text'])return XD;_0x5aa12d[_0x1db5b0(0xc7)](_0xed5888['data']['choices'][0x0][_0x1db5b0(0xd5)]['trim']());}catch{try{_0x597199[_0x1db5b0(0xd3)](_0x1db5b0(0xd2),_0x5aa12d['chat']);const _0x2f1ed1=_0x11545b['texto3'],_0x436646=await a0_0x9415b9(_0x1db5b0(0xdb)+_0x372cd2+_0x1db5b0(0xda)+_0x5aa12d[_0x1db5b0(0xce)]+_0x1db5b0(0xd4)+_0x2f1ed1),_0x3153c6=await _0x436646[_0x1db5b0(0xe4)]();if(_0x3153c6[_0x1db5b0(0xdc)]=='error'||_0x3153c6[_0x1db5b0(0xdc)]==''||!_0x3153c6[_0x1db5b0(0xdc)])return XD;_0x5aa12d[_0x1db5b0(0xc7)]((''+_0x3153c6['resultado'])[_0x1db5b0(0xe6)]());}catch{throw _0x11545b[_0x1db5b0(0xd1)];}}}};handler['command']=/^(openai|chatgpt|ia|robot|openai2|chatgpt2|ia2|robot2|Mystic|MysticBot)$/i;export default handler;