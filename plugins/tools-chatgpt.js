const a0_0x1bcc12=a0_0x4039;(function(_0x4e2897,_0x2697e6){const _0xfa78ef=a0_0x4039,_0x59bc29=_0x4e2897();while(!![]){try{const _0x4d2597=-parseInt(_0xfa78ef(0x8c))/0x1+parseInt(_0xfa78ef(0x98))/0x2*(parseInt(_0xfa78ef(0x84))/0x3)+-parseInt(_0xfa78ef(0x7f))/0x4+-parseInt(_0xfa78ef(0x78))/0x5+parseInt(_0xfa78ef(0x83))/0x6*(-parseInt(_0xfa78ef(0x9e))/0x7)+-parseInt(_0xfa78ef(0x77))/0x8+-parseInt(_0xfa78ef(0x8a))/0x9*(-parseInt(_0xfa78ef(0xa4))/0xa);if(_0x4d2597===_0x2697e6)break;else _0x59bc29['push'](_0x59bc29['shift']());}catch(_0x327699){_0x59bc29['push'](_0x59bc29['shift']());}}}(a0_0x288f,0x4b1ff));import a0_0x479ae5 from'node-fetch';import a0_0x3a0943 from'axios';import a0_0x3455f0 from'@vitalets/google-translate-api';import{Configuration,OpenAIApi}from'openai';function a0_0x4039(_0x24489c,_0x1c4490){const _0x288fd8=a0_0x288f();return a0_0x4039=function(_0x403987,_0x5a29aa){_0x403987=_0x403987-0x76;let _0x3d4ae5=_0x288fd8[_0x403987];return _0x3d4ae5;},a0_0x4039(_0x24489c,_0x1c4490);}function a0_0x288f(){const _0x1ce724=['resultado','sendPresenceUpdate','openai_org_id','1210nzVFlg','createCompletion','data','trim','sender','user','content','application/json','4090968wJTtaB','2479960nVZiGq','openai_key','https://api.openai.com/v1/chat/completions','&name=','error','gpt-3.5-turbo','composing','1223468XECtOE','users','language','texto1','6504qiZBoN','639YiAMAl','chatgpt','Ai:','push','system','parse','148923cRVtId','stringify','414257mhkXIH','texto3','texto4','&prompt=','Human:','text','message','Bearer\x20','herramientas_chatgpt','text-davinci-003','readFileSync','.json','4534PUKeMX','name','json','choices','reply','plugins','2905yUecyZ','chat','texto2'];a0_0x288f=function(){return _0x1ce724;};return a0_0x288f();}const configuration=new Configuration({'organization':global[a0_0x1bcc12(0xa3)],'apiKey':global[a0_0x1bcc12(0x79)]}),openaiii=new OpenAIApi(configuration),handler=async(_0x3cf3fb,{conn:_0x241c71,text:_0x4e4170,usedPrefix:_0x262414,command:_0x5a9ebd})=>{const _0x4282d9=a0_0x1bcc12,_0x30d419=global,_0x25bac2=_0x30d419['db']['data']['users'][_0x3cf3fb['sender']][_0x4282d9(0x81)],_0x219e99=JSON[_0x4282d9(0x89)](fs[_0x4282d9(0x96)]('./language/'+_0x25bac2+_0x4282d9(0x97))),_0x2a8c34=_0x219e99[_0x4282d9(0x9d)][_0x4282d9(0x94)];if(_0x262414=='a'||_0x262414=='A')return;if(!_0x4e4170)throw _0x2a8c34[_0x4282d9(0x82)][0x0]+'\x20'+(_0x262414+_0x5a9ebd)+'\x20'+_0x2a8c34[_0x4282d9(0x82)][0x1]+'\x20'+(_0x262414+_0x5a9ebd)+'\x20'+_0x2a8c34['texto1'][0x2];try{_0x241c71[_0x4282d9(0xa2)]('composing',_0x3cf3fb[_0x4282d9(0x9f)]);let _0x18c830=_0x2a8c34[_0x4282d9(0xa0)];async function _0x5449a3(_0x3c97c9){const _0x4c80b9=_0x4282d9,_0x5bd350=global[_0x4c80b9(0x79)];let _0x2d07b0=global[_0x4c80b9(0x85)][_0x4c80b9(0xa6)][_0x4c80b9(0x80)][_0x3cf3fb[_0x4c80b9(0xa8)]];_0x2d07b0[_0x4c80b9(0x87)]({'role':_0x4c80b9(0xa9),'content':_0x3c97c9});const _0x4cadc9=_0x4c80b9(0x7a),_0x18bb07={'Content-Type':_0x4c80b9(0x76),'Authorization':_0x4c80b9(0x93)+_0x5bd350},_0x4f194d={'model':_0x4c80b9(0x7d),'messages':[{'role':_0x4c80b9(0x88),'content':_0x18c830},..._0x2d07b0]},_0x29f685=await a0_0x479ae5(_0x4cadc9,{'method':'POST','headers':_0x18bb07,'body':JSON[_0x4c80b9(0x8b)](_0x4f194d)}),_0x9bb017=await _0x29f685['json'](),_0x5c88bc=_0x9bb017[_0x4c80b9(0x9b)][0x0][_0x4c80b9(0x92)][_0x4c80b9(0xaa)];return _0x5c88bc;};let _0x41cab8=await _0x5449a3(_0x4e4170);if(_0x41cab8==_0x4282d9(0x7c)||_0x41cab8==''||!_0x41cab8)return XD;_0x3cf3fb[_0x4282d9(0x9c)]((''+_0x41cab8)[_0x4282d9(0xa7)]());}catch{try{_0x241c71[_0x4282d9(0xa2)]('composing',_0x3cf3fb['chat']);const _0x2be355=await openaiii[_0x4282d9(0xa5)]({'model':_0x4282d9(0x95),'prompt':_0x4e4170,'temperature':0.3,'max_tokens':0x1001,'stop':[_0x4282d9(0x86),_0x4282d9(0x90)],'top_p':0x1,'frequency_penalty':0.2,'presence_penalty':0x0});if(_0x2be355[_0x4282d9(0xa6)][_0x4282d9(0x9b)][0x0][_0x4282d9(0x91)]=='error'||_0x2be355[_0x4282d9(0xa6)][_0x4282d9(0x9b)][0x0][_0x4282d9(0x91)]==''||!_0x2be355[_0x4282d9(0xa6)][_0x4282d9(0x9b)][0x0][_0x4282d9(0x91)])return XD;_0x3cf3fb[_0x4282d9(0x9c)](_0x2be355[_0x4282d9(0xa6)]['choices'][0x0][_0x4282d9(0x91)]['trim']());}catch{try{_0x241c71['sendPresenceUpdate'](_0x4282d9(0x7e),_0x3cf3fb['chat']);const _0x24aa80=_0x2a8c34[_0x4282d9(0x8d)],_0x2d3cd4=await a0_0x479ae5('https://api.cafirexos.com/api/chatgpt?text='+_0x4e4170+_0x4282d9(0x7b)+_0x3cf3fb[_0x4282d9(0x99)]+_0x4282d9(0x8f)+_0x24aa80),_0x449c24=await _0x2d3cd4[_0x4282d9(0x9a)]();if(_0x449c24[_0x4282d9(0xa1)]=='error'||_0x449c24[_0x4282d9(0xa1)]==''||!_0x449c24[_0x4282d9(0xa1)])return XD;_0x3cf3fb[_0x4282d9(0x9c)]((''+_0x449c24['resultado'])[_0x4282d9(0xa7)]());}catch{throw _0x2a8c34[_0x4282d9(0x8e)];}}}};handler['command']=/^(openai|chatgpt|ia|robot|openai2|chatgpt2|ia2|robot2|Mystic|MysticBot)$/i;export default handler;