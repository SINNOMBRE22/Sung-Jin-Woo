const a0_0x2cbba4=a0_0xc960;(function(_0x1cd4f7,_0x1816e2){const _0x5b0a58=a0_0xc960,_0x2bd1ba=_0x1cd4f7();while(!![]){try{const _0x464daa=parseInt(_0x5b0a58(0x189))/0x1+-parseInt(_0x5b0a58(0x167))/0x2*(-parseInt(_0x5b0a58(0x18a))/0x3)+parseInt(_0x5b0a58(0x165))/0x4+-parseInt(_0x5b0a58(0x179))/0x5+-parseInt(_0x5b0a58(0x184))/0x6+-parseInt(_0x5b0a58(0x18d))/0x7*(parseInt(_0x5b0a58(0x18b))/0x8)+-parseInt(_0x5b0a58(0x171))/0x9*(-parseInt(_0x5b0a58(0x17e))/0xa);if(_0x464daa===_0x1816e2)break;else _0x2bd1ba['push'](_0x2bd1ba['shift']());}catch(_0x3d02bc){_0x2bd1ba['push'](_0x2bd1ba['shift']());}}}(a0_0x1de2,0xef545));import a0_0x2d3a12 from'node-fetch';import a0_0x1a3cad from'axios';import a0_0x3f59da from'@vitalets/google-translate-api';function a0_0x1de2(){const _0x42c606=['createCompletion','./language/','https://api.openai.com/v1/chat/completions','application/json','.json','4029450IIHtUa','&name=','error','openai_org_id','choices','1859345sySjZb','76929eUIlxY','5840pTbkyL','text-davinci-003','3052EPHsIJ','sendPresenceUpdate','command','message','Ai:','content','user','texto2','text','1840908RXHbgV','texto1','68sRopHS','system','chatgpt','chat','data','&prompt=','reply','herramientas_chatgpt','composing','users','454203zQVgtJ','readFileSync','trim','resultado','language','texto4','Human:','sender','7115770ZXhdaJ','gpt-3.5-turbo','name','openai_key','push','40WHJEUN'];a0_0x1de2=function(){return _0x42c606;};return a0_0x1de2();}import{Configuration,OpenAIApi}from'openai';const configuration=new Configuration({'organization':global[a0_0x2cbba4(0x187)],'apiKey':global[a0_0x2cbba4(0x17c)]}),openaiii=new OpenAIApi(configuration),handler=async(_0x56f05a,{conn:_0xcf0c4a,text:_0x578445,usedPrefix:_0x828481,command:_0x477183})=>{const _0x2561c5=a0_0x2cbba4,_0x50ce59=global,_0x198faa=_0x50ce59['db'][_0x2561c5(0x16b)][_0x2561c5(0x170)][_0x56f05a['sender']][_0x2561c5(0x175)],_0x5061ce=JSON['parse'](fs[_0x2561c5(0x172)](_0x2561c5(0x180)+_0x198faa+_0x2561c5(0x183))),_0x1045c6=_0x5061ce['plugins'][_0x2561c5(0x16e)];if(_0x828481=='a'||_0x828481=='A')return;if(!_0x578445)throw _0x1045c6[_0x2561c5(0x166)][0x0]+'\x20'+(_0x828481+_0x477183)+'\x20'+_0x1045c6[_0x2561c5(0x166)][0x1]+'\x20'+(_0x828481+_0x477183)+'\x20'+_0x1045c6[_0x2561c5(0x166)][0x2];try{_0xcf0c4a[_0x2561c5(0x15d)](_0x2561c5(0x16f),_0x56f05a[_0x2561c5(0x16a)]);let _0xe13293=_0x1045c6[_0x2561c5(0x163)];async function _0x3d27e8(_0x25726e){const _0x5102fd=_0x2561c5,_0xccd8ac=global[_0x5102fd(0x17c)];let _0x61c969=global[_0x5102fd(0x169)]['data'][_0x5102fd(0x170)][_0x56f05a[_0x5102fd(0x178)]];_0x61c969[_0x5102fd(0x17d)]({'role':_0x5102fd(0x162),'content':_0x25726e});const _0x4f71cd=_0x5102fd(0x181),_0x25860c={'Content-Type':_0x5102fd(0x182),'Authorization':'Bearer\x20'+_0xccd8ac},_0x30fbb9={'model':_0x5102fd(0x17a),'messages':[{'role':_0x5102fd(0x168),'content':_0xe13293},..._0x61c969]},_0x385c4a=await a0_0x2d3a12(_0x4f71cd,{'method':'POST','headers':_0x25860c,'body':JSON['stringify'](_0x30fbb9)}),_0x5b3058=await _0x385c4a['json'](),_0x11be92=_0x5b3058[_0x5102fd(0x188)][0x0][_0x5102fd(0x15f)][_0x5102fd(0x161)];return _0x11be92;};let _0x38543e=await _0x3d27e8(_0x578445);if(_0x38543e==_0x2561c5(0x186)||_0x38543e==''||!_0x38543e)return XD;_0x56f05a[_0x2561c5(0x16d)]((''+_0x38543e)[_0x2561c5(0x173)]());}catch{try{_0xcf0c4a['sendPresenceUpdate']('composing',_0x56f05a[_0x2561c5(0x16a)]);const _0x4bd8c8=await openaiii[_0x2561c5(0x17f)]({'model':_0x2561c5(0x18c),'prompt':_0x578445,'temperature':0.3,'max_tokens':0x1001,'stop':[_0x2561c5(0x160),_0x2561c5(0x177)],'top_p':0x1,'frequency_penalty':0.2,'presence_penalty':0x0});if(_0x4bd8c8['data']['choices'][0x0][_0x2561c5(0x164)]==_0x2561c5(0x186)||_0x4bd8c8['data'][_0x2561c5(0x188)][0x0]['text']==''||!_0x4bd8c8[_0x2561c5(0x16b)][_0x2561c5(0x188)][0x0][_0x2561c5(0x164)])return XD;_0x56f05a[_0x2561c5(0x16d)](_0x4bd8c8[_0x2561c5(0x16b)]['choices'][0x0]['text'][_0x2561c5(0x173)]());}catch{try{_0xcf0c4a['sendPresenceUpdate'](_0x2561c5(0x16f),_0x56f05a[_0x2561c5(0x16a)]);const _0x22f8db=_0x1045c6['texto3'],_0x526973=await a0_0x2d3a12('https://api.cafirexos.com/api/chatgpt?text='+_0x578445+_0x2561c5(0x185)+_0x56f05a[_0x2561c5(0x17b)]+_0x2561c5(0x16c)+_0x22f8db),_0x367a72=await _0x526973['json']();if(_0x367a72[_0x2561c5(0x174)]=='error'||_0x367a72[_0x2561c5(0x174)]==''||!_0x367a72[_0x2561c5(0x174)])return XD;_0x56f05a['reply']((''+_0x367a72['resultado'])['trim']());}catch{throw _0x1045c6[_0x2561c5(0x176)];}}}};function a0_0xc960(_0x5d4cb1,_0x2699fb){const _0x1de273=a0_0x1de2();return a0_0xc960=function(_0xc96013,_0x551760){_0xc96013=_0xc96013-0x15d;let _0x117bc0=_0x1de273[_0xc96013];return _0x117bc0;},a0_0xc960(_0x5d4cb1,_0x2699fb);}handler[a0_0x2cbba4(0x15e)]=/^(openai|chatgpt|ia|robot|openai2|chatgpt2|ia2|robot2|Mystic|MysticBot)$/i;export default handler;