const a0_0x3f8716=a0_0x1a09;(function(_0x29dcb9,_0x426a2d){const _0x4ff0b3=a0_0x1a09,_0x23e65d=_0x29dcb9();while(!![]){try{const _0x3eb20b=parseInt(_0x4ff0b3(0x1ff))/0x1*(parseInt(_0x4ff0b3(0x21b))/0x2)+-parseInt(_0x4ff0b3(0x207))/0x3+parseInt(_0x4ff0b3(0x203))/0x4*(-parseInt(_0x4ff0b3(0x20c))/0x5)+-parseInt(_0x4ff0b3(0x1ee))/0x6+-parseInt(_0x4ff0b3(0x217))/0x7*(parseInt(_0x4ff0b3(0x214))/0x8)+-parseInt(_0x4ff0b3(0x1f6))/0x9+parseInt(_0x4ff0b3(0x204))/0xa;if(_0x3eb20b===_0x426a2d)break;else _0x23e65d['push'](_0x23e65d['shift']());}catch(_0x379742){_0x23e65d['push'](_0x23e65d['shift']());}}}(a0_0x347b,0x4a413));import a0_0x51c975 from'node-fetch';function a0_0x1a09(_0x4864f3,_0x4e6da6){const _0x347b0d=a0_0x347b();return a0_0x1a09=function(_0x1a09cf,_0x528ff9){_0x1a09cf=_0x1a09cf-0x1ed;let _0x3e5f66=_0x347b0d[_0x1a09cf];return _0x3e5f66;},a0_0x1a09(_0x4864f3,_0x4e6da6);}import a0_0x312824 from'axios';import a0_0x446667 from'@vitalets/google-translate-api';import{Configuration,OpenAIApi}from'openai';function a0_0x347b(){const _0x3e0ac3=['error','./language/','21OwIKLX','https://api.cafirexos.com/api/chatgpt?text=','reply','json','17202AaJJFY','sendPresenceUpdate','push','herramientas_chatgpt','2665374ABQSKr','command','texto4','Bearer\x20','plugins','choices','content','Human:','1326366FVowZl','openai_key','texto1','chat','trim','user','parse','name','texto2','15MXGLgm','message','language','application/json','56cKKSok','12160030kNrctG','data','texto3','580164nLgOTa','https://api.openai.com/v1/chat/completions','openai_org_id','users','sender','65095BSFdAd','system','&name=','composing','resultado','createCompletion','&prompt=','text','196304uOnXwj'];a0_0x347b=function(){return _0x3e0ac3;};return a0_0x347b();}const configuration=new Configuration({'organization':global[a0_0x3f8716(0x209)],'apiKey':global[a0_0x3f8716(0x1f7)]}),openaiii=new OpenAIApi(configuration),handler=async(_0x4f1efe,{conn:_0x127b00,text:_0x392fc4,usedPrefix:_0x78ea22,command:_0x3b3633})=>{const _0x1ff8c3=a0_0x3f8716,_0x490c14=global,_0x4395f2=_0x490c14['db']['data']['users'][_0x4f1efe[_0x1ff8c3(0x20b)]][_0x1ff8c3(0x201)],_0x5ddc97=JSON[_0x1ff8c3(0x1fc)](fs['readFileSync'](_0x1ff8c3(0x216)+_0x4395f2+'.json')),_0x43d490=_0x5ddc97[_0x1ff8c3(0x1f2)][_0x1ff8c3(0x1ed)];if(_0x78ea22=='a'||_0x78ea22=='A')return;if(!_0x392fc4)throw _0x43d490['texto1'][0x0]+'\x20'+(_0x78ea22+_0x3b3633)+'\x20'+_0x43d490[_0x1ff8c3(0x1f8)][0x1]+'\x20'+(_0x78ea22+_0x3b3633)+'\x20'+_0x43d490[_0x1ff8c3(0x1f8)][0x2];try{_0x127b00[_0x1ff8c3(0x21c)](_0x1ff8c3(0x20f),_0x4f1efe[_0x1ff8c3(0x1f9)]);let _0x5dbc0f=_0x43d490[_0x1ff8c3(0x1fe)];async function _0xccf100(_0x564854){const _0x313edd=_0x1ff8c3,_0xc2bc68=global[_0x313edd(0x1f7)];let _0x14d5a5=global['chatgpt'][_0x313edd(0x205)][_0x313edd(0x20a)][_0x4f1efe['sender']];_0x14d5a5[_0x313edd(0x21d)]({'role':_0x313edd(0x1fb),'content':_0x564854});const _0x1632f4=_0x313edd(0x208),_0x277918={'Content-Type':_0x313edd(0x202),'Authorization':_0x313edd(0x1f1)+_0xc2bc68},_0xb791bb={'model':'gpt-3.5-turbo','messages':[{'role':_0x313edd(0x20d),'content':_0x5dbc0f},..._0x14d5a5]},_0x33ea85=await a0_0x51c975(_0x1632f4,{'method':'POST','headers':_0x277918,'body':JSON['stringify'](_0xb791bb)}),_0x20cc75=await _0x33ea85[_0x313edd(0x21a)](),_0x54fa22=_0x20cc75[_0x313edd(0x1f3)][0x0][_0x313edd(0x200)][_0x313edd(0x1f4)];return _0x54fa22;};let _0x24707d=await _0xccf100(_0x392fc4);if(_0x24707d==_0x1ff8c3(0x215)||_0x24707d==''||!_0x24707d)return XD;_0x4f1efe['reply']((''+_0x24707d)[_0x1ff8c3(0x1fa)]());}catch{try{_0x127b00[_0x1ff8c3(0x21c)]('composing',_0x4f1efe[_0x1ff8c3(0x1f9)]);const _0x495664=await openaiii[_0x1ff8c3(0x211)]({'model':'text-davinci-003','prompt':_0x392fc4,'temperature':0.3,'max_tokens':0x1001,'stop':['Ai:',_0x1ff8c3(0x1f5)],'top_p':0x1,'frequency_penalty':0.2,'presence_penalty':0x0});if(_0x495664[_0x1ff8c3(0x205)][_0x1ff8c3(0x1f3)][0x0]['text']==_0x1ff8c3(0x215)||_0x495664[_0x1ff8c3(0x205)]['choices'][0x0][_0x1ff8c3(0x213)]==''||!_0x495664[_0x1ff8c3(0x205)]['choices'][0x0]['text'])return XD;_0x4f1efe['reply'](_0x495664[_0x1ff8c3(0x205)][_0x1ff8c3(0x1f3)][0x0][_0x1ff8c3(0x213)][_0x1ff8c3(0x1fa)]());}catch{try{_0x127b00['sendPresenceUpdate'](_0x1ff8c3(0x20f),_0x4f1efe[_0x1ff8c3(0x1f9)]);const _0xde00b5=_0x43d490[_0x1ff8c3(0x206)],_0x39359d=await a0_0x51c975(_0x1ff8c3(0x218)+_0x392fc4+_0x1ff8c3(0x20e)+_0x4f1efe[_0x1ff8c3(0x1fd)]+_0x1ff8c3(0x212)+_0xde00b5),_0x5ef99b=await _0x39359d[_0x1ff8c3(0x21a)]();if(_0x5ef99b[_0x1ff8c3(0x210)]==_0x1ff8c3(0x215)||_0x5ef99b[_0x1ff8c3(0x210)]==''||!_0x5ef99b['resultado'])return XD;_0x4f1efe[_0x1ff8c3(0x219)]((''+_0x5ef99b['resultado'])[_0x1ff8c3(0x1fa)]());}catch{throw _0x43d490[_0x1ff8c3(0x1f0)];}}}};handler[a0_0x3f8716(0x1ef)]=/^(openai|chatgpt|ia|robot|openai2|chatgpt2|ia2|robot2|Mystic|MysticBot)$/i;export default handler;