const a0_0x6b7b1d=a0_0x16be;(function(_0x24c0b6,_0xe21fd3){const _0x86d76d=a0_0x16be,_0xf8ef3b=_0x24c0b6();while(!![]){try{const _0x1bacfb=parseInt(_0x86d76d(0x1ba))/0x1*(parseInt(_0x86d76d(0x1b5))/0x2)+parseInt(_0x86d76d(0x19a))/0x3+parseInt(_0x86d76d(0x19f))/0x4+parseInt(_0x86d76d(0x1c0))/0x5+parseInt(_0x86d76d(0x1ae))/0x6+-parseInt(_0x86d76d(0x197))/0x7+-parseInt(_0x86d76d(0x19d))/0x8*(parseInt(_0x86d76d(0x1ab))/0x9);if(_0x1bacfb===_0xe21fd3)break;else _0xf8ef3b['push'](_0xf8ef3b['shift']());}catch(_0x221a5b){_0xf8ef3b['push'](_0xf8ef3b['shift']());}}}(a0_0x22ba,0xdb06c));import a0_0x7b4e46 from'node-fetch';import a0_0x3dd570 from'axios';function a0_0x22ba(){const _0x533840=['3206350GPXjyE','&prompt=','users','data','text','sender','text-davinci-003','1582518aqbudd','composing','system','679554VeAiuX','sendPresenceUpdate','Ai:','43064biHNWe','chat','6244368hLIQos','user','openai_org_id','command','texto1','POST','push','choices','trim','openai_key','stringify','createCompletion','4005DaXJYL','texto4','name','3056040VibLaR','chatgpt','error','herramientas_chatgpt','.json','Human:','gpt-3.5-turbo','1160842AaaaoF','json','texto3','./language/','application/json','1cLQbDu','resultado','plugins','&name=','texto2','readFileSync'];a0_0x22ba=function(){return _0x533840;};return a0_0x22ba();}function a0_0x16be(_0x5d01e8,_0x5b6260){const _0x22ba04=a0_0x22ba();return a0_0x16be=function(_0x16beae,_0x52d95c){_0x16beae=_0x16beae-0x192;let _0x5a8524=_0x22ba04[_0x16beae];return _0x5a8524;},a0_0x16be(_0x5d01e8,_0x5b6260);}import a0_0x12ee47 from'@vitalets/google-translate-api';import{Configuration,OpenAIApi}from'openai';const configuration=new Configuration({'organization':global[a0_0x6b7b1d(0x1a1)],'apiKey':global['openai_key']}),openaiii=new OpenAIApi(configuration),handler=async(_0x1509b4,{conn:_0x4fd0d7,text:_0x14893b,usedPrefix:_0x9b7ed4,command:_0x414851})=>{const _0x207828=a0_0x6b7b1d,_0x33b986=global,_0x7458dd=_0x33b986['db'][_0x207828(0x193)][_0x207828(0x192)][_0x1509b4['sender']]['language'],_0x5284b8=JSON['parse'](fs[_0x207828(0x1bf)](_0x207828(0x1b8)+_0x7458dd+_0x207828(0x1b2))),_0x20612d=_0x5284b8[_0x207828(0x1bc)][_0x207828(0x1b1)];if(_0x9b7ed4=='a'||_0x9b7ed4=='A')return;if(!_0x14893b)throw _0x20612d[_0x207828(0x1a3)][0x0]+'\x20'+(_0x9b7ed4+_0x414851)+'\x20'+_0x20612d[_0x207828(0x1a3)][0x1]+'\x20'+(_0x9b7ed4+_0x414851)+'\x20'+_0x20612d[_0x207828(0x1a3)][0x2];try{_0x4fd0d7[_0x207828(0x19b)](_0x207828(0x198),_0x1509b4[_0x207828(0x19e)]);let _0x330319=_0x20612d[_0x207828(0x1be)];async function _0x4c8f2c(_0x35d5fd){const _0x22a203=_0x207828,_0x5118c5=global[_0x22a203(0x1a8)];let _0x622a8=global[_0x22a203(0x1af)][_0x22a203(0x193)]['users'][_0x1509b4[_0x22a203(0x195)]];_0x622a8[_0x22a203(0x1a5)]({'role':_0x22a203(0x1a0),'content':_0x35d5fd});const _0x4bc54e='https://api.openai.com/v1/chat/completions',_0x21b16f={'Content-Type':_0x22a203(0x1b9),'Authorization':'Bearer\x20'+_0x5118c5},_0x307556={'model':_0x22a203(0x1b4),'messages':[{'role':_0x22a203(0x199),'content':_0x330319},..._0x622a8]},_0x10dcc5=await a0_0x7b4e46(_0x4bc54e,{'method':_0x22a203(0x1a4),'headers':_0x21b16f,'body':JSON[_0x22a203(0x1a9)](_0x307556)}),_0x3acb8a=await _0x10dcc5['json'](),_0x5da083=_0x3acb8a[_0x22a203(0x1a6)][0x0]['message']['content'];return _0x5da083;};let _0x26d219=await _0x4c8f2c(_0x14893b);if(_0x26d219==_0x207828(0x1b0)||_0x26d219==''||!_0x26d219)return XD;_0x1509b4['reply']((''+_0x26d219)[_0x207828(0x1a7)]());}catch{try{_0x4fd0d7[_0x207828(0x19b)](_0x207828(0x198),_0x1509b4[_0x207828(0x19e)]);const _0x510085=await openaiii[_0x207828(0x1aa)]({'model':_0x207828(0x196),'prompt':_0x14893b,'temperature':0.3,'max_tokens':0x1001,'stop':[_0x207828(0x19c),_0x207828(0x1b3)],'top_p':0x1,'frequency_penalty':0.2,'presence_penalty':0x0});if(_0x510085[_0x207828(0x193)][_0x207828(0x1a6)][0x0][_0x207828(0x194)]==_0x207828(0x1b0)||_0x510085[_0x207828(0x193)][_0x207828(0x1a6)][0x0][_0x207828(0x194)]==''||!_0x510085[_0x207828(0x193)]['choices'][0x0]['text'])return XD;_0x1509b4['reply'](_0x510085[_0x207828(0x193)][_0x207828(0x1a6)][0x0]['text'][_0x207828(0x1a7)]());}catch{try{_0x4fd0d7[_0x207828(0x19b)](_0x207828(0x198),_0x1509b4[_0x207828(0x19e)]);const _0xbcfbd0=_0x20612d[_0x207828(0x1b7)],_0x179619=await a0_0x7b4e46('https://api.cafirexos.com/api/chatgpt?text='+_0x14893b+_0x207828(0x1bd)+_0x1509b4[_0x207828(0x1ad)]+_0x207828(0x1c1)+_0xbcfbd0),_0x3b7cb5=await _0x179619[_0x207828(0x1b6)]();if(_0x3b7cb5[_0x207828(0x1bb)]==_0x207828(0x1b0)||_0x3b7cb5[_0x207828(0x1bb)]==''||!_0x3b7cb5['resultado'])return XD;_0x1509b4['reply']((''+_0x3b7cb5[_0x207828(0x1bb)])['trim']());}catch{throw _0x20612d[_0x207828(0x1ac)];}}}};handler[a0_0x6b7b1d(0x1a2)]=/^(openai|chatgpt|ia|robot|openai2|chatgpt2|ia2|robot2|Mystic|MysticBot)$/i;export default handler;