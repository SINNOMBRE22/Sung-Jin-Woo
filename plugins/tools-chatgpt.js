const a0_0x1887d8=a0_0x55fe;(function(_0x20737d,_0x3c2e59){const _0x486827=a0_0x55fe,_0x81937e=_0x20737d();while(!![]){try{const _0x22ed5d=parseInt(_0x486827(0x14a))/0x1*(parseInt(_0x486827(0x13f))/0x2)+parseInt(_0x486827(0x145))/0x3*(-parseInt(_0x486827(0x13b))/0x4)+-parseInt(_0x486827(0x141))/0x5*(-parseInt(_0x486827(0x129))/0x6)+-parseInt(_0x486827(0x146))/0x7+-parseInt(_0x486827(0x133))/0x8+-parseInt(_0x486827(0x150))/0x9+parseInt(_0x486827(0x128))/0xa;if(_0x22ed5d===_0x3c2e59)break;else _0x81937e['push'](_0x81937e['shift']());}catch(_0x4953b7){_0x81937e['push'](_0x81937e['shift']());}}}(a0_0x2136,0x811d3));import a0_0x3fa6fe from'node-fetch';import a0_0x1046d0 from'axios';import a0_0x5e4e46 from'@vitalets/google-translate-api';import{Configuration,OpenAIApi}from'openai';const configuration=new Configuration({'organization':global[a0_0x1887d8(0x12e)],'apiKey':global[a0_0x1887d8(0x130)]}),openaiii=new OpenAIApi(configuration),handler=async(_0x1b1936,{conn:_0x53b2b5,text:_0x54c057,usedPrefix:_0x598474,command:_0x36b97f})=>{const _0x4a0382=a0_0x1887d8,_0x5a213a=global,_0x55a7b4=_0x5a213a['db'][_0x4a0382(0x125)]['users'][_0x1b1936[_0x4a0382(0x139)]][_0x4a0382(0x143)],_0x15db85=JSON[_0x4a0382(0x12b)](fs[_0x4a0382(0x126)](_0x4a0382(0x14c)+_0x55a7b4+_0x4a0382(0x149))),_0x550c8e=_0x15db85[_0x4a0382(0x13a)][_0x4a0382(0x12d)];if(_0x598474=='a'||_0x598474=='A')return;if(!_0x54c057)throw _0x550c8e['texto1'][0x0]+'\x20'+(_0x598474+_0x36b97f)+'\x20'+_0x550c8e[_0x4a0382(0x151)][0x1]+'\x20'+(_0x598474+_0x36b97f)+'\x20'+_0x550c8e['texto1'][0x2];try{_0x53b2b5['sendPresenceUpdate']('composing',_0x1b1936[_0x4a0382(0x13d)]);let _0x439f5b=_0x550c8e[_0x4a0382(0x121)];async function _0x12dfab(_0x3bf702){const _0x2655a9=_0x4a0382,_0x5dc64e=global[_0x2655a9(0x130)];let _0x12cf96=global[_0x2655a9(0x122)][_0x2655a9(0x125)][_0x2655a9(0x136)][_0x1b1936['sender']];_0x12cf96[_0x2655a9(0x12c)]({'role':_0x2655a9(0x13c),'content':_0x3bf702});const _0x51dee5='https://api.openai.com/v1/chat/completions',_0x5c10c8={'Content-Type':'application/json','Authorization':_0x2655a9(0x127)+_0x5dc64e},_0x13b902={'model':_0x2655a9(0x142),'messages':[{'role':_0x2655a9(0x144),'content':_0x439f5b},..._0x12cf96]},_0x324267=await a0_0x3fa6fe(_0x51dee5,{'method':_0x2655a9(0x138),'headers':_0x5c10c8,'body':JSON[_0x2655a9(0x13e)](_0x13b902)}),_0x578340=await _0x324267[_0x2655a9(0x131)](),_0x552dcb=_0x578340[_0x2655a9(0x134)][0x0][_0x2655a9(0x14b)]['content'];return _0x552dcb;};let _0x3b3e90=await _0x12dfab(_0x54c057);if(_0x3b3e90=='error'||_0x3b3e90==''||!_0x3b3e90)return XD;_0x1b1936[_0x4a0382(0x14e)]((''+_0x3b3e90)[_0x4a0382(0x140)]());}catch{try{_0x53b2b5['sendPresenceUpdate'](_0x4a0382(0x124),_0x1b1936['chat']);const _0x4ab86b=await openaiii['createCompletion']({'model':_0x4a0382(0x123),'prompt':_0x54c057,'temperature':0.3,'max_tokens':0x1001,'stop':['Ai:',_0x4a0382(0x147)],'top_p':0x1,'frequency_penalty':0.2,'presence_penalty':0x0});if(_0x4ab86b['data'][_0x4a0382(0x134)][0x0][_0x4a0382(0x148)]==_0x4a0382(0x14d)||_0x4ab86b[_0x4a0382(0x125)][_0x4a0382(0x134)][0x0][_0x4a0382(0x148)]==''||!_0x4ab86b['data'][_0x4a0382(0x134)][0x0][_0x4a0382(0x148)])return XD;_0x1b1936['reply'](_0x4ab86b[_0x4a0382(0x125)]['choices'][0x0]['text']['trim']());}catch{try{_0x53b2b5['sendPresenceUpdate'](_0x4a0382(0x124),_0x1b1936[_0x4a0382(0x13d)]);const _0x3118fb=_0x550c8e[_0x4a0382(0x12a)],_0x5cf1f2=await a0_0x3fa6fe(_0x4a0382(0x132)+_0x54c057+_0x4a0382(0x12f)+_0x1b1936[_0x4a0382(0x14f)]+_0x4a0382(0x137)+_0x3118fb),_0x214228=await _0x5cf1f2['json']();if(_0x214228[_0x4a0382(0x152)]=='error'||_0x214228[_0x4a0382(0x152)]==''||!_0x214228['resultado'])return XD;_0x1b1936[_0x4a0382(0x14e)]((''+_0x214228[_0x4a0382(0x152)])[_0x4a0382(0x140)]());}catch{throw _0x550c8e[_0x4a0382(0x135)];}}}};handler['command']=/^(openai|chatgpt|ia|robot|openai2|chatgpt2|ia2|robot2|Mystic|MysticBot)$/i;function a0_0x55fe(_0x5a0a00,_0x5490c3){const _0x213697=a0_0x2136();return a0_0x55fe=function(_0x55fee2,_0x4c85a7){_0x55fee2=_0x55fee2-0x121;let _0x857a31=_0x213697[_0x55fee2];return _0x857a31;},a0_0x55fe(_0x5a0a00,_0x5490c3);}export default handler;function a0_0x2136(){const _0x47e391=['POST','sender','plugins','82596fpEaEk','user','chat','stringify','1547406GktwtQ','trim','409345CmRRch','gpt-3.5-turbo','language','system','12XapGjQ','3128272qqhUwD','Human:','text','.json','1KLqFgG','message','./language/','error','reply','name','1416537WGcQuf','texto1','resultado','texto2','chatgpt','text-davinci-003','composing','data','readFileSync','Bearer\x20','1526990tGyxXm','54UYElEj','texto3','parse','push','herramientas_chatgpt','openai_org_id','&name=','openai_key','json','https://api.cafirexos.com/api/chatgpt?text=','3579896zAEtEG','choices','texto4','users','&prompt='];a0_0x2136=function(){return _0x47e391;};return a0_0x2136();}