const a0_0x4076a0=a0_0x4595;(function(_0x1dc522,_0x29b56f){const _0x9bf236=a0_0x4595,_0x573ac6=_0x1dc522();while(!![]){try{const _0x36eb60=-parseInt(_0x9bf236(0x1c3))/0x1+parseInt(_0x9bf236(0x1ce))/0x2+parseInt(_0x9bf236(0x1bc))/0x3+-parseInt(_0x9bf236(0x1e2))/0x4*(parseInt(_0x9bf236(0x1e5))/0x5)+-parseInt(_0x9bf236(0x1e0))/0x6+parseInt(_0x9bf236(0x1d4))/0x7+parseInt(_0x9bf236(0x1c1))/0x8*(parseInt(_0x9bf236(0x1d3))/0x9);if(_0x36eb60===_0x29b56f)break;else _0x573ac6['push'](_0x573ac6['shift']());}catch(_0x323297){_0x573ac6['push'](_0x573ac6['shift']());}}}(a0_0xf698,0xb702e));import a0_0x52e298 from'node-fetch';import a0_0x2a94de from'axios';import a0_0x12d604 from'@vitalets/google-translate-api';import{Configuration,OpenAIApi}from'openai';function a0_0xf698(){const _0x2fff1e=['text','gpt-3.5-turbo','sendPresenceUpdate','https://api.cafirexos.com/api/chatgpt?text=','texto1','openai_org_id','.json','2867232mHFTVl','trim','resultado','texto3','readFileSync','6271614sfvQZZ','3729299BGJeWd','application/json','chatgpt','&name=','reply','Ai:','system','createCompletion','stringify','choices','herramientas_chatgpt','sender','8263428bEXaxz','data','16gWrAgW','./language/','language','1684205kSiPiq','name','Human:','json','composing','texto2','command','683319YbXmXm','plugins','text-davinci-003','Bearer\x20','https://api.openai.com/v1/chat/completions','24kMsyeT','error','810468gsvDmx','content','chat','user'];a0_0xf698=function(){return _0x2fff1e;};return a0_0xf698();}function a0_0x4595(_0xdc1e86,_0xb103f6){const _0xf6986d=a0_0xf698();return a0_0x4595=function(_0x4595dc,_0x173799){_0x4595dc=_0x4595dc-0x1b6;let _0x35e7d8=_0xf6986d[_0x4595dc];return _0x35e7d8;},a0_0x4595(_0xdc1e86,_0xb103f6);}const configuration=new Configuration({'organization':global[a0_0x4076a0(0x1cc)],'apiKey':global['openai_key']}),openaiii=new OpenAIApi(configuration),handler=async(_0x54d535,{conn:_0x30e60c,text:_0xdf5740,usedPrefix:_0x1e788e,command:_0x4ed694})=>{const _0x307c9d=a0_0x4076a0,_0x4faa36=global,_0x59c213=_0x4faa36['db'][_0x307c9d(0x1e1)]['users'][_0x54d535['sender']][_0x307c9d(0x1e4)],_0x53a8bc=JSON['parse'](fs[_0x307c9d(0x1d2)](_0x307c9d(0x1e3)+_0x59c213+_0x307c9d(0x1cd))),_0x2dc47e=_0x53a8bc[_0x307c9d(0x1bd)][_0x307c9d(0x1de)];if(_0x1e788e=='a'||_0x1e788e=='A')return;if(!_0xdf5740)throw _0x2dc47e[_0x307c9d(0x1cb)][0x0]+'\x20'+(_0x1e788e+_0x4ed694)+'\x20'+_0x2dc47e[_0x307c9d(0x1cb)][0x1]+'\x20'+(_0x1e788e+_0x4ed694)+'\x20'+_0x2dc47e[_0x307c9d(0x1cb)][0x2];try{_0x30e60c['sendPresenceUpdate'](_0x307c9d(0x1b9),_0x54d535[_0x307c9d(0x1c5)]);let _0xb8119=_0x2dc47e[_0x307c9d(0x1ba)];async function _0x434646(_0x21d0a0){const _0x3a4015=_0x307c9d,_0x529086=global['openai_key'];let _0x1f6369=global[_0x3a4015(0x1d6)][_0x3a4015(0x1e1)]['users'][_0x54d535[_0x3a4015(0x1df)]];_0x1f6369['push']({'role':_0x3a4015(0x1c6),'content':_0x21d0a0});const _0x167e53=_0x3a4015(0x1c0),_0x4f6e37={'Content-Type':_0x3a4015(0x1d5),'Authorization':_0x3a4015(0x1bf)+_0x529086},_0x5ecc2e={'model':_0x3a4015(0x1c8),'messages':[{'role':_0x3a4015(0x1da),'content':_0xb8119},..._0x1f6369]},_0x158890=await a0_0x52e298(_0x167e53,{'method':'POST','headers':_0x4f6e37,'body':JSON[_0x3a4015(0x1dc)](_0x5ecc2e)}),_0x585df2=await _0x158890[_0x3a4015(0x1b8)](),_0x28a5a0=_0x585df2[_0x3a4015(0x1dd)][0x0]['message'][_0x3a4015(0x1c4)];return _0x28a5a0;};let _0x3c7f04=await _0x434646(_0xdf5740);if(_0x3c7f04==_0x307c9d(0x1c2)||_0x3c7f04==''||!_0x3c7f04)return XD;_0x54d535[_0x307c9d(0x1d8)]((''+_0x3c7f04)[_0x307c9d(0x1cf)]());}catch{try{_0x30e60c[_0x307c9d(0x1c9)](_0x307c9d(0x1b9),_0x54d535[_0x307c9d(0x1c5)]);const _0x39e359=await openaiii[_0x307c9d(0x1db)]({'model':_0x307c9d(0x1be),'prompt':_0xdf5740,'temperature':0.3,'max_tokens':0x1001,'stop':[_0x307c9d(0x1d9),_0x307c9d(0x1b7)],'top_p':0x1,'frequency_penalty':0.2,'presence_penalty':0x0});if(_0x39e359['data'][_0x307c9d(0x1dd)][0x0][_0x307c9d(0x1c7)]==_0x307c9d(0x1c2)||_0x39e359[_0x307c9d(0x1e1)][_0x307c9d(0x1dd)][0x0][_0x307c9d(0x1c7)]==''||!_0x39e359['data'][_0x307c9d(0x1dd)][0x0][_0x307c9d(0x1c7)])return XD;_0x54d535[_0x307c9d(0x1d8)](_0x39e359[_0x307c9d(0x1e1)][_0x307c9d(0x1dd)][0x0][_0x307c9d(0x1c7)][_0x307c9d(0x1cf)]());}catch{try{_0x30e60c[_0x307c9d(0x1c9)](_0x307c9d(0x1b9),_0x54d535[_0x307c9d(0x1c5)]);const _0x1d5e36=_0x2dc47e[_0x307c9d(0x1d1)],_0xc5b7db=await a0_0x52e298(_0x307c9d(0x1ca)+_0xdf5740+_0x307c9d(0x1d7)+_0x54d535[_0x307c9d(0x1b6)]+'&prompt='+_0x1d5e36),_0x571f7f=await _0xc5b7db['json']();if(_0x571f7f[_0x307c9d(0x1d0)]==_0x307c9d(0x1c2)||_0x571f7f[_0x307c9d(0x1d0)]==''||!_0x571f7f[_0x307c9d(0x1d0)])return XD;_0x54d535['reply']((''+_0x571f7f[_0x307c9d(0x1d0)])['trim']());}catch{throw _0x2dc47e['texto4'];}}}};handler[a0_0x4076a0(0x1bb)]=/^(openai|chatgpt|ia|robot|openai2|chatgpt2|ia2|robot2|Mystic|MysticBot)$/i;export default handler;