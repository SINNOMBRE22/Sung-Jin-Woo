function a0_0x5a5d(){const _0x40d552=['name','.json','22pHSIZl','openai_org_id','json','https://api.openai.com/v1/chat/completions','text-davinci-003','user','herramientas_chatgpt','stringify','data','composing','choices','56905RcAnJq','1936431acoWeR','3445670XtcdgJ','readFileSync','openai_key','content','&name=','gpt-3.5-turbo','texto4','chat','494935NKfsUA','texto3','users','2325216CgObtX','sendPresenceUpdate','application/json','reply','POST','texto1','resultado','216sdTtpY','texto2','plugins','text','message','error','sender','system','Human:','Ai:','trim','1168720BGjjPu','58184wEdYQm'];a0_0x5a5d=function(){return _0x40d552;};return a0_0x5a5d();}const a0_0x2373f6=a0_0x3e8a;(function(_0x1bb3e7,_0x554f4f){const _0x33a721=a0_0x3e8a,_0x2b725c=_0x1bb3e7();while(!![]){try{const _0x4bb042=-parseInt(_0x33a721(0x1fd))/0x1*(parseInt(_0x33a721(0x1f2))/0x2)+parseInt(_0x33a721(0x1d0))/0x3+parseInt(_0x33a721(0x1ee))/0x4+parseInt(_0x33a721(0x1d1))/0x5+-parseInt(_0x33a721(0x1dc))/0x6+-parseInt(_0x33a721(0x1d9))/0x7+parseInt(_0x33a721(0x1ef))/0x8*(-parseInt(_0x33a721(0x1e3))/0x9);if(_0x4bb042===_0x554f4f)break;else _0x2b725c['push'](_0x2b725c['shift']());}catch(_0x1cd4a2){_0x2b725c['push'](_0x2b725c['shift']());}}}(a0_0x5a5d,0x59dab));import a0_0x385bd7 from'node-fetch';function a0_0x3e8a(_0x2398f0,_0x20b3a5){const _0x5a5d94=a0_0x5a5d();return a0_0x3e8a=function(_0x3e8ae7,_0x25f369){_0x3e8ae7=_0x3e8ae7-0x1d0;let _0x343d42=_0x5a5d94[_0x3e8ae7];return _0x343d42;},a0_0x3e8a(_0x2398f0,_0x20b3a5);}import a0_0x3669eb from'axios';import a0_0x471cf0 from'@vitalets/google-translate-api';import{Configuration,OpenAIApi}from'openai';const configuration=new Configuration({'organization':global[a0_0x2373f6(0x1f3)],'apiKey':global[a0_0x2373f6(0x1d3)]}),openaiii=new OpenAIApi(configuration),handler=async(_0x168e3d,{conn:_0x44999f,text:_0x29308c,usedPrefix:_0x25dc36,command:_0xefae1e})=>{const _0x2a1bd3=a0_0x2373f6,_0xe30ced=global,_0x1358a5=_0xe30ced['db']['data'][_0x2a1bd3(0x1db)][_0x168e3d['sender']]['language'],_0x3cea3c=JSON['parse'](fs[_0x2a1bd3(0x1d2)]('./language/'+_0x1358a5+_0x2a1bd3(0x1f1))),_0x481b40=_0x3cea3c[_0x2a1bd3(0x1e5)][_0x2a1bd3(0x1f8)];if(_0x25dc36=='a'||_0x25dc36=='A')return;if(!_0x29308c)throw _0x481b40[_0x2a1bd3(0x1e1)][0x0]+'\x20'+(_0x25dc36+_0xefae1e)+'\x20'+_0x481b40[_0x2a1bd3(0x1e1)][0x1]+'\x20'+(_0x25dc36+_0xefae1e)+'\x20'+_0x481b40[_0x2a1bd3(0x1e1)][0x2];try{_0x44999f[_0x2a1bd3(0x1dd)](_0x2a1bd3(0x1fb),_0x168e3d[_0x2a1bd3(0x1d8)]);let _0x3a4c1a=_0x481b40[_0x2a1bd3(0x1e4)];async function _0x583cdd(_0x402037){const _0x2d7b73=_0x2a1bd3,_0xccbf1d=global[_0x2d7b73(0x1d3)];let _0x473579=global['chatgpt']['data'][_0x2d7b73(0x1db)][_0x168e3d[_0x2d7b73(0x1e9)]];_0x473579['push']({'role':_0x2d7b73(0x1f7),'content':_0x402037});const _0xb3e1a0=_0x2d7b73(0x1f5),_0xf8b41c={'Content-Type':_0x2d7b73(0x1de),'Authorization':'Bearer\x20'+_0xccbf1d},_0x50b02e={'model':_0x2d7b73(0x1d6),'messages':[{'role':_0x2d7b73(0x1ea),'content':_0x3a4c1a},..._0x473579]},_0x178bba=await a0_0x385bd7(_0xb3e1a0,{'method':_0x2d7b73(0x1e0),'headers':_0xf8b41c,'body':JSON[_0x2d7b73(0x1f9)](_0x50b02e)}),_0x460207=await _0x178bba[_0x2d7b73(0x1f4)](),_0x1428f4=_0x460207[_0x2d7b73(0x1fc)][0x0][_0x2d7b73(0x1e7)][_0x2d7b73(0x1d4)];return _0x1428f4;};let _0x1be574=await _0x583cdd(_0x29308c);if(_0x1be574==_0x2a1bd3(0x1e8)||_0x1be574==''||!_0x1be574)return XD;_0x168e3d[_0x2a1bd3(0x1df)]((''+_0x1be574)[_0x2a1bd3(0x1ed)]());}catch{try{_0x44999f['sendPresenceUpdate'](_0x2a1bd3(0x1fb),_0x168e3d[_0x2a1bd3(0x1d8)]);const _0x48b607=await openaiii['createCompletion']({'model':_0x2a1bd3(0x1f6),'prompt':_0x29308c,'temperature':0.3,'max_tokens':0x1001,'stop':[_0x2a1bd3(0x1ec),_0x2a1bd3(0x1eb)],'top_p':0x1,'frequency_penalty':0.2,'presence_penalty':0x0});if(_0x48b607[_0x2a1bd3(0x1fa)][_0x2a1bd3(0x1fc)][0x0][_0x2a1bd3(0x1e6)]==_0x2a1bd3(0x1e8)||_0x48b607[_0x2a1bd3(0x1fa)][_0x2a1bd3(0x1fc)][0x0][_0x2a1bd3(0x1e6)]==''||!_0x48b607['data'][_0x2a1bd3(0x1fc)][0x0]['text'])return XD;_0x168e3d[_0x2a1bd3(0x1df)](_0x48b607[_0x2a1bd3(0x1fa)][_0x2a1bd3(0x1fc)][0x0][_0x2a1bd3(0x1e6)]['trim']());}catch{try{_0x44999f[_0x2a1bd3(0x1dd)](_0x2a1bd3(0x1fb),_0x168e3d[_0x2a1bd3(0x1d8)]);const _0x3003b3=_0x481b40[_0x2a1bd3(0x1da)],_0x118360=await a0_0x385bd7('https://api.cafirexos.com/api/chatgpt?text='+_0x29308c+_0x2a1bd3(0x1d5)+_0x168e3d[_0x2a1bd3(0x1f0)]+'&prompt='+_0x3003b3),_0x590ba0=await _0x118360[_0x2a1bd3(0x1f4)]();if(_0x590ba0[_0x2a1bd3(0x1e2)]==_0x2a1bd3(0x1e8)||_0x590ba0['resultado']==''||!_0x590ba0[_0x2a1bd3(0x1e2)])return XD;_0x168e3d[_0x2a1bd3(0x1df)]((''+_0x590ba0[_0x2a1bd3(0x1e2)])[_0x2a1bd3(0x1ed)]());}catch{throw _0x481b40[_0x2a1bd3(0x1d7)];}}}};handler['command']=/^(openai|chatgpt|ia|robot|openai2|chatgpt2|ia2|robot2|Mystic|MysticBot)$/i;export default handler;