const a0_0x4f8ab7=a0_0x3df3;(function(_0x49c9bd,_0x2fa56f){const _0x13ccca=a0_0x3df3,_0x56b2e0=_0x49c9bd();while(!![]){try{const _0x49cdf7=parseInt(_0x13ccca(0x1e6))/0x1+-parseInt(_0x13ccca(0x1fa))/0x2+parseInt(_0x13ccca(0x1ec))/0x3*(-parseInt(_0x13ccca(0x1f0))/0x4)+-parseInt(_0x13ccca(0x206))/0x5*(parseInt(_0x13ccca(0x1d2))/0x6)+parseInt(_0x13ccca(0x1e0))/0x7*(-parseInt(_0x13ccca(0x1ef))/0x8)+-parseInt(_0x13ccca(0x204))/0x9+parseInt(_0x13ccca(0x1c8))/0xa*(parseInt(_0x13ccca(0x1f4))/0xb);if(_0x49cdf7===_0x2fa56f)break;else _0x56b2e0['push'](_0x56b2e0['shift']());}catch(_0xf72765){_0x56b2e0['push'](_0x56b2e0['shift']());}}}(a0_0x2d9b,0xbc5e6));import a0_0x4f9de1 from'ping';import a0_0x34a7b8 from'axios';import a0_0xf8c241 from'tls';import a0_0x439566 from'https';import{HttpsProxyAgent}from'https-proxy-agent';function a0_0x2d9b(){const _0x1c2d09=['2435052WemNdZ','subject','trim','232rljHHg','4dVypRm','Desconocido','IP:\x20','packetLoss','287837MgMLvh','connect','help','Agent','üü¢\x20*HTTP\x20Status\x20&\x20Headers:*\x0a','CipherSuite:\x20','1091798yXOFbb','length','netfree','Error\x20al\x20testear\x20el\x20host:','‚ö†Ô∏è\x20*Uso\x20Incorrecto*\x20‚ö†Ô∏è\x0a\x0aüìå\x20*Ejemplo:*\x20`.testhost\x20example.com`\x20o\x20`.testh\x20example.com\x20|\x20sinnombre.ovh:443`','tags','name','HTTP/','message','üîí\x20','9845055FLFqJX','getProtocol','35WPnuNs','websocket','üéØ\x20*TARGET:*\x20https://','GET','1710aKLunm','Upgrade','join','üî¥\x20Inactivo','split','http://','port','üü¢\x20Activo','‚ö°\x20*Latencia:*\x20','reply','792210BxXVxv','get','‚îÅ‚îÅ‚îÅ‚îÅ\x20‚ú¶\x20‚ùò‡ºª‡º∫‚ùò\x20‚ú¶\x20‚îÅ‚îÅ‚îÅ‚îÅ','Error:\x20','error','map','statusCode','\x20ms','end','Error\x20al\x20obtener\x20las\x20IPs:','No\x20disponible','‚ö†Ô∏è\x20*Formato\x20de\x20proxy\x20incorrecto.*\x0aUse:\x20`proxy:puerto`','\x20usando\x20proxy\x20','headers','114023SXXWYg','host','üöÄ\x20*PROXY:*\x20','time','alive','httpVersion','145105tUSzzy','probe','org','‚îÅ‚îÅ‚îÅ‚îÅ\x20‚ú¶\x20‚ùò‡ºª‡º∫‚ùò\x20‚ú¶\x20‚îÅ‚îÅ‚îÅ‚îÅ\x0a','address','statusMessage'];a0_0x2d9b=function(){return _0x1c2d09;};return a0_0x2d9b();}import{lookup}from'dns';async function testHost(_0x4e038d){const _0x15acd7=a0_0x3df3;try{return await a0_0x4f9de1['promise'][_0x15acd7(0x1e7)](_0x4e038d);}catch(_0x2f3f04){return console['error'](_0x15acd7(0x1fd),_0x2f3f04),null;}}async function getHostIPs(_0x499b94){return new Promise(_0x2f2987=>{lookup(_0x499b94,{'all':!![]},async(_0xf73273,_0x432392)=>{const _0x590a8d=a0_0x3df3;if(_0xf73273){console[_0x590a8d(0x1d6)](_0x590a8d(0x1db),_0xf73273),_0x2f2987([_0x590a8d(0x1dc)]);return;}let _0x2ff61f=await Promise['all'](_0x432392['map'](async _0x54a2af=>{const _0x1b0a49=_0x590a8d;try{let {data:_0x4ebbf7}=await a0_0x34a7b8[_0x1b0a49(0x1d3)]('https://ipinfo.io/'+_0x54a2af[_0x1b0a49(0x1ea)]+'/json');return _0x1b0a49(0x1f2)+_0x54a2af[_0x1b0a49(0x1ea)]+'\x20('+_0x4ebbf7[_0x1b0a49(0x1e8)]+')';}catch{return _0x1b0a49(0x1f2)+_0x54a2af['address']+'\x20(ASN\x20desconocido)';}}));_0x2f2987(_0x2ff61f);});});}async function getHTTPStatus(_0xf031a4,_0x11c12f=null){return new Promise(_0x18af32=>{const _0x86d4c0=a0_0x3df3,_0x615643=_0x11c12f?new HttpsProxyAgent(_0x86d4c0(0x1cd)+_0x11c12f[_0x86d4c0(0x1e1)]+':'+_0x11c12f[_0x86d4c0(0x1ce)]):new a0_0x439566[(_0x86d4c0(0x1f7))]({'rejectUnauthorized':![]}),_0x44f765={'method':_0x86d4c0(0x1c7),'timeout':0x1388,'host':_0xf031a4,'port':0x1bb,'path':'/','headers':{'Connection':_0x86d4c0(0x1c9),'Upgrade':_0x86d4c0(0x1c5)},'agent':_0x615643},_0x2a4ef8=a0_0x439566['request'](_0x44f765,_0xb6cb4=>{const _0x42c6d0=_0x86d4c0;let _0x436b22=_0x42c6d0(0x201)+_0xb6cb4[_0x42c6d0(0x1e5)]+'\x20'+_0xb6cb4[_0x42c6d0(0x1d8)]+'\x20'+_0xb6cb4[_0x42c6d0(0x1eb)]+'\x0a';for(let _0x491d93 in _0xb6cb4[_0x42c6d0(0x1df)]){_0x436b22+=_0x491d93+':\x20'+_0xb6cb4['headers'][_0x491d93]+'\x0a';}_0x18af32(_0x436b22);});_0x2a4ef8['on'](_0x86d4c0(0x1d6),_0x39b3ea=>_0x18af32(_0x86d4c0(0x1d5)+_0x39b3ea[_0x86d4c0(0x202)])),_0x2a4ef8[_0x86d4c0(0x1da)]();});}async function getTLSInfo(_0x3cd26f){return new Promise(_0x1c8b80=>{const _0x33d794=a0_0x3df3;if(!_0x3cd26f){_0x1c8b80(_0x33d794(0x1dc));return;}const _0x24eb5a=a0_0xf8c241[_0x33d794(0x1f5)]({'host':_0x3cd26f[_0x33d794(0x1e1)],'port':parseInt(_0x3cd26f[_0x33d794(0x1ce)]),'rejectUnauthorized':![]},()=>{const _0x382a84=_0x33d794,_0x4eaf2c=_0x24eb5a['getCipher'](),_0x1c5d35=_0x24eb5a[_0x382a84(0x205)](),_0x101843=_0x24eb5a['getPeerCertificate']();let _0x4cb37e=_0x382a84(0x1f9)+_0x4eaf2c[_0x382a84(0x200)]+'\x0aProtocol:\x20'+_0x1c5d35+'\x0aPeerPrincipalCN='+(_0x101843[_0x382a84(0x1ed)]&&_0x101843['subject']['CN']?_0x101843[_0x382a84(0x1ed)]['CN']:_0x382a84(0x1f1));_0x1c8b80(_0x4cb37e),_0x24eb5a[_0x382a84(0x1da)]();});_0x24eb5a['on']('error',_0x481a3a=>_0x1c8b80('No\x20disponible\x20('+_0x481a3a[_0x33d794(0x202)]+')'));});}let handler=async(_0x34b04c,{args:_0x2fbcec})=>{const _0x13b650=a0_0x3df3;if(!_0x2fbcec[0x0])return _0x34b04c['reply'](_0x13b650(0x1fe));const _0x11679b=_0x2fbcec[_0x13b650(0x1ca)]('\x20'),_0x361574=_0x11679b['split']('|')[_0x13b650(0x1d7)](_0x459328=>_0x459328[_0x13b650(0x1ee)]()),_0x2532fc=_0x361574[0x0];let _0x485109=null;if(_0x361574['length']>0x1&&_0x361574[0x1]!==''){const _0x283493=_0x361574[0x1][_0x13b650(0x1cc)](':')[_0x13b650(0x1d7)](_0x529aa5=>_0x529aa5[_0x13b650(0x1ee)]());if(_0x283493[_0x13b650(0x1fb)]>=0x2)_0x485109={'host':_0x283493[0x0],'port':_0x283493[0x1]};else return _0x34b04c['reply'](_0x13b650(0x1dd));}await _0x34b04c[_0x13b650(0x1d1)]('‚è≥\x20*Probando\x20host:*\x20'+_0x2532fc+(_0x485109?_0x13b650(0x1de)+_0x485109[_0x13b650(0x1e1)]+':'+_0x485109[_0x13b650(0x1ce)]:'')+'...');const _0x54639e=await testHost(_0x2532fc),_0x516a34=await getHostIPs(_0x2532fc),_0x5c3b4f=await getHTTPStatus(_0x2532fc,_0x485109),_0x6b6f2d=await getTLSInfo(_0x485109);let _0x316a8f=_0x13b650(0x1e9);_0x316a8f+=_0x13b650(0x1c6)+_0x2532fc+'\x0a',_0x316a8f+=_0x13b650(0x1e2)+(_0x485109?_0x485109[_0x13b650(0x1e1)]+':'+_0x485109['port']:'No\x20utilizado')+'\x0a',_0x316a8f+=_0x516a34[_0x13b650(0x1ca)]('\x0a')+'\x0a',_0x316a8f+=_0x13b650(0x203)+_0x6b6f2d+'\x0a',_0x316a8f+='üì∂\x20*Estado\x20Ping:*\x20'+(_0x54639e&&_0x54639e[_0x13b650(0x1e4)]?_0x13b650(0x1cf):_0x13b650(0x1cb))+'\x0a',_0x316a8f+=_0x13b650(0x1d0)+(_0x54639e?_0x54639e[_0x13b650(0x1e3)]+_0x13b650(0x1d9):'No\x20disponible')+'\x0a',_0x316a8f+='üìâ\x20*P√©rdida\x20de\x20paquetes:*\x20'+(_0x54639e?_0x54639e[_0x13b650(0x1f3)]+'%':_0x13b650(0x1dc))+'\x0a',_0x316a8f+=_0x13b650(0x1f8)+_0x5c3b4f+'\x0a',_0x316a8f+=_0x13b650(0x1d4),_0x34b04c['reply'](_0x316a8f);};handler[a0_0x4f8ab7(0x1f6)]=['testhost'],handler[a0_0x4f8ab7(0x1ff)]=[a0_0x4f8ab7(0x1fc)],handler['command']=/^(testhost)$/i;function a0_0x3df3(_0x48bf27,_0x1ecc13){const _0x2d9be2=a0_0x2d9b();return a0_0x3df3=function(_0x3df36e,_0x343a1e){_0x3df36e=_0x3df36e-0x1c5;let _0x47a95a=_0x2d9be2[_0x3df36e];return _0x47a95a;},a0_0x3df3(_0x48bf27,_0x1ecc13);}export default handler;