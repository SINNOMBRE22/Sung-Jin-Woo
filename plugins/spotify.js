function a0_0x571f(){const _0x2d499b=['❌\x20No\x20results\x20found,\x20please\x20try\x20again.','get','2272143DUkMME','https://archive-ui.tanakadomp.biz.id/download/spotify?url=','2637848XYDZWE','error','Bearer\x20','/search/spotify?q=','data','command','Error\x20in\x20spotifyxv:\x20','22164GrMinD','3041xXsjyi','images','10888eYsnnL','from','grant_type=client_credentials','post','name','download','\x0aTitle:\x20','1611uKksmL','\x20<search\x20query>','map','⚠️\x20No\x20results\x20found\x20for\x20that\x20query.','title','Error\x20in\x20tokens:\x20','url','application/x-www-form-urlencoded','json','290IxxuuY','sendMessage','length','https://api.spotify.com/v1/search?q=','188ZmqbSx','artists','duration_ms','\x0aArtist:\x20','673739ZMScgQ','4611355GZDCsw','result','audio/mpeg','artist','Basic\x20','react','floor','\x0a\x20\x20','\x0aAlbum:\x20','/download/spotifydl?url=','chat','acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009','items','161sEneQz','.mp3','base64','music','external_urls','album','https://accounts.spotify.com/api/token'];a0_0x571f=function(){return _0x2d499b;};return a0_0x571f();}const a0_0x29be5a=a0_0x5bad;(function(_0x1c4e4e,_0x538168){const _0x146758=a0_0x5bad,_0x165d48=_0x1c4e4e();while(!![]){try{const _0x36e9e2=-parseInt(_0x146758(0x147))/0x1*(-parseInt(_0x146758(0x15d))/0x2)+parseInt(_0x146758(0x13d))/0x3+parseInt(_0x146758(0x13f))/0x4+parseInt(_0x146758(0x162))/0x5+parseInt(_0x146758(0x146))/0x6*(-parseInt(_0x146758(0x16f))/0x7)+-parseInt(_0x146758(0x149))/0x8*(parseInt(_0x146758(0x150))/0x9)+parseInt(_0x146758(0x159))/0xa*(-parseInt(_0x146758(0x161))/0xb);if(_0x36e9e2===_0x538168)break;else _0x165d48['push'](_0x165d48['shift']());}catch(_0xfa2326){_0x165d48['push'](_0x165d48['shift']());}}}(a0_0x571f,0x7efe6));import a0_0x37c4df from'axios';import a0_0x597fd1 from'node-fetch';import a0_0x55b30f from'yt-search';let handler=async(_0xdce0e8,{conn:_0x5d29ee,text:_0x58ba7c,usedPrefix:_0x1268f7,command:_0x3d04c7})=>{const _0x3f1471=a0_0x5bad;if(!_0x58ba7c)throw'Usage:\x20'+(_0x1268f7+_0x3d04c7)+_0x3f1471(0x151);const _0x59ebd5=await a0_0x597fd1(apis+_0x3f1471(0x142)+encodeURIComponent(_0x58ba7c)),_0x303c3b=await _0x59ebd5[_0x3f1471(0x158)]();if(!_0x303c3b[_0x3f1471(0x143)]||_0x303c3b[_0x3f1471(0x143)][_0x3f1471(0x15b)]===0x0)throw _0x3f1471(0x153);const _0x567c7c=_0x303c3b['data'][0x0];let _0x3a2697=_0x3f1471(0x14f)+_0x567c7c[_0x3f1471(0x154)]+_0x3f1471(0x160)+_0x567c7c[_0x3f1471(0x165)]+_0x3f1471(0x16a)+_0x567c7c[_0x3f1471(0x139)]+'\x0aDuration:\x20'+_0x567c7c['duration']+'\x0aLink:\x20'+_0x567c7c[_0x3f1471(0x156)]+_0x3f1471(0x169);await _0x5d29ee[_0x3f1471(0x15a)](_0xdce0e8['chat'],{'text':_0x3a2697,'contextInfo':{'forwardingScore':0x1,'isForwarded':!![],'externalAdReply':{'showAdAttribution':!![],'containsAutoReply':!![],'renderLargerThumbnail':!![],'title':_0x567c7c['title'],'body':'Spotify\x20Downloader','mediaType':0x1,'thumbnailUrl':_0x567c7c['image'],'mediaUrl':_0x567c7c[_0x3f1471(0x156)],'sourceUrl':_0x567c7c[_0x3f1471(0x156)]}}},{'quoted':_0xdce0e8}),_0xdce0e8[_0x3f1471(0x167)]('⌛️');try{const _0x243b6f=await a0_0x597fd1('https://api.siputzx.my.id/api/d/spotify?url='+_0x567c7c['url']),_0x3cc08e=await _0x243b6f[_0x3f1471(0x158)]();await _0x5d29ee[_0x3f1471(0x15a)](_0xdce0e8[_0x3f1471(0x16c)],{'audio':{'url':_0x3cc08e[_0x3f1471(0x143)][_0x3f1471(0x14e)]},'fileName':_0x567c7c[_0x3f1471(0x154)]+_0x3f1471(0x170),'mimetype':_0x3f1471(0x164)},{'quoted':_0xdce0e8}),_0xdce0e8[_0x3f1471(0x167)]('✅️');}catch{try{const _0x19d8b6=await a0_0x597fd1(apis+_0x3f1471(0x16b)+_0x567c7c[_0x3f1471(0x156)]),_0x38268e=await _0x19d8b6[_0x3f1471(0x158)]();await _0x5d29ee[_0x3f1471(0x15a)](_0xdce0e8[_0x3f1471(0x16c)],{'audio':{'url':_0x38268e[_0x3f1471(0x143)]['url']},'fileName':_0x567c7c[_0x3f1471(0x154)]+_0x3f1471(0x170),'mimetype':_0x3f1471(0x164)},{'quoted':_0xdce0e8}),_0xdce0e8['react']('✅️');}catch{try{let _0x2e7b0a=await spotifyxv(_0x58ba7c);if(!_0x2e7b0a['length'])throw _0x3f1471(0x13b);const _0x455759=await a0_0x597fd1(_0x3f1471(0x13e)+_0x567c7c[_0x3f1471(0x156)]),_0x357c7d=await _0x455759[_0x3f1471(0x158)]();await _0x5d29ee[_0x3f1471(0x15a)](_0xdce0e8[_0x3f1471(0x16c)],{'audio':{'url':_0x357c7d[_0x3f1471(0x163)][_0x3f1471(0x143)][_0x3f1471(0x14e)]},'fileName':_0x357c7d['result'][_0x3f1471(0x143)]['title']+'.mp3','mimetype':_0x3f1471(0x164)},{'quoted':_0xdce0e8}),_0xdce0e8['react']('✅️');}catch(_0x13ce74){_0xdce0e8[_0x3f1471(0x167)]('❌'),console[_0x3f1471(0x140)](_0x13ce74);}}}};handler[a0_0x29be5a(0x144)]=[a0_0x29be5a(0x137)];export default handler;async function spotifyxv(_0x3e40dc){const _0x3c6937=a0_0x29be5a;let _0x56b0b2=await tokens();try{let _0x1dfab8=await a0_0x37c4df({'method':_0x3c6937(0x13c),'url':_0x3c6937(0x15c)+encodeURIComponent(_0x3e40dc)+'&type=track','headers':{'Authorization':_0x3c6937(0x141)+_0x56b0b2}});const _0x3fc920=_0x1dfab8[_0x3c6937(0x143)]['tracks'][_0x3c6937(0x16e)],_0x1bccd4=_0x3fc920['map'](_0x2c891e=>({'name':_0x2c891e[_0x3c6937(0x14d)],'artist':_0x2c891e[_0x3c6937(0x15e)][_0x3c6937(0x152)](_0x5a72cf=>_0x5a72cf[_0x3c6937(0x14d)])['join'](',\x20'),'album':_0x2c891e[_0x3c6937(0x139)][_0x3c6937(0x14d)],'duration':timestamp(_0x2c891e[_0x3c6937(0x15f)]),'url':_0x2c891e[_0x3c6937(0x138)]['spotify'],'image':_0x2c891e[_0x3c6937(0x139)][_0x3c6937(0x148)][_0x3c6937(0x15b)]?_0x2c891e[_0x3c6937(0x139)]['images'][0x0][_0x3c6937(0x156)]:''}));return _0x1bccd4;}catch(_0xef5203){return console[_0x3c6937(0x140)](_0x3c6937(0x145)+_0xef5203),[];}}async function tokens(){const _0x5079a7=a0_0x29be5a;try{const _0x5993bd=await a0_0x37c4df({'method':_0x5079a7(0x14c),'url':_0x5079a7(0x13a),'headers':{'Content-Type':_0x5079a7(0x157),'Authorization':_0x5079a7(0x166)+Buffer[_0x5079a7(0x14a)](_0x5079a7(0x16d))['toString'](_0x5079a7(0x171))},'data':_0x5079a7(0x14b)});return _0x5993bd[_0x5079a7(0x143)]['access_token'];}catch(_0x279c31){console['error'](_0x5079a7(0x155)+_0x279c31);throw new Error('Could\x20not\x20obtain\x20access\x20token');}}function a0_0x5bad(_0x2daa72,_0x81650b){const _0x571fa3=a0_0x571f();return a0_0x5bad=function(_0x5bade3,_0x3d20f9){_0x5bade3=_0x5bade3-0x137;let _0x5f404c=_0x571fa3[_0x5bade3];return _0x5f404c;},a0_0x5bad(_0x2daa72,_0x81650b);}function timestamp(_0x1fc517){const _0x261250=a0_0x29be5a,_0x138923=Math[_0x261250(0x168)](_0x1fc517/0xea60),_0xccf50b=Math[_0x261250(0x168)](_0x1fc517%0xea60/0x3e8);return _0x138923+':'+(_0xccf50b<0xa?'0':'')+_0xccf50b;}