const a0_0x2f7465=a0_0x47f6;(function(_0xe6b61e,_0x29b245){const _0xe43697=a0_0x47f6,_0x552983=_0xe6b61e();while(!![]){try{const _0x1039dc=parseInt(_0xe43697(0x1c3))/0x1+-parseInt(_0xe43697(0x1da))/0x2*(-parseInt(_0xe43697(0x1ec))/0x3)+parseInt(_0xe43697(0x1d6))/0x4+-parseInt(_0xe43697(0x1e0))/0x5+-parseInt(_0xe43697(0x1dd))/0x6+parseInt(_0xe43697(0x1c5))/0x7*(-parseInt(_0xe43697(0x1c6))/0x8)+-parseInt(_0xe43697(0x1df))/0x9*(-parseInt(_0xe43697(0x1d2))/0xa);if(_0x1039dc===_0x29b245)break;else _0x552983['push'](_0x552983['shift']());}catch(_0x1b0567){_0x552983['push'](_0x552983['shift']());}}}(a0_0x1be7,0x6d227));import a0_0x211053 from'axios';import a0_0x5e5b3f from'node-fetch';import a0_0x7c8c4a from'yt-search';function a0_0x1be7(){const _0xe3ff35=['Spotify\x20Downloader','2466756SpxgNB','tracks','264087euUoJM','92080iywYRD','error','Could\x20not\x20obtain\x20access\x20token','\x0aLink:\x20','name','map','https://archive-ui.tanakadomp.biz.id/download/spotify?url=','Basic\x20','react','artists','command','result','291aaBAjw','❌\x20No\x20results\x20found,\x20please\x20try\x20again.','sendMessage','download','chat','album','\x0aAlbum:\x20','length','/search/spotify?q=','artist','Usage:\x20','join','Bearer\x20','&type=track','application/x-www-form-urlencoded','title','audio/mpeg','spotify','⚠️\x20No\x20results\x20found\x20for\x20that\x20query.','Error\x20in\x20tokens:\x20','music','182717fuOKmg','external_urls','91fUnGSy','185528OJTwZZ','base64','https://accounts.spotify.com/api/token','url','\x20<search\x20query>','.mp3','floor','data','duration_ms','acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009','items','from','190desowZ','access_token','https://api.spotify.com/v1/search?q=','\x0aTitle:\x20','1473416mHUenb','images','json','\x0aDuration:\x20','1432SvLxqn','https://api.siputzx.my.id/api/d/spotify?url='];a0_0x1be7=function(){return _0xe3ff35;};return a0_0x1be7();}let handler=async(_0x12382d,{conn:_0x1979d0,text:_0x2b88c4,usedPrefix:_0x2e6d3a,command:_0xda66c})=>{const _0x2810c5=a0_0x47f6;if(!_0x2b88c4)throw _0x2810c5(0x1b8)+(_0x2e6d3a+_0xda66c)+_0x2810c5(0x1ca);const _0x4378ef=await a0_0x5e5b3f(apis+_0x2810c5(0x1f4)+encodeURIComponent(_0x2b88c4)),_0x4c82bd=await _0x4378ef[_0x2810c5(0x1d8)]();if(!_0x4c82bd['data']||_0x4c82bd[_0x2810c5(0x1cd)]['length']===0x0)throw _0x2810c5(0x1c0);const _0x505db2=_0x4c82bd[_0x2810c5(0x1cd)][0x0];let _0x108a31=_0x2810c5(0x1d5)+_0x505db2['title']+'\x0aArtist:\x20'+_0x505db2[_0x2810c5(0x1f5)]+_0x2810c5(0x1f2)+_0x505db2[_0x2810c5(0x1f1)]+_0x2810c5(0x1d9)+_0x505db2['duration']+_0x2810c5(0x1e3)+_0x505db2[_0x2810c5(0x1c9)]+'\x0a\x20\x20';await _0x1979d0[_0x2810c5(0x1ee)](_0x12382d['chat'],{'text':_0x108a31,'contextInfo':{'forwardingScore':0x1,'isForwarded':!![],'externalAdReply':{'showAdAttribution':!![],'containsAutoReply':!![],'renderLargerThumbnail':!![],'title':_0x505db2[_0x2810c5(0x1bd)],'body':_0x2810c5(0x1dc),'mediaType':0x1,'thumbnailUrl':_0x505db2['image'],'mediaUrl':_0x505db2[_0x2810c5(0x1c9)],'sourceUrl':_0x505db2['url']}}},{'quoted':_0x12382d}),_0x12382d[_0x2810c5(0x1e8)]('⌛️');try{const _0x532cd6=await a0_0x5e5b3f(_0x2810c5(0x1db)+_0x505db2[_0x2810c5(0x1c9)]),_0x37aaea=await _0x532cd6[_0x2810c5(0x1d8)]();await _0x1979d0[_0x2810c5(0x1ee)](_0x12382d[_0x2810c5(0x1f0)],{'audio':{'url':_0x37aaea['data'][_0x2810c5(0x1ef)]},'fileName':_0x505db2[_0x2810c5(0x1bd)]+_0x2810c5(0x1cb),'mimetype':_0x2810c5(0x1be)},{'quoted':_0x12382d}),_0x12382d[_0x2810c5(0x1e8)]('✅️');}catch{try{const _0x347365=await a0_0x5e5b3f(apis+'/download/spotifydl?url='+_0x505db2[_0x2810c5(0x1c9)]),_0x22173c=await _0x347365['json']();await _0x1979d0[_0x2810c5(0x1ee)](_0x12382d[_0x2810c5(0x1f0)],{'audio':{'url':_0x22173c[_0x2810c5(0x1cd)][_0x2810c5(0x1c9)]},'fileName':_0x505db2[_0x2810c5(0x1bd)]+_0x2810c5(0x1cb),'mimetype':_0x2810c5(0x1be)},{'quoted':_0x12382d}),_0x12382d[_0x2810c5(0x1e8)]('✅️');}catch{try{let _0x51b576=await spotifyxv(_0x2b88c4);if(!_0x51b576[_0x2810c5(0x1f3)])throw _0x2810c5(0x1ed);const _0x4320c1=await a0_0x5e5b3f(_0x2810c5(0x1e6)+_0x505db2[_0x2810c5(0x1c9)]),_0x248450=await _0x4320c1['json']();await _0x1979d0[_0x2810c5(0x1ee)](_0x12382d[_0x2810c5(0x1f0)],{'audio':{'url':_0x248450['result'][_0x2810c5(0x1cd)]['download']},'fileName':_0x248450[_0x2810c5(0x1eb)]['data']['title']+_0x2810c5(0x1cb),'mimetype':_0x2810c5(0x1be)},{'quoted':_0x12382d}),_0x12382d[_0x2810c5(0x1e8)]('✅️');}catch(_0x5b278d){_0x12382d[_0x2810c5(0x1e8)]('❌'),console[_0x2810c5(0x1e1)](_0x5b278d);}}}};function a0_0x47f6(_0x53705f,_0x7c9dcf){const _0x1be795=a0_0x1be7();return a0_0x47f6=function(_0x47f633,_0x1a53d4){_0x47f633=_0x47f633-0x1b8;let _0x41c96c=_0x1be795[_0x47f633];return _0x41c96c;},a0_0x47f6(_0x53705f,_0x7c9dcf);}handler[a0_0x2f7465(0x1ea)]=[a0_0x2f7465(0x1c2)];export default handler;async function spotifyxv(_0x95e1d7){const _0x4f5b68=a0_0x2f7465;let _0x4aab14=await tokens();try{let _0x4f58c2=await a0_0x211053({'method':'get','url':_0x4f5b68(0x1d4)+encodeURIComponent(_0x95e1d7)+_0x4f5b68(0x1bb),'headers':{'Authorization':_0x4f5b68(0x1ba)+_0x4aab14}});const _0x44b950=_0x4f58c2[_0x4f5b68(0x1cd)][_0x4f5b68(0x1de)][_0x4f5b68(0x1d0)],_0x3e6eae=_0x44b950[_0x4f5b68(0x1e5)](_0x178dc6=>({'name':_0x178dc6[_0x4f5b68(0x1e4)],'artist':_0x178dc6[_0x4f5b68(0x1e9)][_0x4f5b68(0x1e5)](_0x4502d6=>_0x4502d6['name'])[_0x4f5b68(0x1b9)](',\x20'),'album':_0x178dc6['album'][_0x4f5b68(0x1e4)],'duration':timestamp(_0x178dc6[_0x4f5b68(0x1ce)]),'url':_0x178dc6[_0x4f5b68(0x1c4)][_0x4f5b68(0x1bf)],'image':_0x178dc6['album']['images'][_0x4f5b68(0x1f3)]?_0x178dc6[_0x4f5b68(0x1f1)][_0x4f5b68(0x1d7)][0x0][_0x4f5b68(0x1c9)]:''}));return _0x3e6eae;}catch(_0x416ace){return console[_0x4f5b68(0x1e1)]('Error\x20in\x20spotifyxv:\x20'+_0x416ace),[];}}async function tokens(){const _0x5bda73=a0_0x2f7465;try{const _0x3b5f54=await a0_0x211053({'method':'post','url':_0x5bda73(0x1c8),'headers':{'Content-Type':_0x5bda73(0x1bc),'Authorization':_0x5bda73(0x1e7)+Buffer[_0x5bda73(0x1d1)](_0x5bda73(0x1cf))['toString'](_0x5bda73(0x1c7))},'data':'grant_type=client_credentials'});return _0x3b5f54['data'][_0x5bda73(0x1d3)];}catch(_0x24e826){console['error'](_0x5bda73(0x1c1)+_0x24e826);throw new Error(_0x5bda73(0x1e2));}}function timestamp(_0x49d50a){const _0x435bfa=a0_0x2f7465,_0xbbfda1=Math[_0x435bfa(0x1cc)](_0x49d50a/0xea60),_0x19624c=Math['floor'](_0x49d50a%0xea60/0x3e8);return _0xbbfda1+':'+(_0x19624c<0xa?'0':'')+_0x19624c;}