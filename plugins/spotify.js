function a0_0x2d55(){const _0x8b3776=['album','json','artist','music','https://accounts.spotify.com/api/token','Could\x20not\x20obtain\x20access\x20token','6391fbvTZE','190gCdgAe','url','post','\x0aLink:\x20','images','tracks','10412AjrkIm','result','Bearer\x20','data','\x0aTitle:\x20','sendMessage','1272Iotlzh','join','floor','349794IYbUDg','https://archive-ui.tanakadomp.biz.id/download/spotify?url=','\x0aAlbum:\x20','\x0aArtist:\x20','image','audio/mpeg','\x20<search\x20query>','name','toString','acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009','base64','\x0a\x20\x20','Error\x20in\x20tokens:\x20','10uNNeFl','https://api.siputzx.my.id/api/d/spotify?url=','36poMIIk','140060fechel','Spotify\x20Downloader','15342cebOMU','length','3EKVigx','react','items','Error\x20in\x20spotifyxv:\x20','command','chat','title','https://api.spotify.com/v1/search?q=','error','from','/download/spotifydl?url=','.mp3','access_token','map','53912tvUeeM','29084NbhZkN','artists','download'];a0_0x2d55=function(){return _0x8b3776;};return a0_0x2d55();}const a0_0x5693ea=a0_0x894c;(function(_0x29a87e,_0x19e1a7){const _0x31e442=a0_0x894c,_0x3b731c=_0x29a87e();while(!![]){try{const _0x2899e0=parseInt(_0x31e442(0xe2))/0x1+-parseInt(_0x31e442(0xf4))/0x2+parseInt(_0x31e442(0xe6))/0x3*(-parseInt(_0x31e442(0xc9))/0x4)+parseInt(_0x31e442(0xc3))/0x5*(-parseInt(_0x31e442(0xe4))/0x6)+-parseInt(_0x31e442(0xc2))/0x7*(-parseInt(_0x31e442(0xcf))/0x8)+parseInt(_0x31e442(0xd2))/0x9*(-parseInt(_0x31e442(0xdf))/0xa)+-parseInt(_0x31e442(0xf5))/0xb*(parseInt(_0x31e442(0xe1))/0xc);if(_0x2899e0===_0x19e1a7)break;else _0x3b731c['push'](_0x3b731c['shift']());}catch(_0x2a293c){_0x3b731c['push'](_0x3b731c['shift']());}}}(a0_0x2d55,0x1b458));import a0_0x1a430b from'axios';import a0_0x41e8eb from'node-fetch';import a0_0x2361ce from'yt-search';let handler=async(_0x3f4884,{conn:_0x21515e,text:_0x57bfd0,usedPrefix:_0x1ac6e6,command:_0x2d4527})=>{const _0x1522d9=a0_0x894c;if(!_0x57bfd0)throw'Usage:\x20'+(_0x1ac6e6+_0x2d4527)+_0x1522d9(0xd8);const _0x1e3f8b=await a0_0x41e8eb(apis+'/search/spotify?q='+encodeURIComponent(_0x57bfd0)),_0x28cbce=await _0x1e3f8b[_0x1522d9(0xbd)]();if(!_0x28cbce['data']||_0x28cbce[_0x1522d9(0xcc)][_0x1522d9(0xe5)]===0x0)throw'⚠️\x20No\x20results\x20found\x20for\x20that\x20query.';const _0x50e893=_0x28cbce[_0x1522d9(0xcc)][0x0];let _0x2b67eb=_0x1522d9(0xcd)+_0x50e893['title']+_0x1522d9(0xd5)+_0x50e893[_0x1522d9(0xbe)]+_0x1522d9(0xd4)+_0x50e893[_0x1522d9(0xbc)]+'\x0aDuration:\x20'+_0x50e893['duration']+_0x1522d9(0xc6)+_0x50e893[_0x1522d9(0xc4)]+_0x1522d9(0xdd);await _0x21515e['sendMessage'](_0x3f4884[_0x1522d9(0xeb)],{'text':_0x2b67eb,'contextInfo':{'forwardingScore':0x1,'isForwarded':!![],'externalAdReply':{'showAdAttribution':!![],'containsAutoReply':!![],'renderLargerThumbnail':!![],'title':_0x50e893[_0x1522d9(0xec)],'body':_0x1522d9(0xe3),'mediaType':0x1,'thumbnailUrl':_0x50e893[_0x1522d9(0xd6)],'mediaUrl':_0x50e893[_0x1522d9(0xc4)],'sourceUrl':_0x50e893['url']}}},{'quoted':_0x3f4884}),_0x3f4884['react']('⌛️');try{const _0x20434b=await a0_0x41e8eb(_0x1522d9(0xe0)+_0x50e893[_0x1522d9(0xc4)]),_0x58d20e=await _0x20434b[_0x1522d9(0xbd)]();await _0x21515e[_0x1522d9(0xce)](_0x3f4884[_0x1522d9(0xeb)],{'audio':{'url':_0x58d20e[_0x1522d9(0xcc)][_0x1522d9(0xbb)]},'fileName':_0x50e893[_0x1522d9(0xec)]+_0x1522d9(0xf1),'mimetype':_0x1522d9(0xd7)},{'quoted':_0x3f4884}),_0x3f4884['react']('✅️');}catch{try{const _0x5d9a93=await a0_0x41e8eb(apis+_0x1522d9(0xf0)+_0x50e893[_0x1522d9(0xc4)]),_0x134727=await _0x5d9a93['json']();await _0x21515e[_0x1522d9(0xce)](_0x3f4884[_0x1522d9(0xeb)],{'audio':{'url':_0x134727[_0x1522d9(0xcc)][_0x1522d9(0xc4)]},'fileName':_0x50e893[_0x1522d9(0xec)]+'.mp3','mimetype':'audio/mpeg'},{'quoted':_0x3f4884}),_0x3f4884[_0x1522d9(0xe7)]('✅️');}catch{try{let _0x7c2abc=await spotifyxv(_0x57bfd0);if(!_0x7c2abc[_0x1522d9(0xe5)])throw'❌\x20No\x20results\x20found,\x20please\x20try\x20again.';const _0x21b80c=await a0_0x41e8eb(_0x1522d9(0xd3)+_0x50e893[_0x1522d9(0xc4)]),_0x24fb47=await _0x21b80c[_0x1522d9(0xbd)]();await _0x21515e[_0x1522d9(0xce)](_0x3f4884[_0x1522d9(0xeb)],{'audio':{'url':_0x24fb47[_0x1522d9(0xca)][_0x1522d9(0xcc)][_0x1522d9(0xbb)]},'fileName':_0x24fb47[_0x1522d9(0xca)][_0x1522d9(0xcc)][_0x1522d9(0xec)]+'.mp3','mimetype':_0x1522d9(0xd7)},{'quoted':_0x3f4884}),_0x3f4884['react']('✅️');}catch(_0x3eab60){_0x3f4884['react']('❌'),console['error'](_0x3eab60);}}}};handler[a0_0x5693ea(0xea)]=[a0_0x5693ea(0xbf)];export default handler;function a0_0x894c(_0x2a1de0,_0xe4a7c6){const _0x2d55db=a0_0x2d55();return a0_0x894c=function(_0x894c5a,_0x2486ff){_0x894c5a=_0x894c5a-0xbb;let _0x2248d4=_0x2d55db[_0x894c5a];return _0x2248d4;},a0_0x894c(_0x2a1de0,_0xe4a7c6);}async function spotifyxv(_0x35037f){const _0x17f091=a0_0x5693ea;let _0x3278ac=await tokens();try{let _0x2390c5=await a0_0x1a430b({'method':'get','url':_0x17f091(0xed)+encodeURIComponent(_0x35037f)+'&type=track','headers':{'Authorization':_0x17f091(0xcb)+_0x3278ac}});const _0x138a5f=_0x2390c5[_0x17f091(0xcc)][_0x17f091(0xc8)][_0x17f091(0xe8)],_0x2ae812=_0x138a5f['map'](_0x5a6230=>({'name':_0x5a6230['name'],'artist':_0x5a6230[_0x17f091(0xf6)][_0x17f091(0xf3)](_0x2d5389=>_0x2d5389[_0x17f091(0xd9)])[_0x17f091(0xd0)](',\x20'),'album':_0x5a6230[_0x17f091(0xbc)]['name'],'duration':timestamp(_0x5a6230['duration_ms']),'url':_0x5a6230['external_urls']['spotify'],'image':_0x5a6230[_0x17f091(0xbc)]['images'][_0x17f091(0xe5)]?_0x5a6230['album'][_0x17f091(0xc7)][0x0][_0x17f091(0xc4)]:''}));return _0x2ae812;}catch(_0x4143fe){return console['error'](_0x17f091(0xe9)+_0x4143fe),[];}}async function tokens(){const _0x1c6e42=a0_0x5693ea;try{const _0x14119a=await a0_0x1a430b({'method':_0x1c6e42(0xc5),'url':_0x1c6e42(0xc0),'headers':{'Content-Type':'application/x-www-form-urlencoded','Authorization':'Basic\x20'+Buffer[_0x1c6e42(0xef)](_0x1c6e42(0xdb))[_0x1c6e42(0xda)](_0x1c6e42(0xdc))},'data':'grant_type=client_credentials'});return _0x14119a[_0x1c6e42(0xcc)][_0x1c6e42(0xf2)];}catch(_0x3944be){console[_0x1c6e42(0xee)](_0x1c6e42(0xde)+_0x3944be);throw new Error(_0x1c6e42(0xc1));}}function timestamp(_0x57de6a){const _0x5af20f=a0_0x5693ea,_0x51e2fd=Math[_0x5af20f(0xd1)](_0x57de6a/0xea60),_0x1c0770=Math[_0x5af20f(0xd1)](_0x57de6a%0xea60/0x3e8);return _0x51e2fd+':'+(_0x1c0770<0xa?'0':'')+_0x1c0770;}