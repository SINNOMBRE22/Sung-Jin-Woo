const a0_0x4ecddd=a0_0x6c59;(function(_0x588913,_0x3fcc8f){const _0x252fdb=a0_0x6c59,_0x4ae49d=_0x588913();while(!![]){try{const _0x2b2dcd=-parseInt(_0x252fdb(0xd3))/0x1+-parseInt(_0x252fdb(0xa9))/0x2*(-parseInt(_0x252fdb(0xc7))/0x3)+parseInt(_0x252fdb(0xcd))/0x4+-parseInt(_0x252fdb(0xba))/0x5+-parseInt(_0x252fdb(0xd6))/0x6+parseInt(_0x252fdb(0xc2))/0x7+parseInt(_0x252fdb(0xc6))/0x8;if(_0x2b2dcd===_0x3fcc8f)break;else _0x4ae49d['push'](_0x4ae49d['shift']());}catch(_0x5f3b51){_0x4ae49d['push'](_0x4ae49d['shift']());}}}(a0_0x32fe,0xbd4dc));import a0_0x1c0da4 from'axios';import a0_0x2cffd3 from'node-fetch';import a0_0x505b2a from'yt-search';let handler=async(_0x11ac97,{conn:_0x143ffe,text:_0x3a1be6,usedPrefix:_0x714560,command:_0x294b5d})=>{const _0x428f7c=a0_0x6c59;if(!_0x3a1be6)throw _0x428f7c(0xc1)+(_0x714560+_0x294b5d)+_0x428f7c(0xca);const _0x15c153=await a0_0x2cffd3(apis+_0x428f7c(0xa3)+encodeURIComponent(_0x3a1be6)),_0x19f909=await _0x15c153['json']();if(!_0x19f909[_0x428f7c(0xd5)]||_0x19f909[_0x428f7c(0xd5)][_0x428f7c(0xb3)]===0x0)throw _0x428f7c(0xd9);const _0x5c3ca7=_0x19f909[_0x428f7c(0xd5)][0x0];let _0x15c5af=_0x428f7c(0xd4)+_0x5c3ca7[_0x428f7c(0xa4)]+'\x0aArtist:\x20'+_0x5c3ca7[_0x428f7c(0xb4)]+_0x428f7c(0xc8)+_0x5c3ca7[_0x428f7c(0xcb)]+_0x428f7c(0xc0)+_0x5c3ca7['duration']+'\x0aLink:\x20'+_0x5c3ca7[_0x428f7c(0xa8)]+'\x0a\x20\x20';await _0x143ffe[_0x428f7c(0xd2)](_0x11ac97[_0x428f7c(0xc3)],{'text':_0x15c5af,'contextInfo':{'forwardingScore':0x1,'isForwarded':!![],'externalAdReply':{'showAdAttribution':!![],'containsAutoReply':!![],'renderLargerThumbnail':!![],'title':_0x5c3ca7[_0x428f7c(0xa4)],'body':_0x428f7c(0xce),'mediaType':0x1,'thumbnailUrl':_0x5c3ca7[_0x428f7c(0xb2)],'mediaUrl':_0x5c3ca7[_0x428f7c(0xa8)],'sourceUrl':_0x5c3ca7[_0x428f7c(0xa8)]}}},{'quoted':_0x11ac97}),_0x11ac97[_0x428f7c(0xa7)]('⌛️');try{const _0x58c0db=await a0_0x2cffd3(_0x428f7c(0xc9)+_0x5c3ca7['url']),_0x10fd37=await _0x58c0db[_0x428f7c(0xd8)]();await _0x143ffe['sendMessage'](_0x11ac97[_0x428f7c(0xc3)],{'audio':{'url':_0x10fd37[_0x428f7c(0xd5)][_0x428f7c(0xb7)]},'fileName':_0x5c3ca7[_0x428f7c(0xa4)]+_0x428f7c(0xaa),'mimetype':_0x428f7c(0xb1)},{'quoted':_0x11ac97}),_0x11ac97['react']('✅️');}catch{try{const _0x180e8e=await a0_0x2cffd3(apis+'/download/spotifydl?url='+_0x5c3ca7['url']),_0x1d94b4=await _0x180e8e[_0x428f7c(0xd8)]();await _0x143ffe[_0x428f7c(0xd2)](_0x11ac97[_0x428f7c(0xc3)],{'audio':{'url':_0x1d94b4[_0x428f7c(0xd5)]['url']},'fileName':_0x5c3ca7[_0x428f7c(0xa4)]+_0x428f7c(0xaa),'mimetype':'audio/mpeg'},{'quoted':_0x11ac97}),_0x11ac97[_0x428f7c(0xa7)]('✅️');}catch{try{let _0x4a4398=await spotifyxv(_0x3a1be6);if(!_0x4a4398[_0x428f7c(0xb3)])throw _0x428f7c(0xbd);const _0x260102=await a0_0x2cffd3('https://archive-ui.tanakadomp.biz.id/download/spotify?url='+_0x5c3ca7['url']),_0x2b4228=await _0x260102['json']();await _0x143ffe['sendMessage'](_0x11ac97[_0x428f7c(0xc3)],{'audio':{'url':_0x2b4228['result'][_0x428f7c(0xd5)][_0x428f7c(0xb7)]},'fileName':_0x2b4228[_0x428f7c(0xbc)][_0x428f7c(0xd5)][_0x428f7c(0xa4)]+_0x428f7c(0xaa),'mimetype':_0x428f7c(0xb1)},{'quoted':_0x11ac97}),_0x11ac97[_0x428f7c(0xa7)]('✅️');}catch(_0x4c6811){_0x11ac97[_0x428f7c(0xa7)]('❌'),console[_0x428f7c(0xd0)](_0x4c6811);}}}};handler[a0_0x4ecddd(0xae)]=[a0_0x4ecddd(0xc4)];export default handler;function a0_0x32fe(){const _0x1b8f3b=['\x0aDuration:\x20','Usage:\x20','2255407VCWpNs','chat','music','https://api.spotify.com/v1/search?q=','22464888EIlxxu','26151KAxOAD','\x0aAlbum:\x20','https://api.siputzx.my.id/api/d/spotify?url=','\x20<search\x20query>','album','access_token','2403068FIoeFI','Spotify\x20Downloader','floor','error','post','sendMessage','792271POWuhT','\x0aTitle:\x20','data','9206622Rxuerc','artists','json','⚠️\x20No\x20results\x20found\x20for\x20that\x20query.','items','base64','/search/spotify?q=','title','external_urls','grant_type=client_credentials','react','url','52BwJqUz','.mp3','name','from','images','command','spotify','toString','audio/mpeg','image','length','artist','Could\x20not\x20obtain\x20access\x20token','tracks','download','map','get','4278125Vqgybm','application/x-www-form-urlencoded','result','❌\x20No\x20results\x20found,\x20please\x20try\x20again.','acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009','join'];a0_0x32fe=function(){return _0x1b8f3b;};return a0_0x32fe();}async function spotifyxv(_0x35f645){const _0x531153=a0_0x4ecddd;let _0x346047=await tokens();try{let _0x55a780=await a0_0x1c0da4({'method':_0x531153(0xb9),'url':_0x531153(0xc5)+encodeURIComponent(_0x35f645)+'&type=track','headers':{'Authorization':'Bearer\x20'+_0x346047}});const _0x4cffec=_0x55a780['data'][_0x531153(0xb6)][_0x531153(0xa1)],_0x199c5f=_0x4cffec['map'](_0x91f489=>({'name':_0x91f489[_0x531153(0xab)],'artist':_0x91f489[_0x531153(0xd7)][_0x531153(0xb8)](_0x281533=>_0x281533[_0x531153(0xab)])[_0x531153(0xbf)](',\x20'),'album':_0x91f489[_0x531153(0xcb)][_0x531153(0xab)],'duration':timestamp(_0x91f489['duration_ms']),'url':_0x91f489[_0x531153(0xa5)][_0x531153(0xaf)],'image':_0x91f489[_0x531153(0xcb)][_0x531153(0xad)][_0x531153(0xb3)]?_0x91f489['album']['images'][0x0][_0x531153(0xa8)]:''}));return _0x199c5f;}catch(_0x380dea){return console[_0x531153(0xd0)]('Error\x20in\x20spotifyxv:\x20'+_0x380dea),[];}}async function tokens(){const _0x2f8b1f=a0_0x4ecddd;try{const _0xc9ae8b=await a0_0x1c0da4({'method':_0x2f8b1f(0xd1),'url':'https://accounts.spotify.com/api/token','headers':{'Content-Type':_0x2f8b1f(0xbb),'Authorization':'Basic\x20'+Buffer[_0x2f8b1f(0xac)](_0x2f8b1f(0xbe))[_0x2f8b1f(0xb0)](_0x2f8b1f(0xa2))},'data':_0x2f8b1f(0xa6)});return _0xc9ae8b[_0x2f8b1f(0xd5)][_0x2f8b1f(0xcc)];}catch(_0x241071){console['error']('Error\x20in\x20tokens:\x20'+_0x241071);throw new Error(_0x2f8b1f(0xb5));}}function a0_0x6c59(_0x4ea601,_0x21e4ad){const _0x32feaf=a0_0x32fe();return a0_0x6c59=function(_0x6c59af,_0x1e6126){_0x6c59af=_0x6c59af-0xa1;let _0x4dd533=_0x32feaf[_0x6c59af];return _0x4dd533;},a0_0x6c59(_0x4ea601,_0x21e4ad);}function timestamp(_0x46e4c0){const _0x2918a8=a0_0x4ecddd,_0x1e4af0=Math[_0x2918a8(0xcf)](_0x46e4c0/0xea60),_0x3a0daf=Math[_0x2918a8(0xcf)](_0x46e4c0%0xea60/0x3e8);return _0x1e4af0+':'+(_0x3a0daf<0xa?'0':'')+_0x3a0daf;}