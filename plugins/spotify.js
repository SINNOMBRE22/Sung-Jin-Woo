const a0_0x1e76bb=a0_0x34d5;function a0_0x2e02(){const _0x54b0e9=['3552990fvCEcY','name','application/x-www-form-urlencoded','\x0aLink:\x20','artists','post','audio/mpeg','47457esGHVn','download','50JxyjzS','\x0aDuration:\x20','\x0a\x20\x20','&type=track','length','spotify','988014WuYQPD','https://archive-ui.tanakadomp.biz.id/download/spotify?url=','243257xczDTF','result','from','json','Spotify\x20Downloader','access_token','6iHNLbe','images','\x20<search\x20query>','Error\x20in\x20spotifyxv:\x20','grant_type=client_credentials','artist','https://accounts.spotify.com/api/token','url','Basic\x20','2432215WxtsMn','https://api.siputzx.my.id/api/d/spotify?url=','get','map','\x0aAlbum:\x20','music','react','\x0aTitle:\x20','items','floor','image','⚠️\x20No\x20results\x20found\x20for\x20that\x20query.','album','2WBaISj','acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009','error','❌\x20No\x20results\x20found,\x20please\x20try\x20again.','4444880bioTzj','/search/spotify?q=','\x0aArtist:\x20','sendMessage','join','/download/spotifydl?url=','1100268xJGCIN','duration_ms','.mp3','title','command','chat','Usage:\x20','Error\x20in\x20tokens:\x20','data'];a0_0x2e02=function(){return _0x54b0e9;};return a0_0x2e02();}(function(_0x2a0f63,_0x2f0ec2){const _0x198c33=a0_0x34d5,_0x2bfc9e=_0x2a0f63();while(!![]){try{const _0x45bda5=-parseInt(_0x198c33(0x177))/0x1+-parseInt(_0x198c33(0x153))/0x2*(-parseInt(_0x198c33(0x175))/0x3)+-parseInt(_0x198c33(0x15d))/0x4+parseInt(_0x198c33(0x186))/0x5*(parseInt(_0x198c33(0x17d))/0x6)+-parseInt(_0x198c33(0x166))/0x7+parseInt(_0x198c33(0x157))/0x8+parseInt(_0x198c33(0x16d))/0x9*(-parseInt(_0x198c33(0x16f))/0xa);if(_0x45bda5===_0x2f0ec2)break;else _0x2bfc9e['push'](_0x2bfc9e['shift']());}catch(_0xe7dcd0){_0x2bfc9e['push'](_0x2bfc9e['shift']());}}}(a0_0x2e02,0x4de9c));import a0_0x5116bb from'axios';import a0_0xc0d80 from'node-fetch';import a0_0x38c806 from'yt-search';let handler=async(_0x139d58,{conn:_0x159c4e,text:_0x22a2b0,usedPrefix:_0x28e046,command:_0x15a64e})=>{const _0x4ca556=a0_0x34d5;if(!_0x22a2b0)throw _0x4ca556(0x163)+(_0x28e046+_0x15a64e)+_0x4ca556(0x17f);const _0x2d141d=await a0_0xc0d80(apis+_0x4ca556(0x158)+encodeURIComponent(_0x22a2b0)),_0x56d136=await _0x2d141d[_0x4ca556(0x17a)]();if(!_0x56d136[_0x4ca556(0x165)]||_0x56d136['data'][_0x4ca556(0x173)]===0x0)throw _0x4ca556(0x151);const _0x2b12a7=_0x56d136['data'][0x0];let _0x25802d=_0x4ca556(0x18d)+_0x2b12a7[_0x4ca556(0x160)]+_0x4ca556(0x159)+_0x2b12a7[_0x4ca556(0x182)]+_0x4ca556(0x18a)+_0x2b12a7[_0x4ca556(0x152)]+_0x4ca556(0x170)+_0x2b12a7['duration']+_0x4ca556(0x169)+_0x2b12a7['url']+_0x4ca556(0x171);await _0x159c4e[_0x4ca556(0x15a)](_0x139d58[_0x4ca556(0x162)],{'text':_0x25802d,'contextInfo':{'forwardingScore':0x1,'isForwarded':!![],'externalAdReply':{'showAdAttribution':!![],'containsAutoReply':!![],'renderLargerThumbnail':!![],'title':_0x2b12a7['title'],'body':_0x4ca556(0x17b),'mediaType':0x1,'thumbnailUrl':_0x2b12a7[_0x4ca556(0x150)],'mediaUrl':_0x2b12a7['url'],'sourceUrl':_0x2b12a7[_0x4ca556(0x184)]}}},{'quoted':_0x139d58}),_0x139d58[_0x4ca556(0x18c)]('⌛️');try{const _0x1a3401=await a0_0xc0d80(_0x4ca556(0x187)+_0x2b12a7[_0x4ca556(0x184)]),_0x446372=await _0x1a3401[_0x4ca556(0x17a)]();await _0x159c4e[_0x4ca556(0x15a)](_0x139d58[_0x4ca556(0x162)],{'audio':{'url':_0x446372['data'][_0x4ca556(0x16e)]},'fileName':_0x2b12a7[_0x4ca556(0x160)]+_0x4ca556(0x15f),'mimetype':_0x4ca556(0x16c)},{'quoted':_0x139d58}),_0x139d58[_0x4ca556(0x18c)]('✅️');}catch{try{const _0x335250=await a0_0xc0d80(apis+_0x4ca556(0x15c)+_0x2b12a7[_0x4ca556(0x184)]),_0x17ef1e=await _0x335250[_0x4ca556(0x17a)]();await _0x159c4e[_0x4ca556(0x15a)](_0x139d58[_0x4ca556(0x162)],{'audio':{'url':_0x17ef1e[_0x4ca556(0x165)][_0x4ca556(0x184)]},'fileName':_0x2b12a7[_0x4ca556(0x160)]+_0x4ca556(0x15f),'mimetype':'audio/mpeg'},{'quoted':_0x139d58}),_0x139d58[_0x4ca556(0x18c)]('✅️');}catch{try{let _0x55b11f=await spotifyxv(_0x22a2b0);if(!_0x55b11f[_0x4ca556(0x173)])throw _0x4ca556(0x156);const _0x161bea=await a0_0xc0d80(_0x4ca556(0x176)+_0x2b12a7[_0x4ca556(0x184)]),_0x558a82=await _0x161bea['json']();await _0x159c4e['sendMessage'](_0x139d58['chat'],{'audio':{'url':_0x558a82[_0x4ca556(0x178)][_0x4ca556(0x165)][_0x4ca556(0x16e)]},'fileName':_0x558a82['result'][_0x4ca556(0x165)]['title']+_0x4ca556(0x15f),'mimetype':_0x4ca556(0x16c)},{'quoted':_0x139d58}),_0x139d58[_0x4ca556(0x18c)]('✅️');}catch(_0x1a1300){_0x139d58[_0x4ca556(0x18c)]('❌'),console[_0x4ca556(0x155)](_0x1a1300);}}}};handler[a0_0x1e76bb(0x161)]=[a0_0x1e76bb(0x18b)];export default handler;async function spotifyxv(_0x1d9eb1){const _0x42022c=a0_0x1e76bb;let _0x5c8603=await tokens();try{let _0x838f04=await a0_0x5116bb({'method':_0x42022c(0x188),'url':'https://api.spotify.com/v1/search?q='+encodeURIComponent(_0x1d9eb1)+_0x42022c(0x172),'headers':{'Authorization':'Bearer\x20'+_0x5c8603}});const _0x294389=_0x838f04[_0x42022c(0x165)]['tracks'][_0x42022c(0x18e)],_0x2eed59=_0x294389[_0x42022c(0x189)](_0x3e7af7=>({'name':_0x3e7af7[_0x42022c(0x167)],'artist':_0x3e7af7[_0x42022c(0x16a)]['map'](_0x370dc9=>_0x370dc9[_0x42022c(0x167)])[_0x42022c(0x15b)](',\x20'),'album':_0x3e7af7['album'][_0x42022c(0x167)],'duration':timestamp(_0x3e7af7[_0x42022c(0x15e)]),'url':_0x3e7af7['external_urls'][_0x42022c(0x174)],'image':_0x3e7af7['album'][_0x42022c(0x17e)][_0x42022c(0x173)]?_0x3e7af7['album'][_0x42022c(0x17e)][0x0][_0x42022c(0x184)]:''}));return _0x2eed59;}catch(_0x3fd525){return console[_0x42022c(0x155)](_0x42022c(0x180)+_0x3fd525),[];}}function a0_0x34d5(_0x2ba211,_0x5656df){const _0x2e020e=a0_0x2e02();return a0_0x34d5=function(_0x34d5ac,_0x45ba91){_0x34d5ac=_0x34d5ac-0x14f;let _0x4d1b69=_0x2e020e[_0x34d5ac];return _0x4d1b69;},a0_0x34d5(_0x2ba211,_0x5656df);}async function tokens(){const _0x3b90e8=a0_0x1e76bb;try{const _0x394eec=await a0_0x5116bb({'method':_0x3b90e8(0x16b),'url':_0x3b90e8(0x183),'headers':{'Content-Type':_0x3b90e8(0x168),'Authorization':_0x3b90e8(0x185)+Buffer[_0x3b90e8(0x179)](_0x3b90e8(0x154))['toString']('base64')},'data':_0x3b90e8(0x181)});return _0x394eec[_0x3b90e8(0x165)][_0x3b90e8(0x17c)];}catch(_0xde4128){console[_0x3b90e8(0x155)](_0x3b90e8(0x164)+_0xde4128);throw new Error('Could\x20not\x20obtain\x20access\x20token');}}function timestamp(_0x4ae5bb){const _0x5f0079=a0_0x1e76bb,_0xee21b6=Math[_0x5f0079(0x14f)](_0x4ae5bb/0xea60),_0x55db26=Math[_0x5f0079(0x14f)](_0x4ae5bb%0xea60/0x3e8);return _0xee21b6+':'+(_0x55db26<0xa?'0':'')+_0x55db26;}