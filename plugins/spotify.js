const a0_0x3d44ca=a0_0x34ee;(function(_0x28f393,_0xc884c0){const _0x53d579=a0_0x34ee,_0x294eba=_0x28f393();while(!![]){try{const _0xfd4910=-parseInt(_0x53d579(0x1e9))/0x1+-parseInt(_0x53d579(0x1e0))/0x2+-parseInt(_0x53d579(0x1e1))/0x3*(parseInt(_0x53d579(0x1f8))/0x4)+-parseInt(_0x53d579(0x1f4))/0x5+-parseInt(_0x53d579(0x208))/0x6*(parseInt(_0x53d579(0x1e7))/0x7)+parseInt(_0x53d579(0x204))/0x8+parseInt(_0x53d579(0x210))/0x9*(parseInt(_0x53d579(0x1e2))/0xa);if(_0xfd4910===_0xc884c0)break;else _0x294eba['push'](_0x294eba['shift']());}catch(_0x38af42){_0x294eba['push'](_0x294eba['shift']());}}}(a0_0x222e,0x408fb));import a0_0x9d08c4 from'axios';import a0_0x1f9cc8 from'node-fetch';function a0_0x34ee(_0x183db2,_0x283f8c){const _0x222e19=a0_0x222e();return a0_0x34ee=function(_0x34ee2a,_0x306f5d){_0x34ee2a=_0x34ee2a-0x1dd;let _0x90af36=_0x222e19[_0x34ee2a];return _0x90af36;},a0_0x34ee(_0x183db2,_0x283f8c);}import a0_0x4dbc8a from'yt-search';let handler=async(_0x192494,{conn:_0x2df69b,text:_0x1fa9b1,usedPrefix:_0x2cae04,command:_0x3c5ec1})=>{const _0x9fa078=a0_0x34ee;if(!_0x1fa9b1)throw'Usage:\x20'+(_0x2cae04+_0x3c5ec1)+_0x9fa078(0x1de);const _0x55d5b1=await a0_0x1f9cc8(apis+_0x9fa078(0x1f2)+encodeURIComponent(_0x1fa9b1)),_0x597f32=await _0x55d5b1['json']();if(!_0x597f32[_0x9fa078(0x1f7)]||_0x597f32[_0x9fa078(0x1f7)]['length']===0x0)throw _0x9fa078(0x217);const _0x39a507=_0x597f32[_0x9fa078(0x1f7)][0x0];let _0x5e2ae5='\x0aTitle:\x20'+_0x39a507['title']+'\x0aArtist:\x20'+_0x39a507[_0x9fa078(0x203)]+_0x9fa078(0x1fe)+_0x39a507[_0x9fa078(0x20a)]+_0x9fa078(0x1e4)+_0x39a507[_0x9fa078(0x1ff)]+_0x9fa078(0x214)+_0x39a507[_0x9fa078(0x1fd)]+_0x9fa078(0x1ef);await _0x2df69b['sendMessage'](_0x192494[_0x9fa078(0x1f9)],{'text':_0x5e2ae5,'contextInfo':{'forwardingScore':0x1,'isForwarded':!![],'externalAdReply':{'showAdAttribution':!![],'containsAutoReply':!![],'renderLargerThumbnail':!![],'title':_0x39a507[_0x9fa078(0x1f0)],'body':'Spotify\x20Downloader','mediaType':0x1,'thumbnailUrl':_0x39a507[_0x9fa078(0x1f3)],'mediaUrl':_0x39a507[_0x9fa078(0x1fd)],'sourceUrl':_0x39a507[_0x9fa078(0x1fd)]}}},{'quoted':_0x192494}),_0x192494[_0x9fa078(0x20f)]('⌛️');try{const _0x203d41=await a0_0x1f9cc8(_0x9fa078(0x205)+_0x39a507[_0x9fa078(0x1fd)]),_0x347ed2=await _0x203d41[_0x9fa078(0x1e5)]();await _0x2df69b['sendMessage'](_0x192494['chat'],{'audio':{'url':_0x347ed2[_0x9fa078(0x1f7)][_0x9fa078(0x219)]},'fileName':_0x39a507['title']+_0x9fa078(0x1fb),'mimetype':_0x9fa078(0x1ee)},{'quoted':_0x192494}),_0x192494[_0x9fa078(0x20f)]('✅️');}catch{try{const _0x588a29=await a0_0x1f9cc8(apis+_0x9fa078(0x1f5)+_0x39a507[_0x9fa078(0x1fd)]),_0x5a8369=await _0x588a29[_0x9fa078(0x1e5)]();await _0x2df69b[_0x9fa078(0x202)](_0x192494[_0x9fa078(0x1f9)],{'audio':{'url':_0x5a8369[_0x9fa078(0x1f7)]['url']},'fileName':_0x39a507[_0x9fa078(0x1f0)]+_0x9fa078(0x1fb),'mimetype':'audio/mpeg'},{'quoted':_0x192494}),_0x192494[_0x9fa078(0x20f)]('✅️');}catch{try{let _0x3575d3=await spotifyxv(_0x1fa9b1);if(!_0x3575d3[_0x9fa078(0x206)])throw'❌\x20No\x20results\x20found,\x20please\x20try\x20again.';const _0x57cafe=await a0_0x1f9cc8(_0x9fa078(0x209)+_0x39a507[_0x9fa078(0x1fd)]),_0x5987bc=await _0x57cafe['json']();await _0x2df69b['sendMessage'](_0x192494[_0x9fa078(0x1f9)],{'audio':{'url':_0x5987bc[_0x9fa078(0x216)][_0x9fa078(0x1f7)][_0x9fa078(0x219)]},'fileName':_0x5987bc[_0x9fa078(0x216)][_0x9fa078(0x1f7)]['title']+'.mp3','mimetype':_0x9fa078(0x1ee)},{'quoted':_0x192494}),_0x192494[_0x9fa078(0x20f)]('✅️');}catch(_0x49b090){_0x192494[_0x9fa078(0x20f)]('❌'),console[_0x9fa078(0x211)](_0x49b090);}}}};handler[a0_0x3d44ca(0x1ed)]=[a0_0x3d44ca(0x207)];export default handler;function a0_0x222e(){const _0x92e2e4=['2219880HuJSBR','/download/spotifydl?url=','get','data','8EkTSTT','chat','Error\x20in\x20spotifyxv:\x20','.mp3','duration_ms','url','\x0aAlbum:\x20','duration','from','Could\x20not\x20obtain\x20access\x20token','sendMessage','artist','518000LFYRUZ','https://api.siputzx.my.id/api/d/spotify?url=','length','music','438GsovKj','https://archive-ui.tanakadomp.biz.id/download/spotify?url=','album','&type=track','access_token','grant_type=client_credentials','https://accounts.spotify.com/api/token','react','288999UlclLO','error','floor','images','\x0aLink:\x20','base64','result','⚠️\x20No\x20results\x20found\x20for\x20that\x20query.','Error\x20in\x20tokens:\x20','download','external_urls','\x20<search\x20query>','spotify','165712qViZjE','518043APxAnA','510HeyNGX','name','\x0aDuration:\x20','json','tracks','4333bohmmC','items','520587LgFzJB','Basic\x20','acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009','map','command','audio/mpeg','\x0a\x20\x20','title','application/x-www-form-urlencoded','/search/spotify?q=','image'];a0_0x222e=function(){return _0x92e2e4;};return a0_0x222e();}async function spotifyxv(_0x2706f9){const _0x4f8ebe=a0_0x3d44ca;let _0x3b7325=await tokens();try{let _0x46bb4d=await a0_0x9d08c4({'method':_0x4f8ebe(0x1f6),'url':'https://api.spotify.com/v1/search?q='+encodeURIComponent(_0x2706f9)+_0x4f8ebe(0x20b),'headers':{'Authorization':'Bearer\x20'+_0x3b7325}});const _0x5b8d18=_0x46bb4d[_0x4f8ebe(0x1f7)][_0x4f8ebe(0x1e6)][_0x4f8ebe(0x1e8)],_0x3854f5=_0x5b8d18['map'](_0x5e04f6=>({'name':_0x5e04f6[_0x4f8ebe(0x1e3)],'artist':_0x5e04f6['artists'][_0x4f8ebe(0x1ec)](_0x235a67=>_0x235a67['name'])['join'](',\x20'),'album':_0x5e04f6['album'][_0x4f8ebe(0x1e3)],'duration':timestamp(_0x5e04f6[_0x4f8ebe(0x1fc)]),'url':_0x5e04f6[_0x4f8ebe(0x1dd)][_0x4f8ebe(0x1df)],'image':_0x5e04f6[_0x4f8ebe(0x20a)]['images'][_0x4f8ebe(0x206)]?_0x5e04f6['album'][_0x4f8ebe(0x213)][0x0][_0x4f8ebe(0x1fd)]:''}));return _0x3854f5;}catch(_0x34a0f1){return console[_0x4f8ebe(0x211)](_0x4f8ebe(0x1fa)+_0x34a0f1),[];}}async function tokens(){const _0x34d42e=a0_0x3d44ca;try{const _0x59f913=await a0_0x9d08c4({'method':'post','url':_0x34d42e(0x20e),'headers':{'Content-Type':_0x34d42e(0x1f1),'Authorization':_0x34d42e(0x1ea)+Buffer[_0x34d42e(0x200)](_0x34d42e(0x1eb))['toString'](_0x34d42e(0x215))},'data':_0x34d42e(0x20d)});return _0x59f913['data'][_0x34d42e(0x20c)];}catch(_0x5cb85b){console[_0x34d42e(0x211)](_0x34d42e(0x218)+_0x5cb85b);throw new Error(_0x34d42e(0x201));}}function timestamp(_0x2dfdd3){const _0x39ba4c=a0_0x3d44ca,_0x235a56=Math[_0x39ba4c(0x212)](_0x2dfdd3/0xea60),_0x2eedb5=Math['floor'](_0x2dfdd3%0xea60/0x3e8);return _0x235a56+':'+(_0x2eedb5<0xa?'0':'')+_0x2eedb5;}