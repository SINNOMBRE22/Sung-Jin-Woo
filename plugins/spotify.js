const a0_0x3cdf0d=a0_0x37f0;function a0_0x4702(){const _0x3eed95=['duration','music','401112yvlVUz','sendMessage','base64','442449AbFAMc','toString','external_urls','Spotify\x20Downloader','https://archive-ui.tanakadomp.biz.id/download/spotify?url=','244WPdgsP','react','\x0aTitle:\x20','artists','⚠️\x20No\x20results\x20found\x20for\x20that\x20query.','title','❌\x20No\x20results\x20found,\x20please\x20try\x20again.','acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009','1924KatrPy','https://api.spotify.com/v1/search?q=','Could\x20not\x20obtain\x20access\x20token','artist','command','json','\x20<search\x20query>','album','/download/spotifydl?url=','\x0aDuration:\x20','Error\x20in\x20spotifyxv:\x20','6469690UThxxK','grant_type=client_credentials','.mp3','error','64LAvDUg','join','Usage:\x20','198QMwiDx','Basic\x20','83314QPEhod','name','floor','https://api.siputzx.my.id/api/d/spotify?url=','get','application/x-www-form-urlencoded','download','post','tracks','length','Error\x20in\x20tokens:\x20','/search/spotify?q=','1039173yvemDm','data','access_token','44670PHzQUt','chat','https://accounts.spotify.com/api/token','from','\x0a\x20\x20','url','\x0aArtist:\x20','audio/mpeg','items','map','result'];a0_0x4702=function(){return _0x3eed95;};return a0_0x4702();}(function(_0x23a78c,_0x4d3b3d){const _0x4b01d4=a0_0x37f0,_0x1750cb=_0x23a78c();while(!![]){try{const _0x2b56f9=-parseInt(_0x4b01d4(0x188))/0x1*(-parseInt(_0x4b01d4(0x180))/0x2)+parseInt(_0x4b01d4(0x168))/0x3+parseInt(_0x4b01d4(0x178))/0x4+-parseInt(_0x4b01d4(0x16b))/0x5*(-parseInt(_0x4b01d4(0x19a))/0x6)+parseInt(_0x4b01d4(0x19c))/0x7*(-parseInt(_0x4b01d4(0x197))/0x8)+parseInt(_0x4b01d4(0x17b))/0x9+-parseInt(_0x4b01d4(0x193))/0xa;if(_0x2b56f9===_0x4d3b3d)break;else _0x1750cb['push'](_0x1750cb['shift']());}catch(_0x59c265){_0x1750cb['push'](_0x1750cb['shift']());}}}(a0_0x4702,0x4523b));import a0_0x2c7e9d from'axios';import a0_0x35da32 from'node-fetch';import a0_0x2de70e from'yt-search';let handler=async(_0x454271,{conn:_0x1b408f,text:_0x5e4405,usedPrefix:_0x1a995c,command:_0x1d9dce})=>{const _0x294294=a0_0x37f0;if(!_0x5e4405)throw _0x294294(0x199)+(_0x1a995c+_0x1d9dce)+_0x294294(0x18e);const _0x203706=await a0_0x35da32(apis+_0x294294(0x167)+encodeURIComponent(_0x5e4405)),_0x3d44f2=await _0x203706[_0x294294(0x18d)]();if(!_0x3d44f2['data']||_0x3d44f2[_0x294294(0x169)][_0x294294(0x165)]===0x0)throw _0x294294(0x184);const _0x31e92e=_0x3d44f2[_0x294294(0x169)][0x0];let _0x30eaf1=_0x294294(0x182)+_0x31e92e[_0x294294(0x185)]+_0x294294(0x171)+_0x31e92e[_0x294294(0x18b)]+'\x0aAlbum:\x20'+_0x31e92e[_0x294294(0x18f)]+_0x294294(0x191)+_0x31e92e[_0x294294(0x176)]+'\x0aLink:\x20'+_0x31e92e[_0x294294(0x170)]+_0x294294(0x16f);await _0x1b408f[_0x294294(0x179)](_0x454271[_0x294294(0x16c)],{'text':_0x30eaf1,'contextInfo':{'forwardingScore':0x1,'isForwarded':!![],'externalAdReply':{'showAdAttribution':!![],'containsAutoReply':!![],'renderLargerThumbnail':!![],'title':_0x31e92e[_0x294294(0x185)],'body':_0x294294(0x17e),'mediaType':0x1,'thumbnailUrl':_0x31e92e['image'],'mediaUrl':_0x31e92e[_0x294294(0x170)],'sourceUrl':_0x31e92e[_0x294294(0x170)]}}},{'quoted':_0x454271}),_0x454271['react']('⌛️');try{const _0xa6cd1e=await a0_0x35da32(_0x294294(0x19f)+_0x31e92e[_0x294294(0x170)]),_0x20ed6e=await _0xa6cd1e[_0x294294(0x18d)]();await _0x1b408f[_0x294294(0x179)](_0x454271[_0x294294(0x16c)],{'audio':{'url':_0x20ed6e[_0x294294(0x169)][_0x294294(0x162)]},'fileName':_0x31e92e[_0x294294(0x185)]+_0x294294(0x195),'mimetype':'audio/mpeg'},{'quoted':_0x454271}),_0x454271[_0x294294(0x181)]('✅️');}catch{try{const _0x465ccc=await a0_0x35da32(apis+_0x294294(0x190)+_0x31e92e['url']),_0x510d9f=await _0x465ccc['json']();await _0x1b408f[_0x294294(0x179)](_0x454271[_0x294294(0x16c)],{'audio':{'url':_0x510d9f[_0x294294(0x169)][_0x294294(0x170)]},'fileName':_0x31e92e['title']+_0x294294(0x195),'mimetype':'audio/mpeg'},{'quoted':_0x454271}),_0x454271[_0x294294(0x181)]('✅️');}catch{try{let _0x5db692=await spotifyxv(_0x5e4405);if(!_0x5db692[_0x294294(0x165)])throw _0x294294(0x186);const _0x165035=await a0_0x35da32(_0x294294(0x17f)+_0x31e92e[_0x294294(0x170)]),_0x1304f1=await _0x165035[_0x294294(0x18d)]();await _0x1b408f['sendMessage'](_0x454271[_0x294294(0x16c)],{'audio':{'url':_0x1304f1[_0x294294(0x175)]['data'][_0x294294(0x162)]},'fileName':_0x1304f1[_0x294294(0x175)][_0x294294(0x169)]['title']+_0x294294(0x195),'mimetype':_0x294294(0x172)},{'quoted':_0x454271}),_0x454271[_0x294294(0x181)]('✅️');}catch(_0x3fd9c0){_0x454271[_0x294294(0x181)]('❌'),console[_0x294294(0x196)](_0x3fd9c0);}}}};function a0_0x37f0(_0x74d9ba,_0x3b26fe){const _0x4702fe=a0_0x4702();return a0_0x37f0=function(_0x37f096,_0x52acc8){_0x37f096=_0x37f096-0x161;let _0x1d185f=_0x4702fe[_0x37f096];return _0x1d185f;},a0_0x37f0(_0x74d9ba,_0x3b26fe);}handler[a0_0x3cdf0d(0x18c)]=[a0_0x3cdf0d(0x177)];export default handler;async function spotifyxv(_0x4c28a6){const _0x2dd793=a0_0x3cdf0d;let _0x4b9e48=await tokens();try{let _0x2df2a6=await a0_0x2c7e9d({'method':_0x2dd793(0x1a0),'url':_0x2dd793(0x189)+encodeURIComponent(_0x4c28a6)+'&type=track','headers':{'Authorization':'Bearer\x20'+_0x4b9e48}});const _0x30fdaa=_0x2df2a6[_0x2dd793(0x169)][_0x2dd793(0x164)][_0x2dd793(0x173)],_0x2c93c4=_0x30fdaa[_0x2dd793(0x174)](_0x3b89f0=>({'name':_0x3b89f0[_0x2dd793(0x19d)],'artist':_0x3b89f0[_0x2dd793(0x183)][_0x2dd793(0x174)](_0x307841=>_0x307841[_0x2dd793(0x19d)])[_0x2dd793(0x198)](',\x20'),'album':_0x3b89f0[_0x2dd793(0x18f)]['name'],'duration':timestamp(_0x3b89f0['duration_ms']),'url':_0x3b89f0[_0x2dd793(0x17d)]['spotify'],'image':_0x3b89f0[_0x2dd793(0x18f)]['images']['length']?_0x3b89f0['album']['images'][0x0][_0x2dd793(0x170)]:''}));return _0x2c93c4;}catch(_0x56d7a0){return console[_0x2dd793(0x196)](_0x2dd793(0x192)+_0x56d7a0),[];}}async function tokens(){const _0x2f2905=a0_0x3cdf0d;try{const _0x255596=await a0_0x2c7e9d({'method':_0x2f2905(0x163),'url':_0x2f2905(0x16d),'headers':{'Content-Type':_0x2f2905(0x161),'Authorization':_0x2f2905(0x19b)+Buffer[_0x2f2905(0x16e)](_0x2f2905(0x187))[_0x2f2905(0x17c)](_0x2f2905(0x17a))},'data':_0x2f2905(0x194)});return _0x255596[_0x2f2905(0x169)][_0x2f2905(0x16a)];}catch(_0x3f58da){console[_0x2f2905(0x196)](_0x2f2905(0x166)+_0x3f58da);throw new Error(_0x2f2905(0x18a));}}function timestamp(_0x19528a){const _0x25f2e2=a0_0x3cdf0d,_0x30b6a1=Math[_0x25f2e2(0x19e)](_0x19528a/0xea60),_0x2af70a=Math['floor'](_0x19528a%0xea60/0x3e8);return _0x30b6a1+':'+(_0x2af70a<0xa?'0':'')+_0x2af70a;}