const a0_0x1d3d2d=a0_0x4b3d;function a0_0x3479(){const _0x1126ec=['error','audio/mpeg','command','.mp3','\x0aDuration:\x20','Usage:\x20','\x20<search\x20query>','artist','chat','39219QMtKUo','acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009','https://api.spotify.com/v1/search?q=','https://archive-ui.tanakadomp.biz.id/download/spotify?url=','7vfoVBd','\x0aAlbum:\x20','3340902nHtAma','result','grant_type=client_credentials','download','Basic\x20','data','map','post','name','from','3018340oTgRVB','length','\x0aTitle:\x20','Error\x20in\x20tokens:\x20','join','tracks','https://accounts.spotify.com/api/token','Bearer\x20','json','2492328bJzvhY','\x0a\x20\x20','access_token','Could\x20not\x20obtain\x20access\x20token','11413400DFSdxV','base64','/download/spotifydl?url=','3866644FCtBEW','image','duration_ms','⚠️\x20No\x20results\x20found\x20for\x20that\x20query.','sendMessage','spotify','items','https://api.siputzx.my.id/api/d/spotify?url=','react','toString','floor','&type=track','\x0aLink:\x20','images','album','1910342rFktRP','application/x-www-form-urlencoded','title','Error\x20in\x20spotifyxv:\x20','url'];a0_0x3479=function(){return _0x1126ec;};return a0_0x3479();}function a0_0x4b3d(_0x23152a,_0x35d389){const _0x347930=a0_0x3479();return a0_0x4b3d=function(_0x4b3de4,_0x54eb02){_0x4b3de4=_0x4b3de4-0x17b;let _0x2747d=_0x347930[_0x4b3de4];return _0x2747d;},a0_0x4b3d(_0x23152a,_0x35d389);}(function(_0xa32f86,_0xc4993e){const _0x164212=a0_0x4b3d,_0x11bc71=_0xa32f86();while(!![]){try{const _0x3206bc=parseInt(_0x164212(0x1a8))/0x1+parseInt(_0x164212(0x19a))/0x2+parseInt(_0x164212(0x184))/0x3+-parseInt(_0x164212(0x18b))/0x4+parseInt(_0x164212(0x17b))/0x5+parseInt(_0x164212(0x1ae))/0x6*(parseInt(_0x164212(0x1ac))/0x7)+-parseInt(_0x164212(0x188))/0x8;if(_0x3206bc===_0xc4993e)break;else _0x11bc71['push'](_0x11bc71['shift']());}catch(_0x1dcc16){_0x11bc71['push'](_0x11bc71['shift']());}}}(a0_0x3479,0x909bb));import a0_0x31b553 from'axios';import a0_0x40da0e from'node-fetch';import a0_0x20be7a from'yt-search';let handler=async(_0x5022a1,{conn:_0x334197,text:_0x3eab1e,usedPrefix:_0x4803b1,command:_0x256622})=>{const _0x3a2c1d=a0_0x4b3d;if(!_0x3eab1e)throw _0x3a2c1d(0x1a4)+(_0x4803b1+_0x256622)+_0x3a2c1d(0x1a5);const _0xaf40b3=await a0_0x40da0e(apis+'/search/spotify?q='+encodeURIComponent(_0x3eab1e)),_0x277c00=await _0xaf40b3[_0x3a2c1d(0x183)]();if(!_0x277c00['data']||_0x277c00[_0x3a2c1d(0x1b3)][_0x3a2c1d(0x17c)]===0x0)throw _0x3a2c1d(0x18e);const _0x4ff35f=_0x277c00[_0x3a2c1d(0x1b3)][0x0];let _0x5b7b64=_0x3a2c1d(0x17d)+_0x4ff35f['title']+'\x0aArtist:\x20'+_0x4ff35f[_0x3a2c1d(0x1a6)]+_0x3a2c1d(0x1ad)+_0x4ff35f[_0x3a2c1d(0x199)]+_0x3a2c1d(0x1a3)+_0x4ff35f['duration']+_0x3a2c1d(0x197)+_0x4ff35f['url']+_0x3a2c1d(0x185);await _0x334197[_0x3a2c1d(0x18f)](_0x5022a1['chat'],{'text':_0x5b7b64,'contextInfo':{'forwardingScore':0x1,'isForwarded':!![],'externalAdReply':{'showAdAttribution':!![],'containsAutoReply':!![],'renderLargerThumbnail':!![],'title':_0x4ff35f[_0x3a2c1d(0x19c)],'body':'Spotify\x20Downloader','mediaType':0x1,'thumbnailUrl':_0x4ff35f[_0x3a2c1d(0x18c)],'mediaUrl':_0x4ff35f[_0x3a2c1d(0x19e)],'sourceUrl':_0x4ff35f['url']}}},{'quoted':_0x5022a1}),_0x5022a1[_0x3a2c1d(0x193)]('⌛️');try{const _0x1e1fcf=await a0_0x40da0e(_0x3a2c1d(0x192)+_0x4ff35f[_0x3a2c1d(0x19e)]),_0x35f598=await _0x1e1fcf['json']();await _0x334197[_0x3a2c1d(0x18f)](_0x5022a1[_0x3a2c1d(0x1a7)],{'audio':{'url':_0x35f598[_0x3a2c1d(0x1b3)][_0x3a2c1d(0x1b1)]},'fileName':_0x4ff35f[_0x3a2c1d(0x19c)]+_0x3a2c1d(0x1a2),'mimetype':_0x3a2c1d(0x1a0)},{'quoted':_0x5022a1}),_0x5022a1[_0x3a2c1d(0x193)]('✅️');}catch{try{const _0x510912=await a0_0x40da0e(apis+_0x3a2c1d(0x18a)+_0x4ff35f[_0x3a2c1d(0x19e)]),_0x265439=await _0x510912[_0x3a2c1d(0x183)]();await _0x334197[_0x3a2c1d(0x18f)](_0x5022a1[_0x3a2c1d(0x1a7)],{'audio':{'url':_0x265439[_0x3a2c1d(0x1b3)]['url']},'fileName':_0x4ff35f['title']+_0x3a2c1d(0x1a2),'mimetype':_0x3a2c1d(0x1a0)},{'quoted':_0x5022a1}),_0x5022a1['react']('✅️');}catch{try{let _0x4d8702=await spotifyxv(_0x3eab1e);if(!_0x4d8702['length'])throw'❌\x20No\x20results\x20found,\x20please\x20try\x20again.';const _0x463151=await a0_0x40da0e(_0x3a2c1d(0x1ab)+_0x4ff35f[_0x3a2c1d(0x19e)]),_0x2ea421=await _0x463151[_0x3a2c1d(0x183)]();await _0x334197[_0x3a2c1d(0x18f)](_0x5022a1['chat'],{'audio':{'url':_0x2ea421[_0x3a2c1d(0x1af)][_0x3a2c1d(0x1b3)][_0x3a2c1d(0x1b1)]},'fileName':_0x2ea421['result'][_0x3a2c1d(0x1b3)][_0x3a2c1d(0x19c)]+'.mp3','mimetype':_0x3a2c1d(0x1a0)},{'quoted':_0x5022a1}),_0x5022a1[_0x3a2c1d(0x193)]('✅️');}catch(_0x56de44){_0x5022a1[_0x3a2c1d(0x193)]('❌'),console[_0x3a2c1d(0x19f)](_0x56de44);}}}};handler[a0_0x1d3d2d(0x1a1)]=['music'];export default handler;async function spotifyxv(_0x414ed0){const _0x1e1300=a0_0x1d3d2d;let _0x4460f2=await tokens();try{let _0x6c5aaf=await a0_0x31b553({'method':'get','url':_0x1e1300(0x1aa)+encodeURIComponent(_0x414ed0)+_0x1e1300(0x196),'headers':{'Authorization':_0x1e1300(0x182)+_0x4460f2}});const _0x4f6ec4=_0x6c5aaf[_0x1e1300(0x1b3)][_0x1e1300(0x180)][_0x1e1300(0x191)],_0x5580e2=_0x4f6ec4[_0x1e1300(0x1b4)](_0x31614d=>({'name':_0x31614d[_0x1e1300(0x1b6)],'artist':_0x31614d['artists'][_0x1e1300(0x1b4)](_0x27704e=>_0x27704e['name'])[_0x1e1300(0x17f)](',\x20'),'album':_0x31614d[_0x1e1300(0x199)][_0x1e1300(0x1b6)],'duration':timestamp(_0x31614d[_0x1e1300(0x18d)]),'url':_0x31614d['external_urls'][_0x1e1300(0x190)],'image':_0x31614d[_0x1e1300(0x199)][_0x1e1300(0x198)]['length']?_0x31614d[_0x1e1300(0x199)][_0x1e1300(0x198)][0x0][_0x1e1300(0x19e)]:''}));return _0x5580e2;}catch(_0x3128d0){return console[_0x1e1300(0x19f)](_0x1e1300(0x19d)+_0x3128d0),[];}}async function tokens(){const _0x58273d=a0_0x1d3d2d;try{const _0x345e21=await a0_0x31b553({'method':_0x58273d(0x1b5),'url':_0x58273d(0x181),'headers':{'Content-Type':_0x58273d(0x19b),'Authorization':_0x58273d(0x1b2)+Buffer[_0x58273d(0x1b7)](_0x58273d(0x1a9))[_0x58273d(0x194)](_0x58273d(0x189))},'data':_0x58273d(0x1b0)});return _0x345e21[_0x58273d(0x1b3)][_0x58273d(0x186)];}catch(_0x5211b4){console['error'](_0x58273d(0x17e)+_0x5211b4);throw new Error(_0x58273d(0x187));}}function timestamp(_0x331fcd){const _0x597893=a0_0x1d3d2d,_0x22e8cb=Math[_0x597893(0x195)](_0x331fcd/0xea60),_0x16092f=Math[_0x597893(0x195)](_0x331fcd%0xea60/0x3e8);return _0x22e8cb+':'+(_0x16092f<0xa?'0':'')+_0x16092f;}