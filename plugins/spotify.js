const a0_0x5ee129=a0_0x3e28;(function(_0x2ab9b3,_0x15ca3e){const _0x565076=a0_0x3e28,_0x2a50aa=_0x2ab9b3();while(!![]){try{const _0x590b9b=parseInt(_0x565076(0x125))/0x1+parseInt(_0x565076(0x123))/0x2*(-parseInt(_0x565076(0x11f))/0x3)+parseInt(_0x565076(0x13e))/0x4+-parseInt(_0x565076(0x11c))/0x5*(parseInt(_0x565076(0x132))/0x6)+-parseInt(_0x565076(0x13a))/0x7+-parseInt(_0x565076(0x12d))/0x8*(parseInt(_0x565076(0x133))/0x9)+parseInt(_0x565076(0x149))/0xa;if(_0x590b9b===_0x15ca3e)break;else _0x2a50aa['push'](_0x2a50aa['shift']());}catch(_0xe28713){_0x2a50aa['push'](_0x2a50aa['shift']());}}}(a0_0x48b1,0x8b0f0));import a0_0x571a37 from'axios';function a0_0x3e28(_0x484cdf,_0x7de424){const _0x48b131=a0_0x48b1();return a0_0x3e28=function(_0x3e2845,_0x2b03d3){_0x3e2845=_0x3e2845-0x111;let _0x274bee=_0x48b131[_0x3e2845];return _0x274bee;},a0_0x3e28(_0x484cdf,_0x7de424);}import a0_0x306b50 from'node-fetch';import a0_0xb2e956 from'yt-search';let handler=async(_0x29c0b8,{conn:_0x5275fa,text:_0x3922eb,usedPrefix:_0x339668,command:_0x535815})=>{const _0x208fea=a0_0x3e28;if(!_0x3922eb)throw'Usage:\x20'+(_0x339668+_0x535815)+_0x208fea(0x128);const _0xe47f3b=await a0_0x306b50(apis+_0x208fea(0x120)+encodeURIComponent(_0x3922eb)),_0xd41e6c=await _0xe47f3b[_0x208fea(0x140)]();if(!_0xd41e6c[_0x208fea(0x14c)]||_0xd41e6c[_0x208fea(0x14c)][_0x208fea(0x119)]===0x0)throw _0x208fea(0x11d);const _0xd5d178=_0xd41e6c[_0x208fea(0x14c)][0x0];let _0x54a417='\x0aTitle:\x20'+_0xd5d178[_0x208fea(0x143)]+'\x0aArtist:\x20'+_0xd5d178[_0x208fea(0x11a)]+_0x208fea(0x121)+_0xd5d178[_0x208fea(0x112)]+'\x0aDuration:\x20'+_0xd5d178[_0x208fea(0x139)]+_0x208fea(0x117)+_0xd5d178['url']+_0x208fea(0x138);await _0x5275fa[_0x208fea(0x141)](_0x29c0b8[_0x208fea(0x116)],{'text':_0x54a417,'contextInfo':{'forwardingScore':0x1,'isForwarded':!![],'externalAdReply':{'showAdAttribution':!![],'containsAutoReply':!![],'renderLargerThumbnail':!![],'title':_0xd5d178[_0x208fea(0x143)],'body':_0x208fea(0x14d),'mediaType':0x1,'thumbnailUrl':_0xd5d178[_0x208fea(0x12b)],'mediaUrl':_0xd5d178[_0x208fea(0x11b)],'sourceUrl':_0xd5d178['url']}}},{'quoted':_0x29c0b8}),_0x29c0b8[_0x208fea(0x12e)]('⌛️');try{const _0x316cc1=await a0_0x306b50(_0x208fea(0x11e)+_0xd5d178[_0x208fea(0x11b)]),_0x58d975=await _0x316cc1[_0x208fea(0x140)]();await _0x5275fa[_0x208fea(0x141)](_0x29c0b8[_0x208fea(0x116)],{'audio':{'url':_0x58d975['data'][_0x208fea(0x124)]},'fileName':_0xd5d178[_0x208fea(0x143)]+_0x208fea(0x114),'mimetype':_0x208fea(0x126)},{'quoted':_0x29c0b8}),_0x29c0b8['react']('✅️');}catch{try{const _0x9767cb=await a0_0x306b50(apis+_0x208fea(0x137)+_0xd5d178[_0x208fea(0x11b)]),_0x13e986=await _0x9767cb[_0x208fea(0x140)]();await _0x5275fa[_0x208fea(0x141)](_0x29c0b8[_0x208fea(0x116)],{'audio':{'url':_0x13e986[_0x208fea(0x14c)][_0x208fea(0x11b)]},'fileName':_0xd5d178[_0x208fea(0x143)]+_0x208fea(0x114),'mimetype':'audio/mpeg'},{'quoted':_0x29c0b8}),_0x29c0b8['react']('✅️');}catch{try{let _0x3ac972=await spotifyxv(_0x3922eb);if(!_0x3ac972[_0x208fea(0x119)])throw _0x208fea(0x13b);const _0x2111e7=await a0_0x306b50(_0x208fea(0x136)+_0xd5d178[_0x208fea(0x11b)]),_0x507188=await _0x2111e7[_0x208fea(0x140)]();await _0x5275fa['sendMessage'](_0x29c0b8[_0x208fea(0x116)],{'audio':{'url':_0x507188['result'][_0x208fea(0x14c)][_0x208fea(0x124)]},'fileName':_0x507188[_0x208fea(0x131)]['data'][_0x208fea(0x143)]+_0x208fea(0x114),'mimetype':_0x208fea(0x126)},{'quoted':_0x29c0b8}),_0x29c0b8[_0x208fea(0x12e)]('✅️');}catch(_0x15b9aa){_0x29c0b8[_0x208fea(0x12e)]('❌'),console['error'](_0x15b9aa);}}}};handler[a0_0x5ee129(0x13c)]=[a0_0x5ee129(0x148)];export default handler;function a0_0x48b1(){const _0x2df9c2=['music','31450790TuDxif','duration_ms','Error\x20in\x20spotifyxv:\x20','data','Spotify\x20Downloader','acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009','album','grant_type=client_credentials','.mp3','access_token','chat','\x0aLink:\x20','external_urls','length','artist','url','5oCIsmp','⚠️\x20No\x20results\x20found\x20for\x20that\x20query.','https://api.siputzx.my.id/api/d/spotify?url=','6cuAJuo','/search/spotify?q=','\x0aAlbum:\x20','floor','813478QSkefV','download','413958hxJRRh','audio/mpeg','https://api.spotify.com/v1/search?q=','\x20<search\x20query>','Bearer\x20','name','image','artists','4412008siaGtl','react','post','Could\x20not\x20obtain\x20access\x20token','result','5512890QVFAwo','9zvfyDP','items','get','https://archive-ui.tanakadomp.biz.id/download/spotify?url=','/download/spotifydl?url=','\x0a\x20\x20','duration','5178922WbqLYz','❌\x20No\x20results\x20found,\x20please\x20try\x20again.','command','error','136748NYGdDs','images','json','sendMessage','map','title','base64','&type=track','join','https://accounts.spotify.com/api/token'];a0_0x48b1=function(){return _0x2df9c2;};return a0_0x48b1();}async function spotifyxv(_0x23489c){const _0x1eb0d9=a0_0x5ee129;let _0x4e1da7=await tokens();try{let _0x1ec035=await a0_0x571a37({'method':_0x1eb0d9(0x135),'url':_0x1eb0d9(0x127)+encodeURIComponent(_0x23489c)+_0x1eb0d9(0x145),'headers':{'Authorization':_0x1eb0d9(0x129)+_0x4e1da7}});const _0xbb204b=_0x1ec035[_0x1eb0d9(0x14c)]['tracks'][_0x1eb0d9(0x134)],_0x2d0578=_0xbb204b[_0x1eb0d9(0x142)](_0x32738c=>({'name':_0x32738c['name'],'artist':_0x32738c[_0x1eb0d9(0x12c)][_0x1eb0d9(0x142)](_0x16ba48=>_0x16ba48['name'])[_0x1eb0d9(0x146)](',\x20'),'album':_0x32738c[_0x1eb0d9(0x112)][_0x1eb0d9(0x12a)],'duration':timestamp(_0x32738c[_0x1eb0d9(0x14a)]),'url':_0x32738c[_0x1eb0d9(0x118)]['spotify'],'image':_0x32738c['album']['images']['length']?_0x32738c[_0x1eb0d9(0x112)][_0x1eb0d9(0x13f)][0x0][_0x1eb0d9(0x11b)]:''}));return _0x2d0578;}catch(_0x1d1fe0){return console[_0x1eb0d9(0x13d)](_0x1eb0d9(0x14b)+_0x1d1fe0),[];}}async function tokens(){const _0x215aa=a0_0x5ee129;try{const _0xce2007=await a0_0x571a37({'method':_0x215aa(0x12f),'url':_0x215aa(0x147),'headers':{'Content-Type':'application/x-www-form-urlencoded','Authorization':'Basic\x20'+Buffer['from'](_0x215aa(0x111))['toString'](_0x215aa(0x144))},'data':_0x215aa(0x113)});return _0xce2007[_0x215aa(0x14c)][_0x215aa(0x115)];}catch(_0x481585){console['error']('Error\x20in\x20tokens:\x20'+_0x481585);throw new Error(_0x215aa(0x130));}}function timestamp(_0x583cab){const _0x687fb0=a0_0x5ee129,_0x578f9c=Math[_0x687fb0(0x122)](_0x583cab/0xea60),_0x2f09e5=Math[_0x687fb0(0x122)](_0x583cab%0xea60/0x3e8);return _0x578f9c+':'+(_0x2f09e5<0xa?'0':'')+_0x2f09e5;}