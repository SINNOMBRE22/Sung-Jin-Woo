const a0_0x3005ee=a0_0x4e05;(function(_0x51e410,_0x1c2a82){const _0x22ccfe=a0_0x4e05,_0x5f47a7=_0x51e410();while(!![]){try{const _0x271e37=-parseInt(_0x22ccfe(0x174))/0x1*(-parseInt(_0x22ccfe(0x172))/0x2)+parseInt(_0x22ccfe(0x14a))/0x3+-parseInt(_0x22ccfe(0x150))/0x4+parseInt(_0x22ccfe(0x164))/0x5+-parseInt(_0x22ccfe(0x154))/0x6+-parseInt(_0x22ccfe(0x13f))/0x7+parseInt(_0x22ccfe(0x167))/0x8*(parseInt(_0x22ccfe(0x153))/0x9);if(_0x271e37===_0x1c2a82)break;else _0x5f47a7['push'](_0x5f47a7['shift']());}catch(_0x285e89){_0x5f47a7['push'](_0x5f47a7['shift']());}}}(a0_0x3aac,0xaf1b3));import a0_0x1845f2 from'axios';import a0_0x5a24fc from'node-fetch';import a0_0x32c8ee from'yt-search';function a0_0x3aac(){const _0xcdbb06=['error','length','/download/spotifydl?url=','\x20<search\x20query>','7405097hIRIwf','\x0aLink:\x20','grant_type=client_credentials','⚠️\x20No\x20results\x20found\x20for\x20that\x20query.','join','Error\x20in\x20spotifyxv:\x20','toString','music','download','\x0a\x20\x20','&type=track','1821258RUrbjH','acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009','duration_ms','artist','spotify','json','4552940gAnsZS','Spotify\x20Downloader','\x0aTitle:\x20','212211fbwmhz','5458038RuTKMw','images','result','name','application/x-www-form-urlencoded','https://api.siputzx.my.id/api/d/spotify?url=','react','\x0aDuration:\x20','data','Usage:\x20','command','map','floor','\x0aAlbum:\x20','chat','from','2465955lBGdwU','audio/mpeg','/search/spotify?q=','736vXqtoY','album','url','https://api.spotify.com/v1/search?q=','image','tracks','title','Could\x20not\x20obtain\x20access\x20token','sendMessage','items','\x0aArtist:\x20','9302ANeOVz','get','119BFQLLJ','.mp3','Error\x20in\x20tokens:\x20','artists','external_urls'];a0_0x3aac=function(){return _0xcdbb06;};return a0_0x3aac();}let handler=async(_0x4523d9,{conn:_0x52b138,text:_0x3c4966,usedPrefix:_0x5f0ebe,command:_0x15b0d8})=>{const _0x3d3732=a0_0x4e05;if(!_0x3c4966)throw _0x3d3732(0x15d)+(_0x5f0ebe+_0x15b0d8)+_0x3d3732(0x13e);const _0x57d226=await a0_0x5a24fc(apis+_0x3d3732(0x166)+encodeURIComponent(_0x3c4966)),_0x18e4d2=await _0x57d226[_0x3d3732(0x14f)]();if(!_0x18e4d2['data']||_0x18e4d2[_0x3d3732(0x15c)]['length']===0x0)throw _0x3d3732(0x142);const _0x484f01=_0x18e4d2[_0x3d3732(0x15c)][0x0];let _0x18fd29=_0x3d3732(0x152)+_0x484f01[_0x3d3732(0x16d)]+_0x3d3732(0x171)+_0x484f01[_0x3d3732(0x14d)]+_0x3d3732(0x161)+_0x484f01[_0x3d3732(0x168)]+_0x3d3732(0x15b)+_0x484f01['duration']+_0x3d3732(0x140)+_0x484f01[_0x3d3732(0x169)]+_0x3d3732(0x148);await _0x52b138[_0x3d3732(0x16f)](_0x4523d9[_0x3d3732(0x162)],{'text':_0x18fd29,'contextInfo':{'forwardingScore':0x1,'isForwarded':!![],'externalAdReply':{'showAdAttribution':!![],'containsAutoReply':!![],'renderLargerThumbnail':!![],'title':_0x484f01[_0x3d3732(0x16d)],'body':_0x3d3732(0x151),'mediaType':0x1,'thumbnailUrl':_0x484f01[_0x3d3732(0x16b)],'mediaUrl':_0x484f01[_0x3d3732(0x169)],'sourceUrl':_0x484f01[_0x3d3732(0x169)]}}},{'quoted':_0x4523d9}),_0x4523d9[_0x3d3732(0x15a)]('⌛️');try{const _0x1ea2f5=await a0_0x5a24fc(_0x3d3732(0x159)+_0x484f01['url']),_0x429df4=await _0x1ea2f5['json']();await _0x52b138[_0x3d3732(0x16f)](_0x4523d9[_0x3d3732(0x162)],{'audio':{'url':_0x429df4['data'][_0x3d3732(0x147)]},'fileName':_0x484f01[_0x3d3732(0x16d)]+_0x3d3732(0x175),'mimetype':_0x3d3732(0x165)},{'quoted':_0x4523d9}),_0x4523d9[_0x3d3732(0x15a)]('✅️');}catch{try{const _0x436a51=await a0_0x5a24fc(apis+_0x3d3732(0x13d)+_0x484f01[_0x3d3732(0x169)]),_0x386526=await _0x436a51['json']();await _0x52b138[_0x3d3732(0x16f)](_0x4523d9[_0x3d3732(0x162)],{'audio':{'url':_0x386526['data'][_0x3d3732(0x169)]},'fileName':_0x484f01[_0x3d3732(0x16d)]+_0x3d3732(0x175),'mimetype':_0x3d3732(0x165)},{'quoted':_0x4523d9}),_0x4523d9[_0x3d3732(0x15a)]('✅️');}catch{try{let _0x31cbdb=await spotifyxv(_0x3c4966);if(!_0x31cbdb[_0x3d3732(0x13c)])throw'❌\x20No\x20results\x20found,\x20please\x20try\x20again.';const _0x1cc968=await a0_0x5a24fc('https://archive-ui.tanakadomp.biz.id/download/spotify?url='+_0x484f01[_0x3d3732(0x169)]),_0x297f63=await _0x1cc968['json']();await _0x52b138[_0x3d3732(0x16f)](_0x4523d9[_0x3d3732(0x162)],{'audio':{'url':_0x297f63[_0x3d3732(0x156)]['data'][_0x3d3732(0x147)]},'fileName':_0x297f63[_0x3d3732(0x156)][_0x3d3732(0x15c)][_0x3d3732(0x16d)]+_0x3d3732(0x175),'mimetype':'audio/mpeg'},{'quoted':_0x4523d9}),_0x4523d9[_0x3d3732(0x15a)]('✅️');}catch(_0x3087a6){_0x4523d9[_0x3d3732(0x15a)]('❌'),console[_0x3d3732(0x13b)](_0x3087a6);}}}};handler[a0_0x3005ee(0x15e)]=[a0_0x3005ee(0x146)];export default handler;async function spotifyxv(_0x41eae5){const _0x5a611a=a0_0x3005ee;let _0xd44162=await tokens();try{let _0x77cd7d=await a0_0x1845f2({'method':_0x5a611a(0x173),'url':_0x5a611a(0x16a)+encodeURIComponent(_0x41eae5)+_0x5a611a(0x149),'headers':{'Authorization':'Bearer\x20'+_0xd44162}});const _0xc51376=_0x77cd7d[_0x5a611a(0x15c)][_0x5a611a(0x16c)][_0x5a611a(0x170)],_0x367bb4=_0xc51376[_0x5a611a(0x15f)](_0x527161=>({'name':_0x527161['name'],'artist':_0x527161[_0x5a611a(0x139)][_0x5a611a(0x15f)](_0x51dee7=>_0x51dee7[_0x5a611a(0x157)])[_0x5a611a(0x143)](',\x20'),'album':_0x527161[_0x5a611a(0x168)][_0x5a611a(0x157)],'duration':timestamp(_0x527161[_0x5a611a(0x14c)]),'url':_0x527161[_0x5a611a(0x13a)][_0x5a611a(0x14e)],'image':_0x527161[_0x5a611a(0x168)][_0x5a611a(0x155)][_0x5a611a(0x13c)]?_0x527161['album'][_0x5a611a(0x155)][0x0][_0x5a611a(0x169)]:''}));return _0x367bb4;}catch(_0x2d3277){return console['error'](_0x5a611a(0x144)+_0x2d3277),[];}}function a0_0x4e05(_0x4a0d38,_0xd51910){const _0x3aacd9=a0_0x3aac();return a0_0x4e05=function(_0x4e0520,_0x299cb7){_0x4e0520=_0x4e0520-0x138;let _0x3817b9=_0x3aacd9[_0x4e0520];return _0x3817b9;},a0_0x4e05(_0x4a0d38,_0xd51910);}async function tokens(){const _0x376ec4=a0_0x3005ee;try{const _0x53f7f9=await a0_0x1845f2({'method':'post','url':'https://accounts.spotify.com/api/token','headers':{'Content-Type':_0x376ec4(0x158),'Authorization':'Basic\x20'+Buffer[_0x376ec4(0x163)](_0x376ec4(0x14b))[_0x376ec4(0x145)]('base64')},'data':_0x376ec4(0x141)});return _0x53f7f9[_0x376ec4(0x15c)]['access_token'];}catch(_0x13220f){console[_0x376ec4(0x13b)](_0x376ec4(0x138)+_0x13220f);throw new Error(_0x376ec4(0x16e));}}function timestamp(_0x35d79c){const _0x3aa2c6=a0_0x3005ee,_0x145b1a=Math[_0x3aa2c6(0x160)](_0x35d79c/0xea60),_0x2396db=Math['floor'](_0x35d79c%0xea60/0x3e8);return _0x145b1a+':'+(_0x2396db<0xa?'0':'')+_0x2396db;}