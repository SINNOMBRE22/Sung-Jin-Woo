const a0_0x3f0af2=a0_0x268a;function a0_0x1acc(){const _0x196f4a=['\x0aLink:\x20','tracks','❌\x20No\x20results\x20found,\x20please\x20try\x20again.','4295348VnGOpY','react','acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009','data','title','items','floor','images','Usage:\x20','https://archive-ui.tanakadomp.biz.id/download/spotify?url=','json','album','Could\x20not\x20obtain\x20access\x20token','https://api.siputzx.my.id/api/d/spotify?url=','.mp3','⚠️\x20No\x20results\x20found\x20for\x20that\x20query.','1372103bJSckV','&type=track','22533HUubew','sendMessage','post','name','from','join','artists','spotify','4506567xxjwiA','Error\x20in\x20tokens:\x20','length','access_token','download','grant_type=client_credentials','url','external_urls','/download/spotifydl?url=','duration_ms','Spotify\x20Downloader','66692cLpbvE','music','error','1338jCIOee','duration','command','1920600ImItGt','result','toString','chat','\x0a\x20\x20','12525560ddjveW','Basic\x20','get','artist','audio/mpeg'];a0_0x1acc=function(){return _0x196f4a;};return a0_0x1acc();}(function(_0x2c57c8,_0x48cf5a){const _0x29b85d=a0_0x268a,_0x35543a=_0x2c57c8();while(!![]){try{const _0x188103=-parseInt(_0x29b85d(0x167))/0x1+parseInt(_0x29b85d(0x17c))/0x2+parseInt(_0x29b85d(0x171))/0x3+parseInt(_0x29b85d(0x18f))/0x4+parseInt(_0x29b85d(0x182))/0x5+parseInt(_0x29b85d(0x17f))/0x6*(parseInt(_0x29b85d(0x169))/0x7)+-parseInt(_0x29b85d(0x187))/0x8;if(_0x188103===_0x48cf5a)break;else _0x35543a['push'](_0x35543a['shift']());}catch(_0x117011){_0x35543a['push'](_0x35543a['shift']());}}}(a0_0x1acc,0xbcd9b));import a0_0x161a7c from'axios';import a0_0x521c30 from'node-fetch';import a0_0x42bc38 from'yt-search';let handler=async(_0x5f1c49,{conn:_0x57eb94,text:_0x34c98d,usedPrefix:_0x34fee6,command:_0x55294e})=>{const _0x52ab4a=a0_0x268a;if(!_0x34c98d)throw _0x52ab4a(0x15f)+(_0x34fee6+_0x55294e)+'\x20<search\x20query>';const _0x133b97=await a0_0x521c30(apis+'/search/spotify?q='+encodeURIComponent(_0x34c98d)),_0x5b3426=await _0x133b97[_0x52ab4a(0x161)]();if(!_0x5b3426[_0x52ab4a(0x15a)]||_0x5b3426[_0x52ab4a(0x15a)][_0x52ab4a(0x173)]===0x0)throw _0x52ab4a(0x166);const _0x428994=_0x5b3426[_0x52ab4a(0x15a)][0x0];let _0x16f28a='\x0aTitle:\x20'+_0x428994[_0x52ab4a(0x15b)]+'\x0aArtist:\x20'+_0x428994[_0x52ab4a(0x18a)]+'\x0aAlbum:\x20'+_0x428994[_0x52ab4a(0x162)]+'\x0aDuration:\x20'+_0x428994[_0x52ab4a(0x180)]+_0x52ab4a(0x18c)+_0x428994[_0x52ab4a(0x177)]+_0x52ab4a(0x186);await _0x57eb94['sendMessage'](_0x5f1c49[_0x52ab4a(0x185)],{'text':_0x16f28a,'contextInfo':{'forwardingScore':0x1,'isForwarded':!![],'externalAdReply':{'showAdAttribution':!![],'containsAutoReply':!![],'renderLargerThumbnail':!![],'title':_0x428994['title'],'body':_0x52ab4a(0x17b),'mediaType':0x1,'thumbnailUrl':_0x428994['image'],'mediaUrl':_0x428994[_0x52ab4a(0x177)],'sourceUrl':_0x428994['url']}}},{'quoted':_0x5f1c49}),_0x5f1c49['react']('⌛️');try{const _0x24cf31=await a0_0x521c30(_0x52ab4a(0x164)+_0x428994[_0x52ab4a(0x177)]),_0xaa3c81=await _0x24cf31[_0x52ab4a(0x161)]();await _0x57eb94['sendMessage'](_0x5f1c49[_0x52ab4a(0x185)],{'audio':{'url':_0xaa3c81[_0x52ab4a(0x15a)]['download']},'fileName':_0x428994[_0x52ab4a(0x15b)]+'.mp3','mimetype':'audio/mpeg'},{'quoted':_0x5f1c49}),_0x5f1c49['react']('✅️');}catch{try{const _0x1a8442=await a0_0x521c30(apis+_0x52ab4a(0x179)+_0x428994['url']),_0x48552c=await _0x1a8442[_0x52ab4a(0x161)]();await _0x57eb94[_0x52ab4a(0x16a)](_0x5f1c49[_0x52ab4a(0x185)],{'audio':{'url':_0x48552c['data']['url']},'fileName':_0x428994[_0x52ab4a(0x15b)]+_0x52ab4a(0x165),'mimetype':_0x52ab4a(0x18b)},{'quoted':_0x5f1c49}),_0x5f1c49[_0x52ab4a(0x190)]('✅️');}catch{try{let _0x4f7351=await spotifyxv(_0x34c98d);if(!_0x4f7351[_0x52ab4a(0x173)])throw _0x52ab4a(0x18e);const _0x51682d=await a0_0x521c30(_0x52ab4a(0x160)+_0x428994[_0x52ab4a(0x177)]),_0x4c388c=await _0x51682d[_0x52ab4a(0x161)]();await _0x57eb94[_0x52ab4a(0x16a)](_0x5f1c49['chat'],{'audio':{'url':_0x4c388c['result']['data'][_0x52ab4a(0x175)]},'fileName':_0x4c388c[_0x52ab4a(0x183)][_0x52ab4a(0x15a)][_0x52ab4a(0x15b)]+_0x52ab4a(0x165),'mimetype':_0x52ab4a(0x18b)},{'quoted':_0x5f1c49}),_0x5f1c49[_0x52ab4a(0x190)]('✅️');}catch(_0x41d639){_0x5f1c49[_0x52ab4a(0x190)]('❌'),console[_0x52ab4a(0x17e)](_0x41d639);}}}};handler[a0_0x3f0af2(0x181)]=[a0_0x3f0af2(0x17d)];export default handler;function a0_0x268a(_0x370bed,_0x577f0d){const _0x1acc94=a0_0x1acc();return a0_0x268a=function(_0x268a2c,_0x115ac7){_0x268a2c=_0x268a2c-0x15a;let _0xd6b7a1=_0x1acc94[_0x268a2c];return _0xd6b7a1;},a0_0x268a(_0x370bed,_0x577f0d);}async function spotifyxv(_0x4253a7){const _0x2824b0=a0_0x3f0af2;let _0x2be17a=await tokens();try{let _0x33df56=await a0_0x161a7c({'method':_0x2824b0(0x189),'url':'https://api.spotify.com/v1/search?q='+encodeURIComponent(_0x4253a7)+_0x2824b0(0x168),'headers':{'Authorization':'Bearer\x20'+_0x2be17a}});const _0x1361fe=_0x33df56[_0x2824b0(0x15a)][_0x2824b0(0x18d)][_0x2824b0(0x15c)],_0x56b591=_0x1361fe['map'](_0x5a5e0d=>({'name':_0x5a5e0d['name'],'artist':_0x5a5e0d[_0x2824b0(0x16f)]['map'](_0x29d71d=>_0x29d71d[_0x2824b0(0x16c)])[_0x2824b0(0x16e)](',\x20'),'album':_0x5a5e0d[_0x2824b0(0x162)]['name'],'duration':timestamp(_0x5a5e0d[_0x2824b0(0x17a)]),'url':_0x5a5e0d[_0x2824b0(0x178)][_0x2824b0(0x170)],'image':_0x5a5e0d[_0x2824b0(0x162)][_0x2824b0(0x15e)]['length']?_0x5a5e0d[_0x2824b0(0x162)][_0x2824b0(0x15e)][0x0][_0x2824b0(0x177)]:''}));return _0x56b591;}catch(_0x3c6aaa){return console[_0x2824b0(0x17e)]('Error\x20in\x20spotifyxv:\x20'+_0x3c6aaa),[];}}async function tokens(){const _0x56292e=a0_0x3f0af2;try{const _0x110609=await a0_0x161a7c({'method':_0x56292e(0x16b),'url':'https://accounts.spotify.com/api/token','headers':{'Content-Type':'application/x-www-form-urlencoded','Authorization':_0x56292e(0x188)+Buffer[_0x56292e(0x16d)](_0x56292e(0x191))[_0x56292e(0x184)]('base64')},'data':_0x56292e(0x176)});return _0x110609[_0x56292e(0x15a)][_0x56292e(0x174)];}catch(_0x582c54){console['error'](_0x56292e(0x172)+_0x582c54);throw new Error(_0x56292e(0x163));}}function timestamp(_0x43db3b){const _0x54d527=a0_0x3f0af2,_0x337be8=Math[_0x54d527(0x15d)](_0x43db3b/0xea60),_0x2b591e=Math[_0x54d527(0x15d)](_0x43db3b%0xea60/0x3e8);return _0x337be8+':'+(_0x2b591e<0xa?'0':'')+_0x2b591e;}