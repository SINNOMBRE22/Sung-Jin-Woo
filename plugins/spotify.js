const a0_0x2dc04b=a0_0x2670;function a0_0xee21(){const _0xad5f00=['79254VlievY','duration','duration_ms','json','join','&type=track','url','get','length','images','\x0aAlbum:\x20','\x20<search\x20query>','sendMessage','title','error','3356644nWaxgs','album','name','artist','floor','Error\x20in\x20tokens:\x20','Usage:\x20','music','\x0aDuration:\x20','Error\x20in\x20spotifyxv:\x20','/download/spotifydl?url=','.mp3','153783wsmiZw','items','11KiOyjU','artists','data','image','\x0aArtist:\x20','216eoouMz','/search/spotify?q=','grant_type=client_credentials','download','9213140fzbNak','5rQrHWZ','access_token','react','post','384Hnfohm','from','Bearer\x20','Spotify\x20Downloader','map','spotify','https://archive-ui.tanakadomp.biz.id/download/spotify?url=','Basic\x20','2URJkkE','external_urls','audio/mpeg','result','chat','34224072CexYWG','⚠️\x20No\x20results\x20found\x20for\x20that\x20query.','❌\x20No\x20results\x20found,\x20please\x20try\x20again.','base64','\x0aLink:\x20','96363zkngnd','toString','\x0aTitle:\x20','1120281moHdtV','https://accounts.spotify.com/api/token'];a0_0xee21=function(){return _0xad5f00;};return a0_0xee21();}(function(_0x40601a,_0x238852){const _0xb6d39d=a0_0x2670,_0xbc1384=_0x40601a();while(!![]){try{const _0x5bec14=parseInt(_0xb6d39d(0x1f1))/0x1+-parseInt(_0xb6d39d(0x1e7))/0x2*(-parseInt(_0xb6d39d(0x1f4))/0x3)+parseInt(_0xb6d39d(0x205))/0x4*(parseInt(_0xb6d39d(0x1db))/0x5)+-parseInt(_0xb6d39d(0x1df))/0x6*(-parseInt(_0xb6d39d(0x1f6))/0x7)+-parseInt(_0xb6d39d(0x1d6))/0x8*(-parseInt(_0xb6d39d(0x1cf))/0x9)+parseInt(_0xb6d39d(0x1da))/0xa*(parseInt(_0xb6d39d(0x1d1))/0xb)+-parseInt(_0xb6d39d(0x1ec))/0xc;if(_0x5bec14===_0x238852)break;else _0xbc1384['push'](_0xbc1384['shift']());}catch(_0x56579f){_0xbc1384['push'](_0xbc1384['shift']());}}}(a0_0xee21,0x89bf8));function a0_0x2670(_0x17885c,_0x4150db){const _0xee21b4=a0_0xee21();return a0_0x2670=function(_0x2670cf,_0x148b9a){_0x2670cf=_0x2670cf-0x1cf;let _0x1a8a6a=_0xee21b4[_0x2670cf];return _0x1a8a6a;},a0_0x2670(_0x17885c,_0x4150db);}import a0_0x5881f4 from'axios';import a0_0x1af920 from'node-fetch';import a0_0x575cc8 from'yt-search';let handler=async(_0xae1804,{conn:_0x332cb3,text:_0x2bea27,usedPrefix:_0xffcb5e,command:_0x4bcd79})=>{const _0x3b569d=a0_0x2670;if(!_0x2bea27)throw _0x3b569d(0x20b)+(_0xffcb5e+_0x4bcd79)+_0x3b569d(0x201);const _0x375241=await a0_0x1af920(apis+_0x3b569d(0x1d7)+encodeURIComponent(_0x2bea27)),_0x4a746a=await _0x375241[_0x3b569d(0x1f9)]();if(!_0x4a746a[_0x3b569d(0x1d3)]||_0x4a746a[_0x3b569d(0x1d3)][_0x3b569d(0x1fe)]===0x0)throw _0x3b569d(0x1ed);const _0x3fc659=_0x4a746a[_0x3b569d(0x1d3)][0x0];let _0x5dd6b9=_0x3b569d(0x1f3)+_0x3fc659[_0x3b569d(0x203)]+_0x3b569d(0x1d5)+_0x3fc659[_0x3b569d(0x208)]+_0x3b569d(0x200)+_0x3fc659[_0x3b569d(0x206)]+_0x3b569d(0x20d)+_0x3fc659[_0x3b569d(0x1f7)]+_0x3b569d(0x1f0)+_0x3fc659[_0x3b569d(0x1fc)]+'\x0a\x20\x20';await _0x332cb3[_0x3b569d(0x202)](_0xae1804[_0x3b569d(0x1eb)],{'text':_0x5dd6b9,'contextInfo':{'forwardingScore':0x1,'isForwarded':!![],'externalAdReply':{'showAdAttribution':!![],'containsAutoReply':!![],'renderLargerThumbnail':!![],'title':_0x3fc659[_0x3b569d(0x203)],'body':_0x3b569d(0x1e2),'mediaType':0x1,'thumbnailUrl':_0x3fc659[_0x3b569d(0x1d4)],'mediaUrl':_0x3fc659['url'],'sourceUrl':_0x3fc659[_0x3b569d(0x1fc)]}}},{'quoted':_0xae1804}),_0xae1804['react']('⌛️');try{const _0x3689d5=await a0_0x1af920('https://api.siputzx.my.id/api/d/spotify?url='+_0x3fc659[_0x3b569d(0x1fc)]),_0x44c8da=await _0x3689d5['json']();await _0x332cb3['sendMessage'](_0xae1804[_0x3b569d(0x1eb)],{'audio':{'url':_0x44c8da[_0x3b569d(0x1d3)][_0x3b569d(0x1d9)]},'fileName':_0x3fc659[_0x3b569d(0x203)]+_0x3b569d(0x210),'mimetype':_0x3b569d(0x1e9)},{'quoted':_0xae1804}),_0xae1804[_0x3b569d(0x1dd)]('✅️');}catch{try{const _0x4720a9=await a0_0x1af920(apis+_0x3b569d(0x20f)+_0x3fc659['url']),_0xfee253=await _0x4720a9[_0x3b569d(0x1f9)]();await _0x332cb3[_0x3b569d(0x202)](_0xae1804[_0x3b569d(0x1eb)],{'audio':{'url':_0xfee253[_0x3b569d(0x1d3)]['url']},'fileName':_0x3fc659[_0x3b569d(0x203)]+_0x3b569d(0x210),'mimetype':_0x3b569d(0x1e9)},{'quoted':_0xae1804}),_0xae1804[_0x3b569d(0x1dd)]('✅️');}catch{try{let _0xc35c75=await spotifyxv(_0x2bea27);if(!_0xc35c75[_0x3b569d(0x1fe)])throw _0x3b569d(0x1ee);const _0x5d9915=await a0_0x1af920(_0x3b569d(0x1e5)+_0x3fc659[_0x3b569d(0x1fc)]),_0xcedb59=await _0x5d9915['json']();await _0x332cb3[_0x3b569d(0x202)](_0xae1804[_0x3b569d(0x1eb)],{'audio':{'url':_0xcedb59[_0x3b569d(0x1ea)][_0x3b569d(0x1d3)]['download']},'fileName':_0xcedb59[_0x3b569d(0x1ea)][_0x3b569d(0x1d3)][_0x3b569d(0x203)]+'.mp3','mimetype':_0x3b569d(0x1e9)},{'quoted':_0xae1804}),_0xae1804[_0x3b569d(0x1dd)]('✅️');}catch(_0x4b6dff){_0xae1804['react']('❌'),console[_0x3b569d(0x204)](_0x4b6dff);}}}};handler['command']=[a0_0x2dc04b(0x20c)];export default handler;async function spotifyxv(_0x29b971){const _0x10e74e=a0_0x2dc04b;let _0x825817=await tokens();try{let _0x50cf18=await a0_0x5881f4({'method':_0x10e74e(0x1fd),'url':'https://api.spotify.com/v1/search?q='+encodeURIComponent(_0x29b971)+_0x10e74e(0x1fb),'headers':{'Authorization':_0x10e74e(0x1e1)+_0x825817}});const _0x412888=_0x50cf18[_0x10e74e(0x1d3)]['tracks'][_0x10e74e(0x1d0)],_0x147cb5=_0x412888['map'](_0xd23077=>({'name':_0xd23077['name'],'artist':_0xd23077[_0x10e74e(0x1d2)][_0x10e74e(0x1e3)](_0x2abc1f=>_0x2abc1f[_0x10e74e(0x207)])[_0x10e74e(0x1fa)](',\x20'),'album':_0xd23077['album']['name'],'duration':timestamp(_0xd23077[_0x10e74e(0x1f8)]),'url':_0xd23077[_0x10e74e(0x1e8)][_0x10e74e(0x1e4)],'image':_0xd23077[_0x10e74e(0x206)][_0x10e74e(0x1ff)][_0x10e74e(0x1fe)]?_0xd23077[_0x10e74e(0x206)][_0x10e74e(0x1ff)][0x0]['url']:''}));return _0x147cb5;}catch(_0x161123){return console[_0x10e74e(0x204)](_0x10e74e(0x20e)+_0x161123),[];}}async function tokens(){const _0x4952ad=a0_0x2dc04b;try{const _0xfcdf31=await a0_0x5881f4({'method':_0x4952ad(0x1de),'url':_0x4952ad(0x1f5),'headers':{'Content-Type':'application/x-www-form-urlencoded','Authorization':_0x4952ad(0x1e6)+Buffer[_0x4952ad(0x1e0)]('acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009')[_0x4952ad(0x1f2)](_0x4952ad(0x1ef))},'data':_0x4952ad(0x1d8)});return _0xfcdf31[_0x4952ad(0x1d3)][_0x4952ad(0x1dc)];}catch(_0x27ae3a){console['error'](_0x4952ad(0x20a)+_0x27ae3a);throw new Error('Could\x20not\x20obtain\x20access\x20token');}}function timestamp(_0x6c09ac){const _0x58859c=a0_0x2dc04b,_0x4c9d40=Math[_0x58859c(0x209)](_0x6c09ac/0xea60),_0x27a46f=Math[_0x58859c(0x209)](_0x6c09ac%0xea60/0x3e8);return _0x4c9d40+':'+(_0x27a46f<0xa?'0':'')+_0x27a46f;}