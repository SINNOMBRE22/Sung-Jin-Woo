const a0_0xecbfcc=a0_0x3ba5;(function(_0xbbdf63,_0x1d2425){const _0x31b9e0=a0_0x3ba5,_0x29c9dd=_0xbbdf63();while(!![]){try{const _0x305a38=parseInt(_0x31b9e0(0x111))/0x1*(parseInt(_0x31b9e0(0xfe))/0x2)+-parseInt(_0x31b9e0(0x108))/0x3*(parseInt(_0x31b9e0(0x107))/0x4)+parseInt(_0x31b9e0(0x123))/0x5*(-parseInt(_0x31b9e0(0xf9))/0x6)+-parseInt(_0x31b9e0(0x110))/0x7*(-parseInt(_0x31b9e0(0x116))/0x8)+-parseInt(_0x31b9e0(0x10b))/0x9*(-parseInt(_0x31b9e0(0x11e))/0xa)+parseInt(_0x31b9e0(0xf7))/0xb*(-parseInt(_0x31b9e0(0x12c))/0xc)+parseInt(_0x31b9e0(0x12f))/0xd;if(_0x305a38===_0x1d2425)break;else _0x29c9dd['push'](_0x29c9dd['shift']());}catch(_0x5fe843){_0x29c9dd['push'](_0x29c9dd['shift']());}}}(a0_0x42e0,0x58c71));import a0_0x24f177 from'axios';import a0_0x1ac119 from'node-fetch';import a0_0x58d6ce from'yt-search';let handler=async(_0xcda17a,{conn:_0x26b63a,text:_0x359c44,usedPrefix:_0x58bc8c,command:_0x2916a9})=>{const _0x5b6a10=a0_0x3ba5;if(!_0x359c44)throw'Usage:\x20'+(_0x58bc8c+_0x2916a9)+_0x5b6a10(0x10f);const _0x4223e0=await a0_0x1ac119(apis+_0x5b6a10(0x103)+encodeURIComponent(_0x359c44)),_0x4c363b=await _0x4223e0[_0x5b6a10(0x119)]();if(!_0x4c363b[_0x5b6a10(0x115)]||_0x4c363b[_0x5b6a10(0x115)][_0x5b6a10(0xfd)]===0x0)throw'⚠️\x20No\x20results\x20found\x20for\x20that\x20query.';const _0x282680=_0x4c363b[_0x5b6a10(0x115)][0x0];let _0x2afc26=_0x5b6a10(0x11f)+_0x282680[_0x5b6a10(0x105)]+'\x0aArtist:\x20'+_0x282680[_0x5b6a10(0x121)]+'\x0aAlbum:\x20'+_0x282680['album']+'\x0aDuration:\x20'+_0x282680['duration']+'\x0aLink:\x20'+_0x282680[_0x5b6a10(0x127)]+_0x5b6a10(0x117);await _0x26b63a[_0x5b6a10(0xff)](_0xcda17a['chat'],{'text':_0x2afc26,'contextInfo':{'forwardingScore':0x1,'isForwarded':!![],'externalAdReply':{'showAdAttribution':!![],'containsAutoReply':!![],'renderLargerThumbnail':!![],'title':_0x282680[_0x5b6a10(0x105)],'body':'Spotify\x20Downloader','mediaType':0x1,'thumbnailUrl':_0x282680[_0x5b6a10(0x10e)],'mediaUrl':_0x282680[_0x5b6a10(0x127)],'sourceUrl':_0x282680[_0x5b6a10(0x127)]}}},{'quoted':_0xcda17a}),_0xcda17a[_0x5b6a10(0x11b)]('⌛️');try{const _0x498b9d=await a0_0x1ac119('https://api.siputzx.my.id/api/d/spotify?url='+_0x282680[_0x5b6a10(0x127)]),_0x32b12d=await _0x498b9d[_0x5b6a10(0x119)]();await _0x26b63a[_0x5b6a10(0xff)](_0xcda17a['chat'],{'audio':{'url':_0x32b12d[_0x5b6a10(0x115)]['download']},'fileName':_0x282680[_0x5b6a10(0x105)]+_0x5b6a10(0x106),'mimetype':'audio/mpeg'},{'quoted':_0xcda17a}),_0xcda17a[_0x5b6a10(0x11b)]('✅️');}catch{try{const _0x436be9=await a0_0x1ac119(apis+_0x5b6a10(0x10c)+_0x282680[_0x5b6a10(0x127)]),_0x2aea77=await _0x436be9[_0x5b6a10(0x119)]();await _0x26b63a[_0x5b6a10(0xff)](_0xcda17a[_0x5b6a10(0x104)],{'audio':{'url':_0x2aea77[_0x5b6a10(0x115)][_0x5b6a10(0x127)]},'fileName':_0x282680[_0x5b6a10(0x105)]+'.mp3','mimetype':_0x5b6a10(0xfa)},{'quoted':_0xcda17a}),_0xcda17a[_0x5b6a10(0x11b)]('✅️');}catch{try{let _0x320cd5=await spotifyxv(_0x359c44);if(!_0x320cd5[_0x5b6a10(0xfd)])throw _0x5b6a10(0x109);const _0xa29ad9=await a0_0x1ac119(_0x5b6a10(0x122)+_0x282680[_0x5b6a10(0x127)]),_0x5e5bf1=await _0xa29ad9[_0x5b6a10(0x119)]();await _0x26b63a['sendMessage'](_0xcda17a[_0x5b6a10(0x104)],{'audio':{'url':_0x5e5bf1[_0x5b6a10(0xfb)][_0x5b6a10(0x115)][_0x5b6a10(0x125)]},'fileName':_0x5e5bf1['result'][_0x5b6a10(0x115)][_0x5b6a10(0x105)]+'.mp3','mimetype':'audio/mpeg'},{'quoted':_0xcda17a}),_0xcda17a[_0x5b6a10(0x11b)]('✅️');}catch(_0x2d094d){_0xcda17a[_0x5b6a10(0x11b)]('❌'),console[_0x5b6a10(0x129)](_0x2d094d);}}}};handler[a0_0xecbfcc(0x128)]=['music'];export default handler;async function spotifyxv(_0x3a6c4e){const _0x3fe70b=a0_0xecbfcc;let _0x102de9=await tokens();try{let _0x596559=await a0_0x24f177({'method':'get','url':_0x3fe70b(0x12d)+encodeURIComponent(_0x3a6c4e)+_0x3fe70b(0x120),'headers':{'Authorization':_0x3fe70b(0x12b)+_0x102de9}});const _0x5b6dc2=_0x596559[_0x3fe70b(0x115)][_0x3fe70b(0x10a)]['items'],_0x515d57=_0x5b6dc2['map'](_0x4f2b23=>({'name':_0x4f2b23[_0x3fe70b(0x11c)],'artist':_0x4f2b23[_0x3fe70b(0x10d)][_0x3fe70b(0x101)](_0x44d892=>_0x44d892[_0x3fe70b(0x11c)])[_0x3fe70b(0x130)](',\x20'),'album':_0x4f2b23[_0x3fe70b(0x118)][_0x3fe70b(0x11c)],'duration':timestamp(_0x4f2b23[_0x3fe70b(0xfc)]),'url':_0x4f2b23['external_urls']['spotify'],'image':_0x4f2b23[_0x3fe70b(0x118)][_0x3fe70b(0x113)][_0x3fe70b(0xfd)]?_0x4f2b23['album'][_0x3fe70b(0x113)][0x0][_0x3fe70b(0x127)]:''}));return _0x515d57;}catch(_0x5962e0){return console[_0x3fe70b(0x129)](_0x3fe70b(0x11a)+_0x5962e0),[];}}function a0_0x42e0(){const _0x1b7525=['audio/mpeg','result','duration_ms','length','80QsgPvW','sendMessage','Could\x20not\x20obtain\x20access\x20token','map','access_token','/search/spotify?q=','chat','title','.mp3','1442696DYNqcN','3KstoYX','❌\x20No\x20results\x20found,\x20please\x20try\x20again.','tracks','14517CAoBIU','/download/spotifydl?url=','artists','image','\x20<search\x20query>','73598KcbQzl','15034SyatLC','application/x-www-form-urlencoded','images','from','data','312DcqPVa','\x0a\x20\x20','album','json','Error\x20in\x20spotifyxv:\x20','react','name','https://accounts.spotify.com/api/token','2050ekfZRX','\x0aTitle:\x20','&type=track','artist','https://archive-ui.tanakadomp.biz.id/download/spotify?url=','5KROAcC','Error\x20in\x20tokens:\x20','download','post','url','command','error','toString','Bearer\x20','1608hVCtky','https://api.spotify.com/v1/search?q=','floor','5200741zHSNgZ','join','44000SvAxEp','base64','2890926QgGVgF'];a0_0x42e0=function(){return _0x1b7525;};return a0_0x42e0();}function a0_0x3ba5(_0x305724,_0x4568e0){const _0x42e0d4=a0_0x42e0();return a0_0x3ba5=function(_0x3ba5d0,_0x397ceb){_0x3ba5d0=_0x3ba5d0-0xf7;let _0x55d1f0=_0x42e0d4[_0x3ba5d0];return _0x55d1f0;},a0_0x3ba5(_0x305724,_0x4568e0);}async function tokens(){const _0xdba69a=a0_0xecbfcc;try{const _0x5efee2=await a0_0x24f177({'method':_0xdba69a(0x126),'url':_0xdba69a(0x11d),'headers':{'Content-Type':_0xdba69a(0x112),'Authorization':'Basic\x20'+Buffer[_0xdba69a(0x114)]('acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009')[_0xdba69a(0x12a)](_0xdba69a(0xf8))},'data':'grant_type=client_credentials'});return _0x5efee2[_0xdba69a(0x115)][_0xdba69a(0x102)];}catch(_0x4081f1){console[_0xdba69a(0x129)](_0xdba69a(0x124)+_0x4081f1);throw new Error(_0xdba69a(0x100));}}function timestamp(_0x56e424){const _0x25ee22=a0_0xecbfcc,_0x5e69d0=Math[_0x25ee22(0x12e)](_0x56e424/0xea60),_0x5d1771=Math[_0x25ee22(0x12e)](_0x56e424%0xea60/0x3e8);return _0x5e69d0+':'+(_0x5d1771<0xa?'0':'')+_0x5d1771;}