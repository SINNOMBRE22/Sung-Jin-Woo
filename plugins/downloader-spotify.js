const a0_0x46080f=a0_0xc972;(function(_0x56bbb6,_0x208f66){const _0x50cf04=a0_0xc972,_0x30994b=_0x56bbb6();while(!![]){try{const _0x2c3f27=parseInt(_0x50cf04(0xf5))/0x1+-parseInt(_0x50cf04(0x11e))/0x2+-parseInt(_0x50cf04(0xf4))/0x3+-parseInt(_0x50cf04(0x11f))/0x4*(-parseInt(_0x50cf04(0xeb))/0x5)+parseInt(_0x50cf04(0x139))/0x6+parseInt(_0x50cf04(0x100))/0x7*(-parseInt(_0x50cf04(0xe7))/0x8)+parseInt(_0x50cf04(0xd8))/0x9*(-parseInt(_0x50cf04(0xdc))/0xa);if(_0x2c3f27===_0x208f66)break;else _0x30994b['push'](_0x30994b['shift']());}catch(_0x5cb91d){_0x30994b['push'](_0x30994b['shift']());}}}(a0_0x2fae,0x625ea));import a0_0x3120be from'axios';import a0_0x106a23 from'node-fetch';let spotifyTokenCache={'token':null,'expiresAt':0x0};function a0_0x2fae(){const _0x6ad2=['\x20https://open.spotify.com/album/...\x0a‚Ä¢\x20','Basic\x20','‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2030%','floor','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±\x2070%','toString','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20para\x20el\x20artista.','Error\x20al\x20obtener\x20la\x20imagen:\x20','\x20Bellyache\x0a‚Ä¢\x20','\x20(1/1)','‚öîÔ∏è\x20Error:\x20No\x20ingresaste\x20ninguna\x20b√∫squeda\x20o\x20enlace.\x0a\x0aEjemplo:\x0a‚Ä¢\x20','url','expires_in','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20la\x20playlist.','split','statusText','get','No\x20se\x20pudo\x20obtener\x20el\x20enlace\x20de\x20descarga\x20para\x20','audio/mpeg','external_urls','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20el\x20√°lbum.','key','command','error','albums','artist','338658lPrrZJ','7748RtbrVT','√Ålbum:\x20','album','https://api.spotify.com/v1/search?q=','items','open.spotify.com/album','name','length','Top\x20Tracks','title','https://api.spotify.com/v1/albums/','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20artista.','buffer','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20Fall√≥\x20la\x20extracci√≥n\x20de:\x20','tracks','\x20https://open.spotify.com/track/...\x0a‚Ä¢\x20','artists','No\x20se\x20pudo\x20extraer\x20la\x20sombra\x20de:\x20','https://api.spotify.com/v1/tracks/','group','includes','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20de\x20la\x20playlist.','Artista:\x20','images','‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\x0a‚öîÔ∏è\x20Extracci√≥n\x20en\x20Curso\x0aüåü\x20Objetivo:\x20','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20√°lbum.','2447988sWyARZ','toLowerCase','63999QCLevz','Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a','‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2020%','\x20https://open.spotify.com/artist/...','70AkZRnz','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20track.','help','\x0aüõ†Ô∏è\x20Intento:\x20','https://accounts.spotify.com/api/token','token','push','\x20https://open.spotify.com/playlist/...\x0a‚Ä¢\x20','spotify','map','expiresAt','184872DLeOcf','.mp3','music','https://api.spotify.com/v1/playlists/','395uRqMIc','chat','Bearer\x20','spotify.com/artist','sendMessage','thumbnail','No\x20se\x20pudieron\x20extraer\x20las\x20siguientes\x20sombras:\x0a','open.spotify.com/artist','‚ùå\x20*Error:*\x20','1214805qBpjoQ','789468izIwEx','track','\x20(Reintento)','‚ùå\x20*Error:*\x20No\x20se\x20encontraron\x20resultados.','post','\x0aüí†\x20Progreso:\x20','spotify.com/track','access_token','indexOf','‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%','reply','98ayCYTd','data','open.spotify.com/playlist','join'];a0_0x2fae=function(){return _0x6ad2;};return a0_0x2fae();}async function getSpotifyToken(){const _0x5b0140=a0_0xc972,_0x101b82=Date['now']();if(spotifyTokenCache['token']&&spotifyTokenCache[_0x5b0140(0xe6)]>_0x101b82)return spotifyTokenCache[_0x5b0140(0xe1)];const _0xb826d6=await a0_0x3120be({'method':_0x5b0140(0xf9),'url':_0x5b0140(0xe0),'headers':{'Content-Type':'application/x-www-form-urlencoded','Authorization':_0x5b0140(0x105)+Buffer['from']('acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009')[_0x5b0140(0x109)]('base64')},'data':'grant_type=client_credentials'}),_0xabcbd9=_0xb826d6[_0x5b0140(0x101)][_0x5b0140(0xfc)];return spotifyTokenCache[_0x5b0140(0xe1)]=_0xabcbd9,spotifyTokenCache[_0x5b0140(0xe6)]=_0x101b82+_0xb826d6[_0x5b0140(0x101)][_0x5b0140(0x110)]*0x3e8-0xea60,_0xabcbd9;}async function getBuffer(_0x4bf36c){const _0x5ab442=a0_0xc972,_0x314149=await a0_0x106a23(_0x4bf36c);if(!_0x314149['ok'])throw new Error(_0x5ab442(0x10b)+_0x314149[_0x5ab442(0x113)]);return await _0x314149[_0x5ab442(0x12b)]();}function formatExtractionMessage(_0x49173d,_0x19f6c5,_0x261172){const _0x242e36=a0_0xc972;return _0x242e36(0x137)+_0x49173d+_0x242e36(0xdf)+_0x19f6c5+_0x242e36(0xfa)+_0x261172+'\x0a‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ';}async function progressWithSync(_0x54c419,_0x4b4576,_0x5c8f2,_0x31919d,{objective:_0x250755,attempt:_0xf4e360,failedTrack:failedTrack=null}){const _0x146880=a0_0xc972;let _0x2b9b78=![];const _0x268f4e=[_0x146880(0xfe),'‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2010%',_0x146880(0xda),_0x146880(0x106),'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2040%','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2050%','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±\x2060%',_0x146880(0x108),'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±\x2080%','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±\x2090%'];let _0x546a97=0x0;const _0x5309ab=0x12c,_0x3b3907=setInterval(async()=>{const _0x4b059a=_0x146880;if(_0x546a97<_0x268f4e['length']){const _0x49d4b2=formatExtractionMessage(_0x250755,_0xf4e360,_0x268f4e[_0x546a97]);await _0x54c419[_0x4b059a(0xef)](_0x4b4576[_0x4b059a(0xec)],{'text':_0x49d4b2,'edit':_0x5c8f2[_0x4b059a(0x119)]}),_0x546a97++;}},_0x5309ab);try{await _0x31919d;}catch(_0x4b7acb){_0x2b9b78=!![];}clearInterval(_0x3b3907);const _0x37f7db=_0x2b9b78&&failedTrack?_0x146880(0x12c)+failedTrack:'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20¬°Descargado!',_0x4f9a23=formatExtractionMessage(_0x250755,_0xf4e360,_0x37f7db);await _0x54c419['sendMessage'](_0x4b4576[_0x146880(0xec)],{'text':_0x4f9a23,'edit':_0x5c8f2[_0x146880(0x119)]});}async function downloadWithRetries(_0x4de9b5,_0x64c77c,_0x3273af,_0x107d81,_0x3b83df){const _0x6cc4a7=a0_0xc972;let _0x344350=null;for(let _0x9b4362=0x1;_0x9b4362<=0x3;_0x9b4362++){try{const _0x5d151e=a0_0x106a23('https://apis-starlights-team.koyeb.app/starlight/spotifydl?url='+_0x4de9b5[_0x6cc4a7(0x10f)])['then'](_0x47e83c=>_0x47e83c['json']());await progressWithSync(_0x64c77c,_0x3273af,_0x107d81,_0x5d151e,{'objective':_0x3b83df,'attempt':_0x9b4362,'failedTrack':_0x9b4362===0x3?_0x4de9b5[_0x6cc4a7(0x125)]:null}),_0x344350=await _0x5d151e;if(!_0x344350||!_0x344350[_0x6cc4a7(0xe9)])throw new Error(_0x6cc4a7(0x115)+_0x4de9b5[_0x6cc4a7(0x125)]);return _0x344350;}catch(_0x40d18c){if(_0x9b4362===0x3)return null;await new Promise(_0x1badd4=>setTimeout(_0x1badd4,0x3e8));}}return null;}let handler=async(_0x1a8e1b,{conn:_0xe185f0,text:_0x2b6aa8,usedPrefix:_0x13d7c4,command:_0x227873})=>{const _0x12d304=a0_0xc972;if(!_0x2b6aa8)throw _0x12d304(0x10e)+(_0x13d7c4+_0x227873)+_0x12d304(0x10c)+(_0x13d7c4+_0x227873)+_0x12d304(0x12e)+(_0x13d7c4+_0x227873)+_0x12d304(0x104)+(_0x13d7c4+_0x227873)+_0x12d304(0xe3)+(_0x13d7c4+_0x227873)+_0x12d304(0xdb);try{await _0x1a8e1b['react']('‚è≥');let _0xe7bd07=![],_0x12a770=![],_0x30a4e1=![],_0xaacf28;if(_0x2b6aa8['includes'](_0x12d304(0x124))){_0xe7bd07=!![],_0xaacf28=await spotifyAlbum(_0x2b6aa8);if(!_0xaacf28?.[_0x12d304(0x12d)]?.['length'])throw _0x12d304(0x118);}else{if(_0x2b6aa8['includes'](_0x12d304(0x102))){_0x12a770=!![],_0xaacf28=await spotifyPlaylist(_0x2b6aa8);if(!_0xaacf28?.[_0x12d304(0x12d)]?.[_0x12d304(0x126)])throw _0x12d304(0x111);}else{if(_0x2b6aa8['includes'](_0x12d304(0xf2))||_0x2b6aa8[_0x12d304(0x133)](_0x12d304(0xee))){_0xe7bd07=!![],_0x30a4e1=!![],_0xaacf28=await spotifyArtist(_0x2b6aa8);if(!_0xaacf28?.[_0x12d304(0x12d)]?.[_0x12d304(0x126)])throw _0x12d304(0x10a);}else{if(_0x2b6aa8[_0x12d304(0x133)](_0x12d304(0xfb)))_0xaacf28={'tracks':[await spotifyTrack(_0x2b6aa8)]};else{if(_0x2b6aa8[_0x12d304(0x13a)]()[_0x12d304(0x133)](_0x12d304(0x121))){_0xe7bd07=!![],_0xaacf28=await spotifyAlbumSearch(_0x2b6aa8);if(!_0xaacf28?.[_0x12d304(0x12d)]?.['length'])throw _0x12d304(0x118);}else{const _0x15d11c=await spotifyxv(_0x2b6aa8);if(!_0x15d11c[_0x12d304(0x126)]||!_0x15d11c[0x0][_0x12d304(0x10f)])throw _0x12d304(0xf8);_0xaacf28={'tracks':[_0x15d11c[0x0]]};}}}}}if(_0xe7bd07||_0x12a770){let _0x419eb6=[];for(let _0x49cf2f=0x0;_0x49cf2f<_0xaacf28[_0x12d304(0x12d)][_0x12d304(0x126)];_0x49cf2f++){const _0x42b22a=_0xaacf28[_0x12d304(0x12d)][_0x49cf2f],_0x14c97a=_0x42b22a[_0x12d304(0x125)]+'\x20('+(_0x49cf2f+0x1)+'/'+_0xaacf28[_0x12d304(0x12d)][_0x12d304(0x126)]+')',_0x3c7995=formatExtractionMessage(_0x14c97a,0x1,_0x12d304(0xfe)),_0x47edd8=await _0xe185f0[_0x12d304(0xef)](_0x1a8e1b[_0x12d304(0xec)],{'text':_0x3c7995}),_0x188dc5=await downloadWithRetries(_0x42b22a,_0xe185f0,_0x1a8e1b,_0x47edd8,_0x14c97a);_0x188dc5?(await _0xe185f0[_0x12d304(0xef)](_0x1a8e1b['chat'],{'delete':_0x47edd8['key']}),await _0xe185f0[_0x12d304(0xef)](_0x1a8e1b['chat'],{'audio':{'url':_0x188dc5[_0x12d304(0xe9)]},'fileName':_0x188dc5[_0x12d304(0x128)]+'.mp3','mimetype':_0x12d304(0x116),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x188dc5['title'],'body':'Artista:\x20'+_0x188dc5[_0x12d304(0x11d)],'description':_0x12d304(0x120)+_0x188dc5['album'],'thumbnailUrl':_0x188dc5[_0x12d304(0xf0)]}}}),await new Promise(_0x15fbe2=>setTimeout(_0x15fbe2,0x7d0))):_0x419eb6[_0x12d304(0xe2)](_0x42b22a);}if(_0x419eb6['length']>0x0){let _0x55292f=_0x419eb6[_0x12d304(0xe5)](_0x4a9e84=>_0x4a9e84[_0x12d304(0x125)])[_0x12d304(0x103)]('\x0a');await _0xe185f0['sendMessage'](_0x1a8e1b['chat'],{'text':'Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a'+_0x55292f});let _0x1f6c12=[];for(let _0x104193 of _0x419eb6){const _0x14f44=_0x104193[_0x12d304(0x125)]+_0x12d304(0xf7),_0x2b60b3=formatExtractionMessage(_0x14f44,0x1,'‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%'),_0x313a8f=await _0xe185f0['sendMessage'](_0x1a8e1b[_0x12d304(0xec)],{'text':_0x2b60b3}),_0x2081ab=await downloadWithRetries(_0x104193,_0xe185f0,_0x1a8e1b,_0x313a8f,_0x14f44);_0x2081ab?(await _0xe185f0[_0x12d304(0xef)](_0x1a8e1b[_0x12d304(0xec)],{'delete':_0x313a8f['key']}),await _0xe185f0['sendMessage'](_0x1a8e1b[_0x12d304(0xec)],{'audio':{'url':_0x2081ab[_0x12d304(0xe9)]},'fileName':_0x2081ab[_0x12d304(0x128)]+_0x12d304(0xe8),'mimetype':_0x12d304(0x116),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x2081ab['title'],'body':_0x12d304(0x135)+_0x2081ab[_0x12d304(0x11d)],'description':_0x12d304(0x120)+_0x2081ab['album'],'thumbnailUrl':_0x2081ab[_0x12d304(0xf0)]}}}),await new Promise(_0x1fa8c1=>setTimeout(_0x1fa8c1,0x7d0))):_0x1f6c12[_0x12d304(0xe2)](_0x104193);}if(_0x1f6c12[_0x12d304(0x126)]>0x0){let _0xa78676=_0x1f6c12['map'](_0x5723fb=>_0x5723fb['name'])[_0x12d304(0x103)]('\x0a');await _0xe185f0[_0x12d304(0xef)](_0x1a8e1b[_0x12d304(0xec)],{'text':_0x12d304(0xf1)+_0xa78676});}}}else{const _0xa85266=_0xaacf28[_0x12d304(0x12d)][0x0],_0x1e41f6=_0xa85266[_0x12d304(0x125)]+_0x12d304(0x10d),_0x1a2ca8=formatExtractionMessage(_0x1e41f6,0x1,_0x12d304(0xfe)),_0x3669aa=await _0xe185f0[_0x12d304(0xef)](_0x1a8e1b['chat'],{'text':_0x1a2ca8}),_0x212b21=await downloadWithRetries(_0xa85266,_0xe185f0,_0x1a8e1b,_0x3669aa,_0x1e41f6);if(!_0x212b21){await _0xe185f0[_0x12d304(0xef)](_0x1a8e1b[_0x12d304(0xec)],{'text':_0x12d304(0xd9)+_0xa85266['name']});const _0x5682eb=formatExtractionMessage(_0x1e41f6+'\x20(Reintento)',0x1,_0x12d304(0xfe)),_0x3cb668=await _0xe185f0[_0x12d304(0xef)](_0x1a8e1b['chat'],{'text':_0x5682eb}),_0x291e7a=await downloadWithRetries(_0xa85266,_0xe185f0,_0x1a8e1b,_0x3cb668,_0x1e41f6+_0x12d304(0xf7));!_0x291e7a?await _0xe185f0[_0x12d304(0xef)](_0x1a8e1b[_0x12d304(0xec)],{'text':_0x12d304(0x130)+_0xa85266[_0x12d304(0x125)]}):(await _0xe185f0[_0x12d304(0xef)](_0x1a8e1b[_0x12d304(0xec)],{'delete':_0x3cb668[_0x12d304(0x119)]}),await _0xe185f0[_0x12d304(0xef)](_0x1a8e1b['chat'],{'audio':{'url':_0x291e7a[_0x12d304(0xe9)]},'fileName':_0x291e7a[_0x12d304(0x128)]+_0x12d304(0xe8),'mimetype':_0x12d304(0x116),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x291e7a[_0x12d304(0x128)],'body':_0x12d304(0x135)+_0x291e7a[_0x12d304(0x11d)],'description':_0x12d304(0x120)+_0x291e7a[_0x12d304(0x121)],'thumbnailUrl':_0x291e7a[_0x12d304(0xf0)]}}}),await new Promise(_0x2c9ee8=>setTimeout(_0x2c9ee8,0x7d0)));}else await _0xe185f0['sendMessage'](_0x1a8e1b[_0x12d304(0xec)],{'delete':_0x3669aa[_0x12d304(0x119)]}),await _0xe185f0[_0x12d304(0xef)](_0x1a8e1b[_0x12d304(0xec)],{'audio':{'url':_0x212b21[_0x12d304(0xe9)]},'fileName':_0x212b21['title']+'.mp3','mimetype':_0x12d304(0x116),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x212b21[_0x12d304(0x128)],'body':'Artista:\x20'+_0x212b21[_0x12d304(0x11d)],'description':'√Ålbum:\x20'+_0x212b21[_0x12d304(0x121)],'thumbnailUrl':_0x212b21[_0x12d304(0xf0)]}}}),await _0x1a8e1b['react']('‚úÖ');}}catch(_0x4888ab){await _0x1a8e1b['react']('‚ùå'),await _0x1a8e1b[_0x12d304(0xff)](_0x12d304(0xf3)+(_0x4888ab['message']||_0x4888ab)),console[_0x12d304(0x11b)](_0x4888ab);}};handler[a0_0x46080f(0xde)]=[a0_0x46080f(0xe4),a0_0x46080f(0xe9)],handler['tags']=['downloader'],handler[a0_0x46080f(0x11a)]=[a0_0x46080f(0xe4),'music'],handler[a0_0x46080f(0x132)]=![];export default handler;async function spotifyxv(_0x5ab149){const _0x31cbb0=a0_0x46080f,_0x39f051=await getSpotifyToken();try{let _0x2a343b=await a0_0x3120be({'method':_0x31cbb0(0x114),'url':_0x31cbb0(0x122)+encodeURIComponent(_0x5ab149)+'&type=track','headers':{'Authorization':_0x31cbb0(0xed)+_0x39f051}});const _0x1b67c2=_0x2a343b[_0x31cbb0(0x101)][_0x31cbb0(0x12d)][_0x31cbb0(0x123)];return _0x1b67c2[_0x31cbb0(0xe5)](_0x5ee682=>({'name':_0x5ee682[_0x31cbb0(0x125)],'artist':_0x5ee682[_0x31cbb0(0x12f)][_0x31cbb0(0xe5)](_0x5c3f2=>_0x5c3f2['name'])[_0x31cbb0(0x103)](',\x20'),'album':_0x5ee682['album'][_0x31cbb0(0x125)],'duration':timestamp(_0x5ee682['duration_ms']),'url':_0x5ee682[_0x31cbb0(0x117)][_0x31cbb0(0xe4)],'thumbnail':_0x5ee682[_0x31cbb0(0x121)]['images'][0x0]?.[_0x31cbb0(0x10f)]||''}));}catch(_0x71c41){return console[_0x31cbb0(0x11b)](_0x71c41),[];}}async function spotifyAlbum(_0x747553){const _0xc6005c=a0_0x46080f;let _0x1845d9;try{const _0x16c394=_0x747553[_0xc6005c(0x112)]('/');_0x1845d9=_0x16c394[_0x16c394[_0xc6005c(0xfd)](_0xc6005c(0x121))+0x1][_0xc6005c(0x112)]('?')[0x0];}catch(_0x4d51ce){throw new Error(_0xc6005c(0x138));}const _0x1822e4=await getSpotifyToken();let _0x4122f=await a0_0x3120be({'method':_0xc6005c(0x114),'url':_0xc6005c(0x129)+_0x1845d9,'headers':{'Authorization':_0xc6005c(0xed)+_0x1822e4}});const _0x3fe84f=_0x4122f[_0xc6005c(0x101)],_0x3146ff=_0x3fe84f[_0xc6005c(0x12d)][_0xc6005c(0x123)][_0xc6005c(0xe5)](_0x2c5d89=>({'name':_0x2c5d89[_0xc6005c(0x125)],'artist':_0x2c5d89[_0xc6005c(0x12f)][_0xc6005c(0xe5)](_0x40d059=>_0x40d059[_0xc6005c(0x125)])[_0xc6005c(0x103)](',\x20'),'album':_0x3fe84f[_0xc6005c(0x125)],'url':_0x2c5d89['external_urls'][_0xc6005c(0xe4)],'thumbnail':_0x3fe84f['images'][0x0]?.['url']||''}));return{'album':_0x3fe84f,'tracks':_0x3146ff};}async function spotifyAlbumSearch(_0x4b3c7d){const _0xf8eafd=a0_0x46080f,_0x3377df=await getSpotifyToken();let _0x4be54c=await a0_0x3120be({'method':_0xf8eafd(0x114),'url':_0xf8eafd(0x122)+encodeURIComponent(_0x4b3c7d)+'&type=album','headers':{'Authorization':'Bearer\x20'+_0x3377df}});const _0x2c0c53=_0x4be54c[_0xf8eafd(0x101)][_0xf8eafd(0x11c)][_0xf8eafd(0x123)];if(!_0x2c0c53[_0xf8eafd(0x126)])return null;const _0x344d2c=_0x2c0c53[0x0]['id'];let _0x2a8d57=await a0_0x3120be({'method':'get','url':'https://api.spotify.com/v1/albums/'+_0x344d2c,'headers':{'Authorization':_0xf8eafd(0xed)+_0x3377df}});const _0x1190f1=_0x2a8d57[_0xf8eafd(0x101)],_0x380d27=_0x1190f1[_0xf8eafd(0x12d)][_0xf8eafd(0x123)]['map'](_0x19045c=>({'name':_0x19045c[_0xf8eafd(0x125)],'artist':_0x19045c[_0xf8eafd(0x12f)][_0xf8eafd(0xe5)](_0x6aad1e=>_0x6aad1e[_0xf8eafd(0x125)])['join'](',\x20'),'album':_0x1190f1[_0xf8eafd(0x125)],'url':_0x19045c[_0xf8eafd(0x117)][_0xf8eafd(0xe4)],'thumbnail':_0x1190f1[_0xf8eafd(0x136)][0x0]?.[_0xf8eafd(0x10f)]||''}));return{'album':_0x1190f1,'tracks':_0x380d27};}async function spotifyPlaylist(_0x3ee9ec){const _0x58c1ec=a0_0x46080f;let _0x212a5e;try{const _0x5068d8=_0x3ee9ec[_0x58c1ec(0x112)]('/');_0x212a5e=_0x5068d8[_0x5068d8['indexOf']('playlist')+0x1][_0x58c1ec(0x112)]('?')[0x0];}catch(_0x1f32e0){throw new Error(_0x58c1ec(0x134));}const _0x36f1cb=await getSpotifyToken();let _0x29acf1=await a0_0x3120be({'method':'get','url':_0x58c1ec(0xea)+_0x212a5e,'headers':{'Authorization':'Bearer\x20'+_0x36f1cb}});const _0x299a94=_0x29acf1[_0x58c1ec(0x101)],_0x3bb840=_0x299a94[_0x58c1ec(0x12d)]['items']['map'](_0x26e60=>{const _0x2e125d=_0x58c1ec,_0x36cd20=_0x26e60[_0x2e125d(0xf6)];return{'name':_0x36cd20['name'],'artist':_0x36cd20[_0x2e125d(0x12f)][_0x2e125d(0xe5)](_0x8e07eb=>_0x8e07eb[_0x2e125d(0x125)])[_0x2e125d(0x103)](',\x20'),'album':_0x299a94['name'],'url':_0x36cd20[_0x2e125d(0x117)][_0x2e125d(0xe4)],'thumbnail':_0x36cd20[_0x2e125d(0x121)][_0x2e125d(0x136)][0x0]?.[_0x2e125d(0x10f)]||''};});return{'album':{'name':_0x299a94[_0x58c1ec(0x125)]},'tracks':_0x3bb840};}async function spotifyArtist(_0x2eb07a){const _0x1f1574=a0_0x46080f;let _0x5c86a2;try{const _0x11f63f=_0x2eb07a[_0x1f1574(0x112)]('/');_0x5c86a2=_0x11f63f[_0x11f63f[_0x1f1574(0xfd)](_0x1f1574(0x11d))+0x1][_0x1f1574(0x112)]('?')[0x0];}catch(_0x346622){throw new Error(_0x1f1574(0x12a));}const _0x41d04c=await getSpotifyToken();let _0x34d5cc=await a0_0x3120be({'method':'get','url':'https://api.spotify.com/v1/artists/'+_0x5c86a2+'/top-tracks?market=US','headers':{'Authorization':'Bearer\x20'+_0x41d04c}});const _0x4ce2f1=_0x34d5cc['data'],_0x3e2489=_0x4ce2f1[_0x1f1574(0x12d)][_0x1f1574(0xe5)](_0x3e0659=>({'name':_0x3e0659['name'],'artist':_0x3e0659[_0x1f1574(0x12f)][_0x1f1574(0xe5)](_0x2b8a1d=>_0x2b8a1d['name'])[_0x1f1574(0x103)](',\x20'),'album':_0x1f1574(0x127),'url':_0x3e0659[_0x1f1574(0x117)]['spotify'],'thumbnail':_0x3e0659[_0x1f1574(0x121)][_0x1f1574(0x136)][0x0]?.['url']||''}));return{'album':{'name':_0x1f1574(0x127)},'tracks':_0x3e2489};}function a0_0xc972(_0x37912d,_0x3adea2){const _0x2fae79=a0_0x2fae();return a0_0xc972=function(_0xc972e3,_0x5b4192){_0xc972e3=_0xc972e3-0xd8;let _0x308d19=_0x2fae79[_0xc972e3];return _0x308d19;},a0_0xc972(_0x37912d,_0x3adea2);}async function spotifyTrack(_0x25541b){const _0x2fae3e=a0_0x46080f;let _0x92ff18;try{const _0x1cf6db=_0x25541b[_0x2fae3e(0x112)]('/');_0x92ff18=_0x1cf6db[_0x1cf6db['indexOf'](_0x2fae3e(0xf6))+0x1][_0x2fae3e(0x112)]('?')[0x0];}catch(_0x46822d){throw new Error(_0x2fae3e(0xdd));}const _0x218253=await getSpotifyToken();let _0x5846c8=await a0_0x3120be({'method':_0x2fae3e(0x114),'url':_0x2fae3e(0x131)+_0x92ff18,'headers':{'Authorization':_0x2fae3e(0xed)+_0x218253}});const _0x224c28=_0x5846c8[_0x2fae3e(0x101)];return{'name':_0x224c28[_0x2fae3e(0x125)],'artist':_0x224c28['artists']['map'](_0x4ebf86=>_0x4ebf86[_0x2fae3e(0x125)])['join'](',\x20'),'album':_0x224c28[_0x2fae3e(0x121)][_0x2fae3e(0x125)],'url':_0x224c28[_0x2fae3e(0x117)][_0x2fae3e(0xe4)],'thumbnail':_0x224c28['album'][_0x2fae3e(0x136)][0x0]?.[_0x2fae3e(0x10f)]||''};}function timestamp(_0x347a72){const _0x1f5399=a0_0x46080f,_0x41fa1d=Math['floor'](_0x347a72/0xea60),_0x563196=Math[_0x1f5399(0x107)](_0x347a72%0xea60/0x3e8);return _0x41fa1d+':'+(_0x563196<0xa?'0':'')+_0x563196;}