const a0_0xb7cf5d=a0_0x2675;(function(_0x3c7314,_0x16f14e){const _0x4abfe4=a0_0x2675,_0xf41323=_0x3c7314();while(!![]){try{const _0x21a779=parseInt(_0x4abfe4(0x1ff))/0x1+-parseInt(_0x4abfe4(0x1f5))/0x2+-parseInt(_0x4abfe4(0x213))/0x3*(parseInt(_0x4abfe4(0x1f7))/0x4)+parseInt(_0x4abfe4(0x1f0))/0x5*(parseInt(_0x4abfe4(0x1ef))/0x6)+-parseInt(_0x4abfe4(0x215))/0x7+parseInt(_0x4abfe4(0x1c3))/0x8*(-parseInt(_0x4abfe4(0x1bf))/0x9)+parseInt(_0x4abfe4(0x1f4))/0xa*(parseInt(_0x4abfe4(0x200))/0xb);if(_0x21a779===_0x16f14e)break;else _0xf41323['push'](_0xf41323['shift']());}catch(_0x466a9c){_0xf41323['push'](_0xf41323['shift']());}}}(a0_0x6ae1,0x26988));import a0_0x577369 from'axios';import a0_0x3b1e31 from'node-fetch';let spotifyTokenCache={'token':null,'expiresAt':0x0};async function getSpotifyToken(){const _0x514465=a0_0x2675,_0x23ead6=Date[_0x514465(0x217)]();if(spotifyTokenCache[_0x514465(0x1b9)]&&spotifyTokenCache['expiresAt']>_0x23ead6)return spotifyTokenCache[_0x514465(0x1b9)];const _0x2b7c83=await a0_0x577369({'method':_0x514465(0x1e4),'url':_0x514465(0x1d1),'headers':{'Content-Type':_0x514465(0x20e),'Authorization':_0x514465(0x1bc)+Buffer[_0x514465(0x1cc)](_0x514465(0x206))[_0x514465(0x1bb)](_0x514465(0x1fe))},'data':_0x514465(0x205)}),_0xc82a26=_0x2b7c83[_0x514465(0x1f8)][_0x514465(0x1f2)];return spotifyTokenCache['token']=_0xc82a26,spotifyTokenCache['expiresAt']=_0x23ead6+_0x2b7c83[_0x514465(0x1f8)][_0x514465(0x1df)]*0x3e8-0xea60,_0xc82a26;}async function getBuffer(_0x304b5e){const _0x49c9b3=a0_0x2675,_0x1b2cb6=await a0_0x3b1e31(_0x304b5e);if(!_0x1b2cb6['ok'])throw new Error(_0x49c9b3(0x220)+_0x1b2cb6['statusText']);return await _0x1b2cb6[_0x49c9b3(0x1ca)]();}function formatExtractionMessage(_0x14fc9d,_0x1aaabb,_0x5dcada){const _0x5ba4ab=a0_0x2675;return'‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\x0a‚öîÔ∏è\x20Extracci√≥n\x20en\x20Curso\x0aüåü\x20Objetivo:\x20'+_0x14fc9d+_0x5ba4ab(0x221)+_0x1aaabb+'\x0aüí†\x20Progreso:\x20'+_0x5dcada+_0x5ba4ab(0x21b);}async function progressWithSync(_0x2f53fe,_0x19d142,_0x4cc094,_0x2faa4b,{objective:_0xce0f34,attempt:_0x14c778,failedTrack:failedTrack=null}){const _0x2cf691=a0_0x2675;let _0x13670b=![];const _0x4aaebf=[_0x2cf691(0x1e2),_0x2cf691(0x209),_0x2cf691(0x1c8),_0x2cf691(0x21f),_0x2cf691(0x1d0),_0x2cf691(0x214),_0x2cf691(0x1e7),_0x2cf691(0x1b7),_0x2cf691(0x1fb),_0x2cf691(0x1e1)];let _0x19ef6e=0x0;const _0x85c435=0x12c,_0x407d5b=setInterval(async()=>{const _0x3cdee5=_0x2cf691;if(_0x19ef6e<_0x4aaebf[_0x3cdee5(0x207)]){const _0x5a98eb=formatExtractionMessage(_0xce0f34,_0x14c778,_0x4aaebf[_0x19ef6e]);await _0x2f53fe['sendMessage'](_0x19d142[_0x3cdee5(0x1ee)],{'text':_0x5a98eb,'edit':_0x4cc094[_0x3cdee5(0x1d8)]}),_0x19ef6e++;}},_0x85c435);try{await _0x2faa4b;}catch(_0x19d5b8){_0x13670b=!![];}clearInterval(_0x407d5b);const _0x15d44e=_0x13670b&&failedTrack?_0x2cf691(0x1de)+failedTrack:_0x2cf691(0x21a),_0xc61cbd=formatExtractionMessage(_0xce0f34,_0x14c778,_0x15d44e);await _0x2f53fe[_0x2cf691(0x1da)](_0x19d142[_0x2cf691(0x1ee)],{'text':_0xc61cbd,'edit':_0x4cc094['key']});}function a0_0x6ae1(){const _0x31ae51=['grant_type=client_credentials','acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009','length','√Ålbum:\x20','‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2010%','Artista:\x20','‚ùå\x20*Error:*\x20','images','Bearer\x20','application/x-www-form-urlencoded','audio/mpeg','thumbnail','&type=track','items','138879lklEVk','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2050%','1583575tsGQAR','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20track.','now','push','&type=album','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20¬°Descargado!','\x0a‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ','open.spotify.com/album','music','Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a','‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2030%','Error\x20al\x20obtener\x20la\x20imagen:\x20','\x0aüõ†Ô∏è\x20Intento:\x20','https://api.spotify.com/v1/search?q=','https://api.spotify.com/v1/albums/','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±\x2070%','command','token','https://apis-starlights-team.koyeb.app/starlight/spotifydl?url=','toString','Basic\x20','tracks','external_urls','162EqUiYJ','\x20Bellyache\x0a‚Ä¢\x20','Top\x20Tracks','floor','110512PsiQxe','\x20https://open.spotify.com/artist/...','duration_ms','/top-tracks?market=US','playlist','‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2020%','open.spotify.com/playlist','buffer','artist','from','No\x20se\x20pudo\x20obtener\x20el\x20enlace\x20de\x20descarga\x20para\x20','https://api.spotify.com/v1/tracks/','.mp3','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2040%','https://accounts.spotify.com/api/token','then','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20para\x20el\x20artista.','group','split','name','‚ùå\x20*Error:*\x20No\x20se\x20encontraron\x20resultados.','key','spotify','sendMessage','react','indexOf','album','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20Fall√≥\x20la\x20extracci√≥n\x20de:\x20','expires_in','\x20(1/1)','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±\x2090%','‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%','tags','post','title','includes','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±\x2060%','albums','https://api.spotify.com/v1/playlists/','map','toLowerCase','join','spotify.com/track','chat','17898eDeIvx','190ULtSSt','\x20(Reintento)','access_token','artists','2913620iTkSkQ','387306vCgnqt','error','4XssFvD','data','url','track','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±\x2080%','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20de\x20la\x20playlist.','No\x20se\x20pudo\x20extraer\x20la\x20sombra\x20de:\x20','base64','176833WPELwe','22QcKKTP','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20√°lbum.','get','\x20https://open.spotify.com/track/...\x0a‚Ä¢\x20','json'];a0_0x6ae1=function(){return _0x31ae51;};return a0_0x6ae1();}async function downloadWithRetries(_0x911a2d,_0x11c22f,_0x47c5fc,_0x1adaef,_0x19814f){const _0x24a43a=a0_0x2675;let _0x13f7c8=null;for(let _0x878744=0x1;_0x878744<=0x3;_0x878744++){try{const _0x32b5ff=a0_0x3b1e31(_0x24a43a(0x1ba)+_0x911a2d['url'])[_0x24a43a(0x1d2)](_0x323602=>_0x323602[_0x24a43a(0x204)]());await progressWithSync(_0x11c22f,_0x47c5fc,_0x1adaef,_0x32b5ff,{'objective':_0x19814f,'attempt':_0x878744,'failedTrack':_0x878744===0x3?_0x911a2d['name']:null}),_0x13f7c8=await _0x32b5ff;if(!_0x13f7c8||!_0x13f7c8['music'])throw new Error(_0x24a43a(0x1cd)+_0x911a2d['name']);return _0x13f7c8;}catch(_0x426d5b){if(_0x878744===0x3)return null;await new Promise(_0x592857=>setTimeout(_0x592857,0x3e8));}}return null;}let handler=async(_0x42eaaa,{conn:_0x4978d7,text:_0xbbda3c,usedPrefix:_0x1cd7ee,command:_0xd70b72})=>{const _0x37a2d2=a0_0x2675;if(!_0xbbda3c)throw'‚öîÔ∏è\x20Error:\x20No\x20ingresaste\x20ninguna\x20b√∫squeda\x20o\x20enlace.\x0a\x0aEjemplo:\x0a‚Ä¢\x20'+(_0x1cd7ee+_0xd70b72)+_0x37a2d2(0x1c0)+(_0x1cd7ee+_0xd70b72)+_0x37a2d2(0x203)+(_0x1cd7ee+_0xd70b72)+'\x20https://open.spotify.com/album/...\x0a‚Ä¢\x20'+(_0x1cd7ee+_0xd70b72)+'\x20https://open.spotify.com/playlist/...\x0a‚Ä¢\x20'+(_0x1cd7ee+_0xd70b72)+_0x37a2d2(0x1c4);try{await _0x42eaaa['react']('‚è≥');let _0x3ae124=![],_0x2a15fb=![],_0x3088c6=![],_0x10a414;if(_0xbbda3c[_0x37a2d2(0x1e6)](_0x37a2d2(0x21c))){_0x3ae124=!![],_0x10a414=await spotifyAlbum(_0xbbda3c);if(!_0x10a414?.[_0x37a2d2(0x1bd)]?.['length'])throw'‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20el\x20√°lbum.';}else{if(_0xbbda3c[_0x37a2d2(0x1e6)](_0x37a2d2(0x1c9))){_0x2a15fb=!![],_0x10a414=await spotifyPlaylist(_0xbbda3c);if(!_0x10a414?.[_0x37a2d2(0x1bd)]?.[_0x37a2d2(0x207)])throw'‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20la\x20playlist.';}else{if(_0xbbda3c[_0x37a2d2(0x1e6)]('open.spotify.com/artist')||_0xbbda3c['includes']('spotify.com/artist')){_0x3ae124=!![],_0x3088c6=!![],_0x10a414=await spotifyArtist(_0xbbda3c);if(!_0x10a414?.[_0x37a2d2(0x1bd)]?.[_0x37a2d2(0x207)])throw _0x37a2d2(0x1d3);}else{if(_0xbbda3c[_0x37a2d2(0x1e6)](_0x37a2d2(0x1ed)))_0x10a414={'tracks':[await spotifyTrack(_0xbbda3c)]};else{if(_0xbbda3c[_0x37a2d2(0x1eb)]()[_0x37a2d2(0x1e6)](_0x37a2d2(0x1dd))){_0x3ae124=!![],_0x10a414=await spotifyAlbumSearch(_0xbbda3c);if(!_0x10a414?.[_0x37a2d2(0x1bd)]?.[_0x37a2d2(0x207)])throw'‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20el\x20√°lbum.';}else{const _0x225e55=await spotifyxv(_0xbbda3c);if(!_0x225e55[_0x37a2d2(0x207)]||!_0x225e55[0x0]['url'])throw _0x37a2d2(0x1d7);_0x10a414={'tracks':[_0x225e55[0x0]]};}}}}}if(_0x3ae124||_0x2a15fb){let _0x35cb05=[];for(let _0x5bf8b0=0x0;_0x5bf8b0<_0x10a414[_0x37a2d2(0x1bd)][_0x37a2d2(0x207)];_0x5bf8b0++){const _0x418354=_0x10a414[_0x37a2d2(0x1bd)][_0x5bf8b0],_0x456917=_0x418354['name']+'\x20('+(_0x5bf8b0+0x1)+'/'+_0x10a414[_0x37a2d2(0x1bd)][_0x37a2d2(0x207)]+')',_0x4a7723=formatExtractionMessage(_0x456917,0x1,_0x37a2d2(0x1e2)),_0x1a5acd=await _0x4978d7[_0x37a2d2(0x1da)](_0x42eaaa[_0x37a2d2(0x1ee)],{'text':_0x4a7723}),_0x3daddc=await downloadWithRetries(_0x418354,_0x4978d7,_0x42eaaa,_0x1a5acd,_0x456917);_0x3daddc?(await _0x4978d7[_0x37a2d2(0x1da)](_0x42eaaa[_0x37a2d2(0x1ee)],{'delete':_0x1a5acd['key']}),await _0x4978d7[_0x37a2d2(0x1da)](_0x42eaaa['chat'],{'audio':{'url':_0x3daddc[_0x37a2d2(0x21d)]},'fileName':_0x3daddc['title']+_0x37a2d2(0x1cf),'mimetype':'audio/mpeg','contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x3daddc[_0x37a2d2(0x1e5)],'body':_0x37a2d2(0x20a)+_0x3daddc[_0x37a2d2(0x1cb)],'description':_0x37a2d2(0x208)+_0x3daddc[_0x37a2d2(0x1dd)],'thumbnailUrl':_0x3daddc[_0x37a2d2(0x210)]}}}),await new Promise(_0xca4a42=>setTimeout(_0xca4a42,0x7d0))):_0x35cb05['push'](_0x418354);}if(_0x35cb05[_0x37a2d2(0x207)]>0x0){let _0x221350=_0x35cb05['map'](_0x26dbe6=>_0x26dbe6[_0x37a2d2(0x1d6)])[_0x37a2d2(0x1ec)]('\x0a');await _0x4978d7[_0x37a2d2(0x1da)](_0x42eaaa[_0x37a2d2(0x1ee)],{'text':_0x37a2d2(0x21e)+_0x221350});let _0x4e4aa0=[];for(let _0x2ea0cb of _0x35cb05){const _0x269d7f=_0x2ea0cb[_0x37a2d2(0x1d6)]+'\x20(Reintento)',_0xc54d4f=formatExtractionMessage(_0x269d7f,0x1,'‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%'),_0x41b292=await _0x4978d7['sendMessage'](_0x42eaaa[_0x37a2d2(0x1ee)],{'text':_0xc54d4f}),_0x32814a=await downloadWithRetries(_0x2ea0cb,_0x4978d7,_0x42eaaa,_0x41b292,_0x269d7f);_0x32814a?(await _0x4978d7[_0x37a2d2(0x1da)](_0x42eaaa[_0x37a2d2(0x1ee)],{'delete':_0x41b292[_0x37a2d2(0x1d8)]}),await _0x4978d7[_0x37a2d2(0x1da)](_0x42eaaa['chat'],{'audio':{'url':_0x32814a['music']},'fileName':_0x32814a[_0x37a2d2(0x1e5)]+_0x37a2d2(0x1cf),'mimetype':_0x37a2d2(0x20f),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x32814a[_0x37a2d2(0x1e5)],'body':_0x37a2d2(0x20a)+_0x32814a[_0x37a2d2(0x1cb)],'description':_0x37a2d2(0x208)+_0x32814a[_0x37a2d2(0x1dd)],'thumbnailUrl':_0x32814a['thumbnail']}}}),await new Promise(_0x110eb5=>setTimeout(_0x110eb5,0x7d0))):_0x4e4aa0[_0x37a2d2(0x218)](_0x2ea0cb);}if(_0x4e4aa0['length']>0x0){let _0x4e2caa=_0x4e4aa0['map'](_0x3f424c=>_0x3f424c[_0x37a2d2(0x1d6)])[_0x37a2d2(0x1ec)]('\x0a');await _0x4978d7[_0x37a2d2(0x1da)](_0x42eaaa[_0x37a2d2(0x1ee)],{'text':'No\x20se\x20pudieron\x20extraer\x20las\x20siguientes\x20sombras:\x0a'+_0x4e2caa});}}}else{const _0x52c9b3=_0x10a414[_0x37a2d2(0x1bd)][0x0],_0x3c19f8=_0x52c9b3[_0x37a2d2(0x1d6)]+_0x37a2d2(0x1e0),_0x5403cd=formatExtractionMessage(_0x3c19f8,0x1,_0x37a2d2(0x1e2)),_0x1706b3=await _0x4978d7[_0x37a2d2(0x1da)](_0x42eaaa['chat'],{'text':_0x5403cd}),_0x48f322=await downloadWithRetries(_0x52c9b3,_0x4978d7,_0x42eaaa,_0x1706b3,_0x3c19f8);if(!_0x48f322){await _0x4978d7[_0x37a2d2(0x1da)](_0x42eaaa[_0x37a2d2(0x1ee)],{'text':_0x37a2d2(0x21e)+_0x52c9b3[_0x37a2d2(0x1d6)]});const _0xc5e3a5=formatExtractionMessage(_0x3c19f8+_0x37a2d2(0x1f1),0x1,_0x37a2d2(0x1e2)),_0x25b087=await _0x4978d7[_0x37a2d2(0x1da)](_0x42eaaa['chat'],{'text':_0xc5e3a5}),_0x58cec4=await downloadWithRetries(_0x52c9b3,_0x4978d7,_0x42eaaa,_0x25b087,_0x3c19f8+_0x37a2d2(0x1f1));!_0x58cec4?await _0x4978d7[_0x37a2d2(0x1da)](_0x42eaaa[_0x37a2d2(0x1ee)],{'text':_0x37a2d2(0x1fd)+_0x52c9b3[_0x37a2d2(0x1d6)]}):(await _0x4978d7['sendMessage'](_0x42eaaa[_0x37a2d2(0x1ee)],{'delete':_0x25b087[_0x37a2d2(0x1d8)]}),await _0x4978d7[_0x37a2d2(0x1da)](_0x42eaaa[_0x37a2d2(0x1ee)],{'audio':{'url':_0x58cec4[_0x37a2d2(0x21d)]},'fileName':_0x58cec4[_0x37a2d2(0x1e5)]+_0x37a2d2(0x1cf),'mimetype':'audio/mpeg','contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x58cec4[_0x37a2d2(0x1e5)],'body':_0x37a2d2(0x20a)+_0x58cec4[_0x37a2d2(0x1cb)],'description':_0x37a2d2(0x208)+_0x58cec4[_0x37a2d2(0x1dd)],'thumbnailUrl':_0x58cec4[_0x37a2d2(0x210)]}}}),await new Promise(_0x505ac2=>setTimeout(_0x505ac2,0x7d0)));}else await _0x4978d7[_0x37a2d2(0x1da)](_0x42eaaa[_0x37a2d2(0x1ee)],{'delete':_0x1706b3[_0x37a2d2(0x1d8)]}),await _0x4978d7['sendMessage'](_0x42eaaa[_0x37a2d2(0x1ee)],{'audio':{'url':_0x48f322[_0x37a2d2(0x21d)]},'fileName':_0x48f322[_0x37a2d2(0x1e5)]+_0x37a2d2(0x1cf),'mimetype':_0x37a2d2(0x20f),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x48f322['title'],'body':_0x37a2d2(0x20a)+_0x48f322['artist'],'description':_0x37a2d2(0x208)+_0x48f322[_0x37a2d2(0x1dd)],'thumbnailUrl':_0x48f322[_0x37a2d2(0x210)]}}}),await _0x42eaaa[_0x37a2d2(0x1db)]('‚úÖ');}}catch(_0x1b1002){await _0x42eaaa[_0x37a2d2(0x1db)]('‚ùå'),await _0x42eaaa['reply'](_0x37a2d2(0x20b)+(_0x1b1002['message']||_0x1b1002)),console[_0x37a2d2(0x1f6)](_0x1b1002);}};handler['help']=[a0_0xb7cf5d(0x1d9),a0_0xb7cf5d(0x21d)],handler[a0_0xb7cf5d(0x1e3)]=['downloader'],handler[a0_0xb7cf5d(0x1b8)]=[a0_0xb7cf5d(0x1d9),a0_0xb7cf5d(0x21d)],handler[a0_0xb7cf5d(0x1d4)]=![];export default handler;async function spotifyxv(_0x5e03c6){const _0xeffd4c=a0_0xb7cf5d,_0x34784c=await getSpotifyToken();try{let _0x380fe9=await a0_0x577369({'method':_0xeffd4c(0x202),'url':_0xeffd4c(0x222)+encodeURIComponent(_0x5e03c6)+_0xeffd4c(0x211),'headers':{'Authorization':_0xeffd4c(0x20d)+_0x34784c}});const _0x42c680=_0x380fe9[_0xeffd4c(0x1f8)][_0xeffd4c(0x1bd)][_0xeffd4c(0x212)];return _0x42c680[_0xeffd4c(0x1ea)](_0xa90e95=>({'name':_0xa90e95[_0xeffd4c(0x1d6)],'artist':_0xa90e95[_0xeffd4c(0x1f3)][_0xeffd4c(0x1ea)](_0x20e2e2=>_0x20e2e2[_0xeffd4c(0x1d6)])[_0xeffd4c(0x1ec)](',\x20'),'album':_0xa90e95[_0xeffd4c(0x1dd)][_0xeffd4c(0x1d6)],'duration':timestamp(_0xa90e95[_0xeffd4c(0x1c5)]),'url':_0xa90e95[_0xeffd4c(0x1be)][_0xeffd4c(0x1d9)],'thumbnail':_0xa90e95[_0xeffd4c(0x1dd)][_0xeffd4c(0x20c)][0x0]?.[_0xeffd4c(0x1f9)]||''}));}catch(_0x1c7c5d){return console[_0xeffd4c(0x1f6)](_0x1c7c5d),[];}}async function spotifyAlbum(_0xa7b58e){const _0x1c9009=a0_0xb7cf5d;let _0x4b5086;try{const _0xbb9024=_0xa7b58e[_0x1c9009(0x1d5)]('/');_0x4b5086=_0xbb9024[_0xbb9024[_0x1c9009(0x1dc)](_0x1c9009(0x1dd))+0x1][_0x1c9009(0x1d5)]('?')[0x0];}catch(_0x42ce27){throw new Error(_0x1c9009(0x201));}const _0x50b2a5=await getSpotifyToken();let _0x4439df=await a0_0x577369({'method':'get','url':_0x1c9009(0x1b6)+_0x4b5086,'headers':{'Authorization':_0x1c9009(0x20d)+_0x50b2a5}});const _0x251709=_0x4439df[_0x1c9009(0x1f8)],_0x4b8e2=_0x251709[_0x1c9009(0x1bd)][_0x1c9009(0x212)]['map'](_0x2db297=>({'name':_0x2db297[_0x1c9009(0x1d6)],'artist':_0x2db297[_0x1c9009(0x1f3)][_0x1c9009(0x1ea)](_0x4ce6ec=>_0x4ce6ec['name'])[_0x1c9009(0x1ec)](',\x20'),'album':_0x251709[_0x1c9009(0x1d6)],'url':_0x2db297[_0x1c9009(0x1be)][_0x1c9009(0x1d9)],'thumbnail':_0x251709[_0x1c9009(0x20c)][0x0]?.[_0x1c9009(0x1f9)]||''}));return{'album':_0x251709,'tracks':_0x4b8e2};}async function spotifyAlbumSearch(_0x36f569){const _0x43adeb=a0_0xb7cf5d,_0x63ed71=await getSpotifyToken();let _0x150b4e=await a0_0x577369({'method':_0x43adeb(0x202),'url':_0x43adeb(0x222)+encodeURIComponent(_0x36f569)+_0x43adeb(0x219),'headers':{'Authorization':_0x43adeb(0x20d)+_0x63ed71}});const _0x1dd6d1=_0x150b4e[_0x43adeb(0x1f8)][_0x43adeb(0x1e8)]['items'];if(!_0x1dd6d1[_0x43adeb(0x207)])return null;const _0x1c93b8=_0x1dd6d1[0x0]['id'];let _0x4cf8fa=await a0_0x577369({'method':_0x43adeb(0x202),'url':_0x43adeb(0x1b6)+_0x1c93b8,'headers':{'Authorization':'Bearer\x20'+_0x63ed71}});const _0x1711b4=_0x4cf8fa['data'],_0x179707=_0x1711b4[_0x43adeb(0x1bd)]['items'][_0x43adeb(0x1ea)](_0x29a735=>({'name':_0x29a735[_0x43adeb(0x1d6)],'artist':_0x29a735[_0x43adeb(0x1f3)][_0x43adeb(0x1ea)](_0x22a65b=>_0x22a65b[_0x43adeb(0x1d6)])['join'](',\x20'),'album':_0x1711b4[_0x43adeb(0x1d6)],'url':_0x29a735[_0x43adeb(0x1be)][_0x43adeb(0x1d9)],'thumbnail':_0x1711b4[_0x43adeb(0x20c)][0x0]?.[_0x43adeb(0x1f9)]||''}));return{'album':_0x1711b4,'tracks':_0x179707};}async function spotifyPlaylist(_0x1ec3a1){const _0x1db398=a0_0xb7cf5d;let _0x4e16ac;try{const _0x13266c=_0x1ec3a1[_0x1db398(0x1d5)]('/');_0x4e16ac=_0x13266c[_0x13266c[_0x1db398(0x1dc)](_0x1db398(0x1c7))+0x1][_0x1db398(0x1d5)]('?')[0x0];}catch(_0x171114){throw new Error(_0x1db398(0x1fc));}const _0x3715e9=await getSpotifyToken();let _0x3b8627=await a0_0x577369({'method':_0x1db398(0x202),'url':_0x1db398(0x1e9)+_0x4e16ac,'headers':{'Authorization':_0x1db398(0x20d)+_0x3715e9}});const _0x1e3919=_0x3b8627[_0x1db398(0x1f8)],_0x197356=_0x1e3919['tracks'][_0x1db398(0x212)][_0x1db398(0x1ea)](_0x23c4a9=>{const _0x2a2f90=_0x1db398,_0x2d8d83=_0x23c4a9[_0x2a2f90(0x1fa)];return{'name':_0x2d8d83[_0x2a2f90(0x1d6)],'artist':_0x2d8d83[_0x2a2f90(0x1f3)][_0x2a2f90(0x1ea)](_0xf4e309=>_0xf4e309[_0x2a2f90(0x1d6)])['join'](',\x20'),'album':_0x1e3919[_0x2a2f90(0x1d6)],'url':_0x2d8d83[_0x2a2f90(0x1be)][_0x2a2f90(0x1d9)],'thumbnail':_0x2d8d83['album'][_0x2a2f90(0x20c)][0x0]?.[_0x2a2f90(0x1f9)]||''};});return{'album':{'name':_0x1e3919['name']},'tracks':_0x197356};}function a0_0x2675(_0x21a414,_0x256191){const _0x6ae164=a0_0x6ae1();return a0_0x2675=function(_0x2675c6,_0x1cb0f2){_0x2675c6=_0x2675c6-0x1b6;let _0x4165d6=_0x6ae164[_0x2675c6];return _0x4165d6;},a0_0x2675(_0x21a414,_0x256191);}async function spotifyArtist(_0x2ad957){const _0x21fd84=a0_0xb7cf5d;let _0x4200f9;try{const _0x44bf2a=_0x2ad957[_0x21fd84(0x1d5)]('/');_0x4200f9=_0x44bf2a[_0x44bf2a['indexOf'](_0x21fd84(0x1cb))+0x1][_0x21fd84(0x1d5)]('?')[0x0];}catch(_0x547c8e){throw new Error('No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20artista.');}const _0x2c8871=await getSpotifyToken();let _0x3c320e=await a0_0x577369({'method':_0x21fd84(0x202),'url':'https://api.spotify.com/v1/artists/'+_0x4200f9+_0x21fd84(0x1c6),'headers':{'Authorization':_0x21fd84(0x20d)+_0x2c8871}});const _0x3ebd71=_0x3c320e[_0x21fd84(0x1f8)],_0x2f7f53=_0x3ebd71[_0x21fd84(0x1bd)][_0x21fd84(0x1ea)](_0x4f5d29=>({'name':_0x4f5d29[_0x21fd84(0x1d6)],'artist':_0x4f5d29['artists'][_0x21fd84(0x1ea)](_0x2a8802=>_0x2a8802[_0x21fd84(0x1d6)])['join'](',\x20'),'album':_0x21fd84(0x1c1),'url':_0x4f5d29[_0x21fd84(0x1be)][_0x21fd84(0x1d9)],'thumbnail':_0x4f5d29['album'][_0x21fd84(0x20c)][0x0]?.['url']||''}));return{'album':{'name':'Top\x20Tracks'},'tracks':_0x2f7f53};}async function spotifyTrack(_0x26bf04){const _0x493a36=a0_0xb7cf5d;let _0x3cb554;try{const _0x4ea8f9=_0x26bf04[_0x493a36(0x1d5)]('/');_0x3cb554=_0x4ea8f9[_0x4ea8f9[_0x493a36(0x1dc)](_0x493a36(0x1fa))+0x1]['split']('?')[0x0];}catch(_0xd17e0e){throw new Error(_0x493a36(0x216));}const _0x3d1f1d=await getSpotifyToken();let _0x267830=await a0_0x577369({'method':'get','url':_0x493a36(0x1ce)+_0x3cb554,'headers':{'Authorization':_0x493a36(0x20d)+_0x3d1f1d}});const _0x6ffc40=_0x267830[_0x493a36(0x1f8)];return{'name':_0x6ffc40[_0x493a36(0x1d6)],'artist':_0x6ffc40[_0x493a36(0x1f3)][_0x493a36(0x1ea)](_0x5949e1=>_0x5949e1[_0x493a36(0x1d6)])[_0x493a36(0x1ec)](',\x20'),'album':_0x6ffc40[_0x493a36(0x1dd)][_0x493a36(0x1d6)],'url':_0x6ffc40[_0x493a36(0x1be)]['spotify'],'thumbnail':_0x6ffc40['album']['images'][0x0]?.[_0x493a36(0x1f9)]||''};}function timestamp(_0x23a677){const _0x410c60=a0_0xb7cf5d,_0x5a8c0b=Math[_0x410c60(0x1c2)](_0x23a677/0xea60),_0x2af8c0=Math[_0x410c60(0x1c2)](_0x23a677%0xea60/0x3e8);return _0x5a8c0b+':'+(_0x2af8c0<0xa?'0':'')+_0x2af8c0;}