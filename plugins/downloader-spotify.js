const a0_0x24c3d5=a0_0x37c5;(function(_0x4279c7,_0x5e564d){const _0x526f1d=a0_0x37c5,_0x22b9cc=_0x4279c7();while(!![]){try{const _0x3ab2d0=-parseInt(_0x526f1d(0x1db))/0x1+parseInt(_0x526f1d(0x221))/0x2*(-parseInt(_0x526f1d(0x219))/0x3)+-parseInt(_0x526f1d(0x1c2))/0x4*(-parseInt(_0x526f1d(0x218))/0x5)+parseInt(_0x526f1d(0x1f6))/0x6*(parseInt(_0x526f1d(0x1d2))/0x7)+parseInt(_0x526f1d(0x1bf))/0x8+-parseInt(_0x526f1d(0x1c3))/0x9+-parseInt(_0x526f1d(0x20c))/0xa*(-parseInt(_0x526f1d(0x21b))/0xb);if(_0x3ab2d0===_0x5e564d)break;else _0x22b9cc['push'](_0x22b9cc['shift']());}catch(_0x43c545){_0x22b9cc['push'](_0x22b9cc['shift']());}}}(a0_0x21cc,0x6c53e));import a0_0x2fe97e from'axios';import a0_0x531c98 from'node-fetch';let spotifyTokenCache={'token':null,'expiresAt':0x0};async function getSpotifyToken(){const _0x2e75aa=a0_0x37c5,_0x246bc6=Date[_0x2e75aa(0x1ff)]();if(spotifyTokenCache['token']&&spotifyTokenCache[_0x2e75aa(0x1c6)]>_0x246bc6)return spotifyTokenCache['token'];const _0x1acce9=await a0_0x2fe97e({'method':'post','url':_0x2e75aa(0x1e1),'headers':{'Content-Type':_0x2e75aa(0x1e6),'Authorization':_0x2e75aa(0x1d6)+Buffer[_0x2e75aa(0x217)](_0x2e75aa(0x1eb))[_0x2e75aa(0x1c0)]('base64')},'data':'grant_type=client_credentials'}),_0x185750=_0x1acce9[_0x2e75aa(0x20f)]['access_token'];return spotifyTokenCache['token']=_0x185750,spotifyTokenCache[_0x2e75aa(0x1c6)]=_0x246bc6+_0x1acce9[_0x2e75aa(0x20f)][_0x2e75aa(0x1d3)]*0x3e8-0xea60,_0x185750;}async function getBuffer(_0x5bc74e){const _0x20f03c=a0_0x37c5,_0x3403df=await a0_0x531c98(_0x5bc74e);if(!_0x3403df['ok'])throw new Error(_0x20f03c(0x1ea)+_0x3403df['statusText']);return await _0x3403df[_0x20f03c(0x1f4)]();}function formatExtractionMessage(_0x49689d,_0x52b928,_0x22a2e2){const _0xd3f1b1=a0_0x37c5;return _0xd3f1b1(0x223)+_0x49689d+_0xd3f1b1(0x1e4)+_0x52b928+'\x0aüí†\x20Progreso:\x20'+_0x22a2e2+_0xd3f1b1(0x1e3);}async function progressWithSync(_0x30e269,_0x17ccab,_0xe199d1,_0x39aa16,{objective:_0x3b55ba,attempt:_0x5a4569,failedTrack:failedTrack=null}){const _0x37d787=a0_0x37c5;let _0x5b8894=![];const _0x29af77=['‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%',_0x37d787(0x1cf),'‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2020%',_0x37d787(0x20e),'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2040%','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2050%',_0x37d787(0x1ec),'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±\x2070%',_0x37d787(0x1be),'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±\x2090%'];let _0x173cf6=0x0;const _0xb20e91=0x12c,_0x1b6ebd=setInterval(async()=>{const _0x4aa79f=_0x37d787;if(_0x173cf6<_0x29af77[_0x4aa79f(0x209)]){const _0x57b928=formatExtractionMessage(_0x3b55ba,_0x5a4569,_0x29af77[_0x173cf6]);await _0x30e269[_0x4aa79f(0x21e)](_0x17ccab['chat'],{'text':_0x57b928,'edit':_0xe199d1[_0x4aa79f(0x1f7)]}),_0x173cf6++;}},_0xb20e91);try{await _0x39aa16;}catch(_0x8a3ac5){_0x5b8894=!![];}clearInterval(_0x1b6ebd);const _0x316f0a=_0x5b8894&&failedTrack?_0x37d787(0x213)+failedTrack:_0x37d787(0x1da),_0xfd6340=formatExtractionMessage(_0x3b55ba,_0x5a4569,_0x316f0a);await _0x30e269[_0x37d787(0x21e)](_0x17ccab['chat'],{'text':_0xfd6340,'edit':_0xe199d1[_0x37d787(0x1f7)]});}async function downloadWithRetries(_0x30de19,_0x4d764e,_0x16950a,_0x1805e5,_0x4ead4b){const _0x49b125=a0_0x37c5;let _0x1f579a=null;for(let _0xcec6b6=0x1;_0xcec6b6<=0x3;_0xcec6b6++){try{const _0x2990f8=a0_0x531c98(_0x49b125(0x1f1)+_0x30de19[_0x49b125(0x1dc)])[_0x49b125(0x211)](_0x540864=>_0x540864[_0x49b125(0x21a)]());await progressWithSync(_0x4d764e,_0x16950a,_0x1805e5,_0x2990f8,{'objective':_0x4ead4b,'attempt':_0xcec6b6,'failedTrack':_0xcec6b6===0x3?_0x30de19[_0x49b125(0x205)]:null}),_0x1f579a=await _0x2990f8;if(!_0x1f579a||!_0x1f579a[_0x49b125(0x1c5)])throw new Error(_0x49b125(0x1cb)+_0x30de19[_0x49b125(0x205)]);return _0x1f579a;}catch(_0x484b6d){if(_0xcec6b6===0x3)return null;await new Promise(_0x7c90e0=>setTimeout(_0x7c90e0,0x3e8));}}return null;}function a0_0x21cc(){const _0x1dabef=['8372uOqFZo','expires_in','audio/mpeg','thumbnail','Basic\x20','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20la\x20playlist.','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20√°lbum.','map','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20¬°Descargado!','839974dHsqUf','url','‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%','Bearer\x20','images','message','https://accounts.spotify.com/api/token','error','\x0a‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ','\x0aüõ†Ô∏è\x20Intento:\x20','‚ùå\x20*Error:*\x20','application/x-www-form-urlencoded','\x20(1/1)','title','artists','Error\x20al\x20obtener\x20la\x20imagen:\x20','acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±\x2060%','tags','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20el\x20√°lbum.','Artista:\x20','https://api.spotify.com/v1/playlists/','https://apis-starlights-team.koyeb.app/starlight/spotifydl?url=','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20artista.','chat','buffer','push','966IuXazl','key','https://api.spotify.com/v1/artists/','\x20https://open.spotify.com/track/...\x0a‚Ä¢\x20','command','react','&type=track','Top\x20Tracks','split','now','help','\x20https://open.spotify.com/playlist/...\x0a‚Ä¢\x20','&type=album','duration_ms','https://api.spotify.com/v1/albums/','name','external_urls','spotify','indexOf','length','album','‚ùå\x20*Error:*\x20No\x20se\x20encontraron\x20resultados.','8630bdSQcY','group','‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2030%','data','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20para\x20el\x20artista.','then','get','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20Fall√≥\x20la\x20extracci√≥n\x20de:\x20','√Ålbum:\x20','items','https://api.spotify.com/v1/tracks/','from','1675RgLTIL','1313553DpqlRi','json','18865Kpeuzs','join','spotify.com/artist','sendMessage','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20de\x20la\x20playlist.','includes','2YVsJJo','.mp3','‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\x0a‚öîÔ∏è\x20Extracci√≥n\x20en\x20Curso\x0aüåü\x20Objetivo:\x20','\x20Bellyache\x0a‚Ä¢\x20','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±\x2080%','4398936jRynkb','toString','tracks','852NbPVIp','5150592IikJLr','spotify.com/track','music','expiresAt','\x20(Reintento)','artist','\x20https://open.spotify.com/album/...\x0a‚Ä¢\x20','No\x20se\x20pudo\x20extraer\x20la\x20sombra\x20de:\x20','No\x20se\x20pudo\x20obtener\x20el\x20enlace\x20de\x20descarga\x20para\x20','Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a','\x20https://open.spotify.com/artist/...','floor','‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2010%','track','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20track.'];a0_0x21cc=function(){return _0x1dabef;};return a0_0x21cc();}let handler=async(_0x3af5b1,{conn:_0x21716b,text:_0x2efc79,usedPrefix:_0x19c0af,command:_0x203276})=>{const _0x5c7b90=a0_0x37c5;if(!_0x2efc79)throw'‚öîÔ∏è\x20Error:\x20No\x20ingresaste\x20ninguna\x20b√∫squeda\x20o\x20enlace.\x0a\x0aEjemplo:\x0a‚Ä¢\x20'+(_0x19c0af+_0x203276)+_0x5c7b90(0x1bd)+(_0x19c0af+_0x203276)+_0x5c7b90(0x1f9)+(_0x19c0af+_0x203276)+_0x5c7b90(0x1c9)+(_0x19c0af+_0x203276)+_0x5c7b90(0x201)+(_0x19c0af+_0x203276)+_0x5c7b90(0x1cd);try{await _0x3af5b1[_0x5c7b90(0x1fb)]('‚è≥');let _0x55d490=![],_0x341c77=![],_0x2199e4=![],_0x1f559f;if(_0x2efc79[_0x5c7b90(0x220)]('open.spotify.com/album')){_0x55d490=!![],_0x1f559f=await spotifyAlbum(_0x2efc79);if(!_0x1f559f?.['tracks']?.[_0x5c7b90(0x209)])throw _0x5c7b90(0x1ee);}else{if(_0x2efc79['includes']('open.spotify.com/playlist')){_0x341c77=!![],_0x1f559f=await spotifyPlaylist(_0x2efc79);if(!_0x1f559f?.[_0x5c7b90(0x1c1)]?.[_0x5c7b90(0x209)])throw _0x5c7b90(0x1d7);}else{if(_0x2efc79['includes']('open.spotify.com/artist')||_0x2efc79[_0x5c7b90(0x220)](_0x5c7b90(0x21d))){_0x55d490=!![],_0x2199e4=!![],_0x1f559f=await spotifyArtist(_0x2efc79);if(!_0x1f559f?.[_0x5c7b90(0x1c1)]?.[_0x5c7b90(0x209)])throw _0x5c7b90(0x210);}else{if(_0x2efc79[_0x5c7b90(0x220)](_0x5c7b90(0x1c4)))_0x1f559f={'tracks':[await spotifyTrack(_0x2efc79)]};else{if(_0x2efc79['toLowerCase']()[_0x5c7b90(0x220)]('album')){_0x55d490=!![],_0x1f559f=await spotifyAlbumSearch(_0x2efc79);if(!_0x1f559f?.['tracks']?.[_0x5c7b90(0x209)])throw _0x5c7b90(0x1ee);}else{const _0x23d759=await spotifyxv(_0x2efc79);if(!_0x23d759[_0x5c7b90(0x209)]||!_0x23d759[0x0][_0x5c7b90(0x1dc)])throw _0x5c7b90(0x20b);_0x1f559f={'tracks':[_0x23d759[0x0]]};}}}}}if(_0x55d490||_0x341c77){let _0xee8651=[];for(let _0x383f94=0x0;_0x383f94<_0x1f559f['tracks']['length'];_0x383f94++){const _0x30ad33=_0x1f559f[_0x5c7b90(0x1c1)][_0x383f94],_0x414f6a=_0x30ad33['name']+'\x20('+(_0x383f94+0x1)+'/'+_0x1f559f['tracks']['length']+')',_0x809850=formatExtractionMessage(_0x414f6a,0x1,_0x5c7b90(0x1dd)),_0xb6c735=await _0x21716b[_0x5c7b90(0x21e)](_0x3af5b1[_0x5c7b90(0x1f3)],{'text':_0x809850}),_0x5145e0=await downloadWithRetries(_0x30ad33,_0x21716b,_0x3af5b1,_0xb6c735,_0x414f6a);_0x5145e0?(await _0x21716b['sendMessage'](_0x3af5b1[_0x5c7b90(0x1f3)],{'delete':_0xb6c735[_0x5c7b90(0x1f7)]}),await _0x21716b['sendMessage'](_0x3af5b1[_0x5c7b90(0x1f3)],{'audio':{'url':_0x5145e0[_0x5c7b90(0x1c5)]},'fileName':_0x5145e0[_0x5c7b90(0x1e8)]+_0x5c7b90(0x222),'mimetype':_0x5c7b90(0x1d4),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x5145e0[_0x5c7b90(0x1e8)],'body':_0x5c7b90(0x1ef)+_0x5145e0[_0x5c7b90(0x1c8)],'description':_0x5c7b90(0x214)+_0x5145e0[_0x5c7b90(0x20a)],'thumbnailUrl':_0x5145e0[_0x5c7b90(0x1d5)]}}}),await new Promise(_0x148f05=>setTimeout(_0x148f05,0x7d0))):_0xee8651[_0x5c7b90(0x1f5)](_0x30ad33);}if(_0xee8651[_0x5c7b90(0x209)]>0x0){let _0x5e59ba=_0xee8651[_0x5c7b90(0x1d9)](_0x169496=>_0x169496[_0x5c7b90(0x205)])[_0x5c7b90(0x21c)]('\x0a');await _0x21716b[_0x5c7b90(0x21e)](_0x3af5b1[_0x5c7b90(0x1f3)],{'text':'Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a'+_0x5e59ba});let _0x5ee256=[];for(let _0x3c4c14 of _0xee8651){const _0x22df97=_0x3c4c14['name']+_0x5c7b90(0x1c7),_0x306c39=formatExtractionMessage(_0x22df97,0x1,_0x5c7b90(0x1dd)),_0x36dc42=await _0x21716b['sendMessage'](_0x3af5b1[_0x5c7b90(0x1f3)],{'text':_0x306c39}),_0x759437=await downloadWithRetries(_0x3c4c14,_0x21716b,_0x3af5b1,_0x36dc42,_0x22df97);_0x759437?(await _0x21716b[_0x5c7b90(0x21e)](_0x3af5b1[_0x5c7b90(0x1f3)],{'delete':_0x36dc42[_0x5c7b90(0x1f7)]}),await _0x21716b['sendMessage'](_0x3af5b1[_0x5c7b90(0x1f3)],{'audio':{'url':_0x759437[_0x5c7b90(0x1c5)]},'fileName':_0x759437[_0x5c7b90(0x1e8)]+'.mp3','mimetype':_0x5c7b90(0x1d4),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x759437['title'],'body':_0x5c7b90(0x1ef)+_0x759437[_0x5c7b90(0x1c8)],'description':_0x5c7b90(0x214)+_0x759437[_0x5c7b90(0x20a)],'thumbnailUrl':_0x759437['thumbnail']}}}),await new Promise(_0x198dde=>setTimeout(_0x198dde,0x7d0))):_0x5ee256['push'](_0x3c4c14);}if(_0x5ee256['length']>0x0){let _0x4297cd=_0x5ee256[_0x5c7b90(0x1d9)](_0x27c6f8=>_0x27c6f8[_0x5c7b90(0x205)])[_0x5c7b90(0x21c)]('\x0a');await _0x21716b[_0x5c7b90(0x21e)](_0x3af5b1[_0x5c7b90(0x1f3)],{'text':'No\x20se\x20pudieron\x20extraer\x20las\x20siguientes\x20sombras:\x0a'+_0x4297cd});}}}else{const _0x39a83b=_0x1f559f[_0x5c7b90(0x1c1)][0x0],_0x27aa6e=_0x39a83b[_0x5c7b90(0x205)]+_0x5c7b90(0x1e7),_0xf39aa0=formatExtractionMessage(_0x27aa6e,0x1,_0x5c7b90(0x1dd)),_0x1e0e73=await _0x21716b[_0x5c7b90(0x21e)](_0x3af5b1['chat'],{'text':_0xf39aa0}),_0x1b8ab3=await downloadWithRetries(_0x39a83b,_0x21716b,_0x3af5b1,_0x1e0e73,_0x27aa6e);if(!_0x1b8ab3){await _0x21716b[_0x5c7b90(0x21e)](_0x3af5b1[_0x5c7b90(0x1f3)],{'text':_0x5c7b90(0x1cc)+_0x39a83b[_0x5c7b90(0x205)]});const _0x1df40a=formatExtractionMessage(_0x27aa6e+_0x5c7b90(0x1c7),0x1,'‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%'),_0x45536c=await _0x21716b[_0x5c7b90(0x21e)](_0x3af5b1['chat'],{'text':_0x1df40a}),_0x19761a=await downloadWithRetries(_0x39a83b,_0x21716b,_0x3af5b1,_0x45536c,_0x27aa6e+_0x5c7b90(0x1c7));!_0x19761a?await _0x21716b[_0x5c7b90(0x21e)](_0x3af5b1[_0x5c7b90(0x1f3)],{'text':_0x5c7b90(0x1ca)+_0x39a83b[_0x5c7b90(0x205)]}):(await _0x21716b[_0x5c7b90(0x21e)](_0x3af5b1[_0x5c7b90(0x1f3)],{'delete':_0x45536c[_0x5c7b90(0x1f7)]}),await _0x21716b[_0x5c7b90(0x21e)](_0x3af5b1['chat'],{'audio':{'url':_0x19761a[_0x5c7b90(0x1c5)]},'fileName':_0x19761a[_0x5c7b90(0x1e8)]+'.mp3','mimetype':_0x5c7b90(0x1d4),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x19761a[_0x5c7b90(0x1e8)],'body':_0x5c7b90(0x1ef)+_0x19761a[_0x5c7b90(0x1c8)],'description':_0x5c7b90(0x214)+_0x19761a['album'],'thumbnailUrl':_0x19761a[_0x5c7b90(0x1d5)]}}}),await new Promise(_0xda5dbe=>setTimeout(_0xda5dbe,0x7d0)));}else await _0x21716b['sendMessage'](_0x3af5b1['chat'],{'delete':_0x1e0e73[_0x5c7b90(0x1f7)]}),await _0x21716b['sendMessage'](_0x3af5b1['chat'],{'audio':{'url':_0x1b8ab3[_0x5c7b90(0x1c5)]},'fileName':_0x1b8ab3['title']+_0x5c7b90(0x222),'mimetype':_0x5c7b90(0x1d4),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x1b8ab3[_0x5c7b90(0x1e8)],'body':_0x5c7b90(0x1ef)+_0x1b8ab3[_0x5c7b90(0x1c8)],'description':_0x5c7b90(0x214)+_0x1b8ab3[_0x5c7b90(0x20a)],'thumbnailUrl':_0x1b8ab3[_0x5c7b90(0x1d5)]}}}),await _0x3af5b1[_0x5c7b90(0x1fb)]('‚úÖ');}}catch(_0x54f247){await _0x3af5b1['react']('‚ùå'),await _0x3af5b1['reply'](_0x5c7b90(0x1e5)+(_0x54f247[_0x5c7b90(0x1e0)]||_0x54f247)),console[_0x5c7b90(0x1e2)](_0x54f247);}};handler[a0_0x24c3d5(0x200)]=[a0_0x24c3d5(0x207),'music'],handler[a0_0x24c3d5(0x1ed)]=['downloader'],handler[a0_0x24c3d5(0x1fa)]=[a0_0x24c3d5(0x207),a0_0x24c3d5(0x1c5)],handler[a0_0x24c3d5(0x20d)]=![];function a0_0x37c5(_0x18032b,_0x298497){const _0x21cc9c=a0_0x21cc();return a0_0x37c5=function(_0x37c5f1,_0x48f115){_0x37c5f1=_0x37c5f1-0x1bd;let _0x338360=_0x21cc9c[_0x37c5f1];return _0x338360;},a0_0x37c5(_0x18032b,_0x298497);}export default handler;async function spotifyxv(_0x491c7e){const _0x435d6f=a0_0x24c3d5,_0x6d4524=await getSpotifyToken();try{let _0x52ecd3=await a0_0x2fe97e({'method':'get','url':'https://api.spotify.com/v1/search?q='+encodeURIComponent(_0x491c7e)+_0x435d6f(0x1fc),'headers':{'Authorization':_0x435d6f(0x1de)+_0x6d4524}});const _0x30ec46=_0x52ecd3['data'][_0x435d6f(0x1c1)][_0x435d6f(0x215)];return _0x30ec46[_0x435d6f(0x1d9)](_0x4eb542=>({'name':_0x4eb542[_0x435d6f(0x205)],'artist':_0x4eb542[_0x435d6f(0x1e9)][_0x435d6f(0x1d9)](_0x5ab34c=>_0x5ab34c[_0x435d6f(0x205)])[_0x435d6f(0x21c)](',\x20'),'album':_0x4eb542[_0x435d6f(0x20a)][_0x435d6f(0x205)],'duration':timestamp(_0x4eb542[_0x435d6f(0x203)]),'url':_0x4eb542[_0x435d6f(0x206)][_0x435d6f(0x207)],'thumbnail':_0x4eb542[_0x435d6f(0x20a)]['images'][0x0]?.[_0x435d6f(0x1dc)]||''}));}catch(_0x5f4d05){return console[_0x435d6f(0x1e2)](_0x5f4d05),[];}}async function spotifyAlbum(_0x1cce4a){const _0x26bf26=a0_0x24c3d5;let _0x5c1772;try{const _0x415834=_0x1cce4a['split']('/');_0x5c1772=_0x415834[_0x415834[_0x26bf26(0x208)]('album')+0x1][_0x26bf26(0x1fe)]('?')[0x0];}catch(_0x3ac658){throw new Error(_0x26bf26(0x1d8));}const _0x4cad1e=await getSpotifyToken();let _0x593908=await a0_0x2fe97e({'method':_0x26bf26(0x212),'url':_0x26bf26(0x204)+_0x5c1772,'headers':{'Authorization':'Bearer\x20'+_0x4cad1e}});const _0x5cb9cf=_0x593908[_0x26bf26(0x20f)],_0x1391ec=_0x5cb9cf[_0x26bf26(0x1c1)][_0x26bf26(0x215)][_0x26bf26(0x1d9)](_0x5ccf8a=>({'name':_0x5ccf8a[_0x26bf26(0x205)],'artist':_0x5ccf8a['artists']['map'](_0x5ccc06=>_0x5ccc06['name'])[_0x26bf26(0x21c)](',\x20'),'album':_0x5cb9cf[_0x26bf26(0x205)],'url':_0x5ccf8a[_0x26bf26(0x206)]['spotify'],'thumbnail':_0x5cb9cf[_0x26bf26(0x1df)][0x0]?.[_0x26bf26(0x1dc)]||''}));return{'album':_0x5cb9cf,'tracks':_0x1391ec};}async function spotifyAlbumSearch(_0x322d1c){const _0x3a71cb=a0_0x24c3d5,_0x4d5b9c=await getSpotifyToken();let _0x8a45e1=await a0_0x2fe97e({'method':_0x3a71cb(0x212),'url':'https://api.spotify.com/v1/search?q='+encodeURIComponent(_0x322d1c)+_0x3a71cb(0x202),'headers':{'Authorization':_0x3a71cb(0x1de)+_0x4d5b9c}});const _0xd72f37=_0x8a45e1[_0x3a71cb(0x20f)]['albums'][_0x3a71cb(0x215)];if(!_0xd72f37[_0x3a71cb(0x209)])return null;const _0x40a6b9=_0xd72f37[0x0]['id'];let _0x3447a8=await a0_0x2fe97e({'method':_0x3a71cb(0x212),'url':_0x3a71cb(0x204)+_0x40a6b9,'headers':{'Authorization':_0x3a71cb(0x1de)+_0x4d5b9c}});const _0x6f5b21=_0x3447a8['data'],_0x2bdcf6=_0x6f5b21['tracks'][_0x3a71cb(0x215)][_0x3a71cb(0x1d9)](_0x3269bc=>({'name':_0x3269bc[_0x3a71cb(0x205)],'artist':_0x3269bc[_0x3a71cb(0x1e9)][_0x3a71cb(0x1d9)](_0x1debf0=>_0x1debf0[_0x3a71cb(0x205)])[_0x3a71cb(0x21c)](',\x20'),'album':_0x6f5b21[_0x3a71cb(0x205)],'url':_0x3269bc[_0x3a71cb(0x206)][_0x3a71cb(0x207)],'thumbnail':_0x6f5b21[_0x3a71cb(0x1df)][0x0]?.[_0x3a71cb(0x1dc)]||''}));return{'album':_0x6f5b21,'tracks':_0x2bdcf6};}async function spotifyPlaylist(_0xc67d54){const _0x58269e=a0_0x24c3d5;let _0x1c32b0;try{const _0x13693a=_0xc67d54[_0x58269e(0x1fe)]('/');_0x1c32b0=_0x13693a[_0x13693a[_0x58269e(0x208)]('playlist')+0x1][_0x58269e(0x1fe)]('?')[0x0];}catch(_0x42f4ac){throw new Error(_0x58269e(0x21f));}const _0x5c0d44=await getSpotifyToken();let _0x232e0d=await a0_0x2fe97e({'method':_0x58269e(0x212),'url':_0x58269e(0x1f0)+_0x1c32b0,'headers':{'Authorization':_0x58269e(0x1de)+_0x5c0d44}});const _0x1a96a8=_0x232e0d[_0x58269e(0x20f)],_0x5199d6=_0x1a96a8[_0x58269e(0x1c1)][_0x58269e(0x215)][_0x58269e(0x1d9)](_0x4add0e=>{const _0x654b73=_0x58269e,_0x25e7f4=_0x4add0e[_0x654b73(0x1d0)];return{'name':_0x25e7f4['name'],'artist':_0x25e7f4['artists'][_0x654b73(0x1d9)](_0x2d37da=>_0x2d37da[_0x654b73(0x205)])['join'](',\x20'),'album':_0x1a96a8[_0x654b73(0x205)],'url':_0x25e7f4['external_urls'][_0x654b73(0x207)],'thumbnail':_0x25e7f4['album']['images'][0x0]?.[_0x654b73(0x1dc)]||''};});return{'album':{'name':_0x1a96a8[_0x58269e(0x205)]},'tracks':_0x5199d6};}async function spotifyArtist(_0x43d526){const _0x28b2ef=a0_0x24c3d5;let _0x46a078;try{const _0x1e0e4f=_0x43d526[_0x28b2ef(0x1fe)]('/');_0x46a078=_0x1e0e4f[_0x1e0e4f[_0x28b2ef(0x208)](_0x28b2ef(0x1c8))+0x1][_0x28b2ef(0x1fe)]('?')[0x0];}catch(_0x2d317e){throw new Error(_0x28b2ef(0x1f2));}const _0x11e182=await getSpotifyToken();let _0xf953ac=await a0_0x2fe97e({'method':'get','url':_0x28b2ef(0x1f8)+_0x46a078+'/top-tracks?market=US','headers':{'Authorization':_0x28b2ef(0x1de)+_0x11e182}});const _0x433d85=_0xf953ac['data'],_0x358756=_0x433d85[_0x28b2ef(0x1c1)]['map'](_0x5d4a43=>({'name':_0x5d4a43['name'],'artist':_0x5d4a43[_0x28b2ef(0x1e9)][_0x28b2ef(0x1d9)](_0x538661=>_0x538661[_0x28b2ef(0x205)])[_0x28b2ef(0x21c)](',\x20'),'album':'Top\x20Tracks','url':_0x5d4a43['external_urls'][_0x28b2ef(0x207)],'thumbnail':_0x5d4a43[_0x28b2ef(0x20a)]['images'][0x0]?.[_0x28b2ef(0x1dc)]||''}));return{'album':{'name':_0x28b2ef(0x1fd)},'tracks':_0x358756};}async function spotifyTrack(_0x57ba31){const _0x3cf766=a0_0x24c3d5;let _0x516d00;try{const _0x3b3121=_0x57ba31[_0x3cf766(0x1fe)]('/');_0x516d00=_0x3b3121[_0x3b3121[_0x3cf766(0x208)](_0x3cf766(0x1d0))+0x1][_0x3cf766(0x1fe)]('?')[0x0];}catch(_0x5574a2){throw new Error(_0x3cf766(0x1d1));}const _0x405ab7=await getSpotifyToken();let _0x2f657c=await a0_0x2fe97e({'method':'get','url':_0x3cf766(0x216)+_0x516d00,'headers':{'Authorization':_0x3cf766(0x1de)+_0x405ab7}});const _0x5e7224=_0x2f657c[_0x3cf766(0x20f)];return{'name':_0x5e7224[_0x3cf766(0x205)],'artist':_0x5e7224['artists'][_0x3cf766(0x1d9)](_0x461a79=>_0x461a79[_0x3cf766(0x205)])[_0x3cf766(0x21c)](',\x20'),'album':_0x5e7224[_0x3cf766(0x20a)]['name'],'url':_0x5e7224[_0x3cf766(0x206)][_0x3cf766(0x207)],'thumbnail':_0x5e7224[_0x3cf766(0x20a)][_0x3cf766(0x1df)][0x0]?.[_0x3cf766(0x1dc)]||''};}function timestamp(_0x668a12){const _0x1e2da8=a0_0x24c3d5,_0x238b56=Math[_0x1e2da8(0x1ce)](_0x668a12/0xea60),_0x29630b=Math['floor'](_0x668a12%0xea60/0x3e8);return _0x238b56+':'+(_0x29630b<0xa?'0':'')+_0x29630b;}