const a0_0x177ce8=a0_0x314a;(function(_0x2102ea,_0x257254){const _0x35a49d=a0_0x314a,_0x46321e=_0x2102ea();while(!![]){try{const _0x2ccd7a=parseInt(_0x35a49d(0xc8))/0x1+parseInt(_0x35a49d(0x93))/0x2*(-parseInt(_0x35a49d(0xe5))/0x3)+parseInt(_0x35a49d(0xa5))/0x4+-parseInt(_0x35a49d(0xb2))/0x5*(parseInt(_0x35a49d(0x91))/0x6)+-parseInt(_0x35a49d(0x9d))/0x7*(parseInt(_0x35a49d(0xb7))/0x8)+-parseInt(_0x35a49d(0xbc))/0x9*(-parseInt(_0x35a49d(0x89))/0xa)+-parseInt(_0x35a49d(0xc4))/0xb;if(_0x2ccd7a===_0x257254)break;else _0x46321e['push'](_0x46321e['shift']());}catch(_0x3c35e3){_0x46321e['push'](_0x46321e['shift']());}}}(a0_0x46ed,0xbffbf));import a0_0x45fffd from'axios';import a0_0x2277d3 from'node-fetch';let spotifyTokenCache={'token':null,'expiresAt':0x0};async function getSpotifyToken(){const _0x4725f4=a0_0x314a,_0x21e3c8=Date[_0x4725f4(0xab)]();if(spotifyTokenCache[_0x4725f4(0x9e)]&&spotifyTokenCache[_0x4725f4(0xda)]>_0x21e3c8)return spotifyTokenCache[_0x4725f4(0x9e)];const _0x1fda08=await a0_0x45fffd({'method':_0x4725f4(0xa8),'url':_0x4725f4(0xcb),'headers':{'Content-Type':'application/x-www-form-urlencoded','Authorization':_0x4725f4(0x9f)+Buffer[_0x4725f4(0xb9)](_0x4725f4(0x90))['toString']('base64')},'data':'grant_type=client_credentials'}),_0x1b14ea=_0x1fda08[_0x4725f4(0xd9)][_0x4725f4(0xd5)];return spotifyTokenCache[_0x4725f4(0x9e)]=_0x1b14ea,spotifyTokenCache[_0x4725f4(0xda)]=_0x21e3c8+_0x1fda08[_0x4725f4(0xd9)]['expires_in']*0x3e8-0xea60,_0x1b14ea;}async function getBuffer(_0x65e272){const _0xf78817=a0_0x314a,_0x1f0523=await a0_0x2277d3(_0x65e272);if(!_0x1f0523['ok'])throw new Error('Error\x20al\x20obtener\x20la\x20imagen:\x20'+_0x1f0523[_0xf78817(0xc1)]);return await _0x1f0523[_0xf78817(0xc0)]();}function formatExtractionMessage(_0x4e5ce3,_0x253a10,_0x202a6d){const _0x2a5fdd=a0_0x314a;return _0x2a5fdd(0xd7)+_0x4e5ce3+_0x2a5fdd(0x81)+_0x253a10+'\x0aüí†\x20Progreso:\x20'+_0x202a6d+'\x0a‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ';}async function progressWithSync(_0x2a2eb6,_0x29c5c8,_0x542598,_0x29e77b,{objective:_0xd7f609,attempt:_0x47d964,failedTrack:failedTrack=null}){const _0x2955a0=a0_0x314a;let _0x12c131=![];const _0x37db26=[_0x2955a0(0x86),'‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2010%',_0x2955a0(0xa7),_0x2955a0(0xa3),_0x2955a0(0x8f),_0x2955a0(0xcd),_0x2955a0(0xa2),_0x2955a0(0xcf),'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±\x2080%',_0x2955a0(0xb1)];let _0x2e9687=0x0;const _0x426c55=0x12c,_0x494335=setInterval(async()=>{const _0xa08259=_0x2955a0;if(_0x2e9687<_0x37db26[_0xa08259(0xbf)]){const _0x30b432=formatExtractionMessage(_0xd7f609,_0x47d964,_0x37db26[_0x2e9687]);await _0x2a2eb6[_0xa08259(0xad)](_0x29c5c8[_0xa08259(0xaf)],{'text':_0x30b432,'edit':_0x542598[_0xa08259(0xc7)]}),_0x2e9687++;}},_0x426c55);try{await _0x29e77b;}catch(_0x44368e){_0x12c131=!![];}clearInterval(_0x494335);const _0x218077=_0x12c131&&failedTrack?'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20Fall√≥\x20la\x20extracci√≥n\x20de:\x20'+failedTrack:_0x2955a0(0x82),_0x2be8f5=formatExtractionMessage(_0xd7f609,_0x47d964,_0x218077);await _0x2a2eb6[_0x2955a0(0xad)](_0x29c5c8[_0x2955a0(0xaf)],{'text':_0x2be8f5,'edit':_0x542598[_0x2955a0(0xc7)]});}async function downloadWithRetries(_0x1c0d51,_0x697835,_0x153f9b,_0x50c58f,_0x2784e3){const _0x1daf1d=a0_0x314a;let _0x41d2b9=null;for(let _0x572c76=0x1;_0x572c76<=0x3;_0x572c76++){try{const _0x507c52=a0_0x2277d3(_0x1daf1d(0x94)+_0x1c0d51[_0x1daf1d(0x8d)])[_0x1daf1d(0xe2)](_0x54bc3c=>_0x54bc3c[_0x1daf1d(0xca)]());await progressWithSync(_0x697835,_0x153f9b,_0x50c58f,_0x507c52,{'objective':_0x2784e3,'attempt':_0x572c76,'failedTrack':_0x572c76===0x3?_0x1c0d51['name']:null}),_0x41d2b9=await _0x507c52;if(!_0x41d2b9||!_0x41d2b9[_0x1daf1d(0xe3)])throw new Error(_0x1daf1d(0xcc)+_0x1c0d51[_0x1daf1d(0xe7)]);return _0x41d2b9;}catch(_0x4e5c5d){if(_0x572c76===0x3)return null;await new Promise(_0x4f3e26=>setTimeout(_0x4f3e26,0x3e8));}}return null;}let handler=async(_0x162c14,{conn:_0x2df34c,text:_0x3139a2,usedPrefix:_0x2f3e2d,command:_0x3d25af})=>{const _0x287950=a0_0x314a;if(!_0x3139a2)throw _0x287950(0x84)+(_0x2f3e2d+_0x3d25af)+_0x287950(0xe0)+(_0x2f3e2d+_0x3d25af)+_0x287950(0x96)+(_0x2f3e2d+_0x3d25af)+_0x287950(0xe4)+(_0x2f3e2d+_0x3d25af)+_0x287950(0x87)+(_0x2f3e2d+_0x3d25af)+'\x20https://open.spotify.com/artist/...';try{await _0x162c14['react']('‚è≥');let _0x49dce5=![],_0x99cbed=![],_0x5dffa3=![],_0x38ed30;if(_0x3139a2[_0x287950(0xd2)](_0x287950(0xba))){_0x49dce5=!![],_0x38ed30=await spotifyAlbum(_0x3139a2);if(!_0x38ed30?.['tracks']?.[_0x287950(0xbf)])throw _0x287950(0x95);}else{if(_0x3139a2[_0x287950(0xd2)](_0x287950(0xa4))){_0x99cbed=!![],_0x38ed30=await spotifyPlaylist(_0x3139a2);if(!_0x38ed30?.[_0x287950(0xc2)]?.[_0x287950(0xbf)])throw _0x287950(0xde);}else{if(_0x3139a2['includes'](_0x287950(0x7e))||_0x3139a2[_0x287950(0xd2)](_0x287950(0xb8))){_0x49dce5=!![],_0x5dffa3=!![],_0x38ed30=await spotifyArtist(_0x3139a2);if(!_0x38ed30?.[_0x287950(0xc2)]?.[_0x287950(0xbf)])throw _0x287950(0xb5);}else{if(_0x3139a2[_0x287950(0xd2)](_0x287950(0x92)))_0x38ed30={'tracks':[await spotifyTrack(_0x3139a2)]};else{if(_0x3139a2[_0x287950(0xe8)]()[_0x287950(0xd2)]('album')){_0x49dce5=!![],_0x38ed30=await spotifyAlbumSearch(_0x3139a2);if(!_0x38ed30?.[_0x287950(0xc2)]?.[_0x287950(0xbf)])throw'‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20el\x20√°lbum.';}else{const _0x5e5ae3=await spotifyxv(_0x3139a2);if(!_0x5e5ae3[_0x287950(0xbf)]||!_0x5e5ae3[0x0]['url'])throw'‚ùå\x20*Error:*\x20No\x20se\x20encontraron\x20resultados.';_0x38ed30={'tracks':[_0x5e5ae3[0x0]]};}}}}}if(_0x49dce5||_0x99cbed){let _0x1c36df=[];for(let _0x16c6cb=0x0;_0x16c6cb<_0x38ed30[_0x287950(0xc2)][_0x287950(0xbf)];_0x16c6cb++){const _0x1fd9d4=_0x38ed30[_0x287950(0xc2)][_0x16c6cb],_0x131e07=_0x1fd9d4[_0x287950(0xe7)]+'\x20('+(_0x16c6cb+0x1)+'/'+_0x38ed30[_0x287950(0xc2)][_0x287950(0xbf)]+')',_0x1f9b9e=formatExtractionMessage(_0x131e07,0x1,_0x287950(0x86)),_0x34dd8e=await _0x2df34c[_0x287950(0xad)](_0x162c14[_0x287950(0xaf)],{'text':_0x1f9b9e}),_0x435f87=await downloadWithRetries(_0x1fd9d4,_0x2df34c,_0x162c14,_0x34dd8e,_0x131e07);_0x435f87?(await _0x2df34c[_0x287950(0xad)](_0x162c14[_0x287950(0xaf)],{'delete':_0x34dd8e[_0x287950(0xc7)]}),await _0x2df34c[_0x287950(0xad)](_0x162c14['chat'],{'audio':{'url':_0x435f87[_0x287950(0xe3)]},'fileName':_0x435f87[_0x287950(0x83)]+_0x287950(0xe6),'mimetype':_0x287950(0xdb),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x435f87['title'],'body':_0x287950(0xc6)+_0x435f87[_0x287950(0xe1)],'description':_0x287950(0x85)+_0x435f87[_0x287950(0x9c)],'thumbnailUrl':_0x435f87[_0x287950(0xa9)]}}}),await new Promise(_0x6d89c3=>setTimeout(_0x6d89c3,0x7d0))):_0x1c36df[_0x287950(0xa1)](_0x1fd9d4);}if(_0x1c36df[_0x287950(0xbf)]>0x0){let _0x105ef5=_0x1c36df[_0x287950(0xdd)](_0x53743f=>_0x53743f[_0x287950(0xe7)])['join']('\x0a');await _0x2df34c[_0x287950(0xad)](_0x162c14[_0x287950(0xaf)],{'text':_0x287950(0xc5)+_0x105ef5});let _0x14c053=[];for(let _0x1c0090 of _0x1c36df){const _0x181a82=_0x1c0090[_0x287950(0xe7)]+_0x287950(0x99),_0x45db1a=formatExtractionMessage(_0x181a82,0x1,'‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%'),_0x4f78f8=await _0x2df34c['sendMessage'](_0x162c14[_0x287950(0xaf)],{'text':_0x45db1a}),_0x314151=await downloadWithRetries(_0x1c0090,_0x2df34c,_0x162c14,_0x4f78f8,_0x181a82);_0x314151?(await _0x2df34c[_0x287950(0xad)](_0x162c14['chat'],{'delete':_0x4f78f8[_0x287950(0xc7)]}),await _0x2df34c[_0x287950(0xad)](_0x162c14['chat'],{'audio':{'url':_0x314151[_0x287950(0xe3)]},'fileName':_0x314151['title']+_0x287950(0xe6),'mimetype':'audio/mpeg','contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x314151[_0x287950(0x83)],'body':'Artista:\x20'+_0x314151[_0x287950(0xe1)],'description':_0x287950(0x85)+_0x314151[_0x287950(0x9c)],'thumbnailUrl':_0x314151[_0x287950(0xa9)]}}}),await new Promise(_0x55851d=>setTimeout(_0x55851d,0x7d0))):_0x14c053['push'](_0x1c0090);}if(_0x14c053[_0x287950(0xbf)]>0x0){let _0x523573=_0x14c053[_0x287950(0xdd)](_0x4be4ee=>_0x4be4ee[_0x287950(0xe7)])[_0x287950(0xd6)]('\x0a');await _0x2df34c['sendMessage'](_0x162c14[_0x287950(0xaf)],{'text':_0x287950(0xc3)+_0x523573});}}}else{const _0x4467ae=_0x38ed30['tracks'][0x0],_0x291eee=_0x4467ae['name']+_0x287950(0xd8),_0x3cbfb7=formatExtractionMessage(_0x291eee,0x1,_0x287950(0x86)),_0x7b8b6=await _0x2df34c['sendMessage'](_0x162c14[_0x287950(0xaf)],{'text':_0x3cbfb7}),_0x4f9d6a=await downloadWithRetries(_0x4467ae,_0x2df34c,_0x162c14,_0x7b8b6,_0x291eee);if(!_0x4f9d6a){await _0x2df34c['sendMessage'](_0x162c14[_0x287950(0xaf)],{'text':_0x287950(0xc5)+_0x4467ae['name']});const _0x34274b=formatExtractionMessage(_0x291eee+_0x287950(0x99),0x1,_0x287950(0x86)),_0x311741=await _0x2df34c[_0x287950(0xad)](_0x162c14[_0x287950(0xaf)],{'text':_0x34274b}),_0x5bc649=await downloadWithRetries(_0x4467ae,_0x2df34c,_0x162c14,_0x311741,_0x291eee+'\x20(Reintento)');!_0x5bc649?await _0x2df34c[_0x287950(0xad)](_0x162c14[_0x287950(0xaf)],{'text':_0x287950(0xce)+_0x4467ae['name']}):(await _0x2df34c[_0x287950(0xad)](_0x162c14[_0x287950(0xaf)],{'delete':_0x311741['key']}),await _0x2df34c[_0x287950(0xad)](_0x162c14['chat'],{'audio':{'url':_0x5bc649[_0x287950(0xe3)]},'fileName':_0x5bc649[_0x287950(0x83)]+_0x287950(0xe6),'mimetype':'audio/mpeg','contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x5bc649[_0x287950(0x83)],'body':_0x287950(0xc6)+_0x5bc649[_0x287950(0xe1)],'description':'√Ålbum:\x20'+_0x5bc649[_0x287950(0x9c)],'thumbnailUrl':_0x5bc649[_0x287950(0xa9)]}}}),await new Promise(_0x41083f=>setTimeout(_0x41083f,0x7d0)));}else await _0x2df34c['sendMessage'](_0x162c14[_0x287950(0xaf)],{'delete':_0x7b8b6[_0x287950(0xc7)]}),await _0x2df34c[_0x287950(0xad)](_0x162c14[_0x287950(0xaf)],{'audio':{'url':_0x4f9d6a[_0x287950(0xe3)]},'fileName':_0x4f9d6a[_0x287950(0x83)]+'.mp3','mimetype':'audio/mpeg','contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x4f9d6a[_0x287950(0x83)],'body':_0x287950(0xc6)+_0x4f9d6a['artist'],'description':_0x287950(0x85)+_0x4f9d6a['album'],'thumbnailUrl':_0x4f9d6a[_0x287950(0xa9)]}}}),await _0x162c14[_0x287950(0xd3)]('‚úÖ');}}catch(_0x2bbed2){await _0x162c14['react']('‚ùå'),await _0x162c14[_0x287950(0xd4)](_0x287950(0x9a)+(_0x2bbed2[_0x287950(0xd1)]||_0x2bbed2)),console[_0x287950(0x7f)](_0x2bbed2);}};handler[a0_0x177ce8(0xdc)]=[a0_0x177ce8(0x7d),a0_0x177ce8(0xe3)],handler['tags']=[a0_0x177ce8(0x9b)],handler[a0_0x177ce8(0x7c)]=[a0_0x177ce8(0x7d),a0_0x177ce8(0xe3)],handler[a0_0x177ce8(0x80)]=![];export default handler;async function spotifyxv(_0x875740){const _0x54329a=a0_0x177ce8,_0x10077e=await getSpotifyToken();try{let _0x34f957=await a0_0x45fffd({'method':_0x54329a(0xb0),'url':'https://api.spotify.com/v1/search?q='+encodeURIComponent(_0x875740)+_0x54329a(0xaa),'headers':{'Authorization':_0x54329a(0xbe)+_0x10077e}});const _0x3a17ff=_0x34f957['data'][_0x54329a(0xc2)][_0x54329a(0xb6)];return _0x3a17ff['map'](_0x4e13bc=>({'name':_0x4e13bc['name'],'artist':_0x4e13bc[_0x54329a(0xac)]['map'](_0x1dcb90=>_0x1dcb90[_0x54329a(0xe7)])[_0x54329a(0xd6)](',\x20'),'album':_0x4e13bc[_0x54329a(0x9c)][_0x54329a(0xe7)],'duration':timestamp(_0x4e13bc[_0x54329a(0xbd)]),'url':_0x4e13bc[_0x54329a(0xae)]['spotify'],'thumbnail':_0x4e13bc[_0x54329a(0x9c)]['images'][0x0]?.[_0x54329a(0x8d)]||''}));}catch(_0x5ec8b3){return console['error'](_0x5ec8b3),[];}}function a0_0x46ed(){const _0x4eb970=['duration_ms','Bearer\x20','length','buffer','statusText','tracks','No\x20se\x20pudieron\x20extraer\x20las\x20siguientes\x20sombras:\x0a','9528178gXYEly','Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a','Artista:\x20','key','1297327jlZZUZ','albums','json','https://accounts.spotify.com/api/token','No\x20se\x20pudo\x20obtener\x20el\x20enlace\x20de\x20descarga\x20para\x20','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2050%','No\x20se\x20pudo\x20extraer\x20la\x20sombra\x20de:\x20','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±\x2070%','floor','message','includes','react','reply','access_token','join','‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\x0a‚öîÔ∏è\x20Extracci√≥n\x20en\x20Curso\x0aüåü\x20Objetivo:\x20','\x20(1/1)','data','expiresAt','audio/mpeg','help','map','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20la\x20playlist.','https://api.spotify.com/v1/tracks/','\x20Bellyache\x0a‚Ä¢\x20','artist','then','music','\x20https://open.spotify.com/album/...\x0a‚Ä¢\x20','592719PBxmvL','.mp3','name','toLowerCase','Top\x20Tracks','command','spotify','open.spotify.com/artist','error','group','\x0aüõ†Ô∏è\x20Intento:\x20','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20¬°Descargado!','title','‚öîÔ∏è\x20Error:\x20No\x20ingresaste\x20ninguna\x20b√∫squeda\x20o\x20enlace.\x0a\x0aEjemplo:\x0a‚Ä¢\x20','√Ålbum:\x20','‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%','\x20https://open.spotify.com/playlist/...\x0a‚Ä¢\x20','track','50miZSbp','https://api.spotify.com/v1/playlists/','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20artista.','https://api.spotify.com/v1/search?q=','url','https://api.spotify.com/v1/artists/','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2040%','acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009','2623002qVKZrj','spotify.com/track','6pMcyRI','https://apis-starlights-team.koyeb.app/starlight/spotifydl?url=','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20el\x20√°lbum.','\x20https://open.spotify.com/track/...\x0a‚Ä¢\x20','playlist','https://api.spotify.com/v1/albums/','\x20(Reintento)','‚ùå\x20*Error:*\x20','downloader','album','21oJZiMk','token','Basic\x20','indexOf','push','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±\x2060%','‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2030%','open.spotify.com/playlist','1834192BUSDAN','split','‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2020%','post','thumbnail','&type=track','now','artists','sendMessage','external_urls','chat','get','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±\x2090%','5OBjRkC','images','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20track.','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20para\x20el\x20artista.','items','998344yZlbSr','spotify.com/artist','from','open.spotify.com/album','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20de\x20la\x20playlist.','2341719CwRowd'];a0_0x46ed=function(){return _0x4eb970;};return a0_0x46ed();}function a0_0x314a(_0x293237,_0x511440){const _0x46ed35=a0_0x46ed();return a0_0x314a=function(_0x314a3b,_0x54a2a5){_0x314a3b=_0x314a3b-0x7c;let _0x496700=_0x46ed35[_0x314a3b];return _0x496700;},a0_0x314a(_0x293237,_0x511440);}async function spotifyAlbum(_0x3c01c5){const _0x4bd1c0=a0_0x177ce8;let _0x169f6e;try{const _0x55f331=_0x3c01c5[_0x4bd1c0(0xa6)]('/');_0x169f6e=_0x55f331[_0x55f331[_0x4bd1c0(0xa0)]('album')+0x1]['split']('?')[0x0];}catch(_0x4613b0){throw new Error('No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20√°lbum.');}const _0x4a793c=await getSpotifyToken();let _0x162b11=await a0_0x45fffd({'method':_0x4bd1c0(0xb0),'url':_0x4bd1c0(0x98)+_0x169f6e,'headers':{'Authorization':_0x4bd1c0(0xbe)+_0x4a793c}});const _0x3f2a1a=_0x162b11[_0x4bd1c0(0xd9)],_0x1c8bdb=_0x3f2a1a['tracks'][_0x4bd1c0(0xb6)][_0x4bd1c0(0xdd)](_0x5d95e5=>({'name':_0x5d95e5[_0x4bd1c0(0xe7)],'artist':_0x5d95e5[_0x4bd1c0(0xac)][_0x4bd1c0(0xdd)](_0x360f1b=>_0x360f1b[_0x4bd1c0(0xe7)])[_0x4bd1c0(0xd6)](',\x20'),'album':_0x3f2a1a[_0x4bd1c0(0xe7)],'url':_0x5d95e5[_0x4bd1c0(0xae)][_0x4bd1c0(0x7d)],'thumbnail':_0x3f2a1a[_0x4bd1c0(0xb3)][0x0]?.[_0x4bd1c0(0x8d)]||''}));return{'album':_0x3f2a1a,'tracks':_0x1c8bdb};}async function spotifyAlbumSearch(_0x57f20c){const _0x4fdc15=a0_0x177ce8,_0x27c8f2=await getSpotifyToken();let _0x17a308=await a0_0x45fffd({'method':_0x4fdc15(0xb0),'url':_0x4fdc15(0x8c)+encodeURIComponent(_0x57f20c)+'&type=album','headers':{'Authorization':'Bearer\x20'+_0x27c8f2}});const _0x1699ca=_0x17a308[_0x4fdc15(0xd9)][_0x4fdc15(0xc9)][_0x4fdc15(0xb6)];if(!_0x1699ca['length'])return null;const _0x368407=_0x1699ca[0x0]['id'];let _0x473938=await a0_0x45fffd({'method':_0x4fdc15(0xb0),'url':_0x4fdc15(0x98)+_0x368407,'headers':{'Authorization':_0x4fdc15(0xbe)+_0x27c8f2}});const _0x3000d9=_0x473938['data'],_0x56fffa=_0x3000d9['tracks'][_0x4fdc15(0xb6)]['map'](_0x1b1f3f=>({'name':_0x1b1f3f['name'],'artist':_0x1b1f3f['artists'][_0x4fdc15(0xdd)](_0x460f4c=>_0x460f4c['name'])[_0x4fdc15(0xd6)](',\x20'),'album':_0x3000d9[_0x4fdc15(0xe7)],'url':_0x1b1f3f[_0x4fdc15(0xae)][_0x4fdc15(0x7d)],'thumbnail':_0x3000d9[_0x4fdc15(0xb3)][0x0]?.[_0x4fdc15(0x8d)]||''}));return{'album':_0x3000d9,'tracks':_0x56fffa};}async function spotifyPlaylist(_0x10db95){const _0x1a10f3=a0_0x177ce8;let _0x5075b6;try{const _0x4b4211=_0x10db95[_0x1a10f3(0xa6)]('/');_0x5075b6=_0x4b4211[_0x4b4211[_0x1a10f3(0xa0)](_0x1a10f3(0x97))+0x1][_0x1a10f3(0xa6)]('?')[0x0];}catch(_0x160e7d){throw new Error(_0x1a10f3(0xbb));}const _0x47e25b=await getSpotifyToken();let _0x25cae0=await a0_0x45fffd({'method':_0x1a10f3(0xb0),'url':_0x1a10f3(0x8a)+_0x5075b6,'headers':{'Authorization':_0x1a10f3(0xbe)+_0x47e25b}});const _0x848d5a=_0x25cae0[_0x1a10f3(0xd9)],_0x23bad8=_0x848d5a[_0x1a10f3(0xc2)][_0x1a10f3(0xb6)]['map'](_0xc7d2b6=>{const _0x29f1bf=_0x1a10f3,_0x4b3e50=_0xc7d2b6[_0x29f1bf(0x88)];return{'name':_0x4b3e50[_0x29f1bf(0xe7)],'artist':_0x4b3e50[_0x29f1bf(0xac)][_0x29f1bf(0xdd)](_0x31e96c=>_0x31e96c['name'])[_0x29f1bf(0xd6)](',\x20'),'album':_0x848d5a[_0x29f1bf(0xe7)],'url':_0x4b3e50[_0x29f1bf(0xae)]['spotify'],'thumbnail':_0x4b3e50[_0x29f1bf(0x9c)]['images'][0x0]?.[_0x29f1bf(0x8d)]||''};});return{'album':{'name':_0x848d5a['name']},'tracks':_0x23bad8};}async function spotifyArtist(_0x5ed13e){const _0x4a71aa=a0_0x177ce8;let _0x3b6184;try{const _0x1f5f58=_0x5ed13e[_0x4a71aa(0xa6)]('/');_0x3b6184=_0x1f5f58[_0x1f5f58['indexOf'](_0x4a71aa(0xe1))+0x1][_0x4a71aa(0xa6)]('?')[0x0];}catch(_0x4da6ee){throw new Error(_0x4a71aa(0x8b));}const _0x3f7e21=await getSpotifyToken();let _0x4c50f1=await a0_0x45fffd({'method':_0x4a71aa(0xb0),'url':_0x4a71aa(0x8e)+_0x3b6184+'/top-tracks?market=US','headers':{'Authorization':_0x4a71aa(0xbe)+_0x3f7e21}});const _0x25a730=_0x4c50f1[_0x4a71aa(0xd9)],_0x3adfe8=_0x25a730[_0x4a71aa(0xc2)]['map'](_0xc01a7b=>({'name':_0xc01a7b['name'],'artist':_0xc01a7b[_0x4a71aa(0xac)]['map'](_0x3fbf0e=>_0x3fbf0e['name'])[_0x4a71aa(0xd6)](',\x20'),'album':_0x4a71aa(0xe9),'url':_0xc01a7b[_0x4a71aa(0xae)][_0x4a71aa(0x7d)],'thumbnail':_0xc01a7b[_0x4a71aa(0x9c)][_0x4a71aa(0xb3)][0x0]?.[_0x4a71aa(0x8d)]||''}));return{'album':{'name':'Top\x20Tracks'},'tracks':_0x3adfe8};}async function spotifyTrack(_0x241030){const _0x33720e=a0_0x177ce8;let _0x8b5f0e;try{const _0x10856b=_0x241030[_0x33720e(0xa6)]('/');_0x8b5f0e=_0x10856b[_0x10856b[_0x33720e(0xa0)](_0x33720e(0x88))+0x1][_0x33720e(0xa6)]('?')[0x0];}catch(_0x50752a){throw new Error(_0x33720e(0xb4));}const _0x18abc3=await getSpotifyToken();let _0x5dcd19=await a0_0x45fffd({'method':'get','url':_0x33720e(0xdf)+_0x8b5f0e,'headers':{'Authorization':_0x33720e(0xbe)+_0x18abc3}});const _0x57c680=_0x5dcd19[_0x33720e(0xd9)];return{'name':_0x57c680['name'],'artist':_0x57c680['artists']['map'](_0xeea9af=>_0xeea9af[_0x33720e(0xe7)])[_0x33720e(0xd6)](',\x20'),'album':_0x57c680[_0x33720e(0x9c)][_0x33720e(0xe7)],'url':_0x57c680[_0x33720e(0xae)][_0x33720e(0x7d)],'thumbnail':_0x57c680[_0x33720e(0x9c)]['images'][0x0]?.[_0x33720e(0x8d)]||''};}function timestamp(_0x2f96b6){const _0x54daa7=a0_0x177ce8,_0x27244f=Math['floor'](_0x2f96b6/0xea60),_0x38c611=Math[_0x54daa7(0xd0)](_0x2f96b6%0xea60/0x3e8);return _0x27244f+':'+(_0x38c611<0xa?'0':'')+_0x38c611;}