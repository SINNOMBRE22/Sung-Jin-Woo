const a0_0x11f9fd=a0_0x409e;(function(_0x4144b2,_0x13aeea){const _0x4a5001=a0_0x409e,_0x22da3c=_0x4144b2();while(!![]){try{const _0x3ae77b=parseInt(_0x4a5001(0x14a))/0x1+-parseInt(_0x4a5001(0x185))/0x2+-parseInt(_0x4a5001(0x14b))/0x3+parseInt(_0x4a5001(0x187))/0x4+-parseInt(_0x4a5001(0x180))/0x5+parseInt(_0x4a5001(0x15f))/0x6*(-parseInt(_0x4a5001(0x16f))/0x7)+parseInt(_0x4a5001(0x143))/0x8*(parseInt(_0x4a5001(0x146))/0x9);if(_0x3ae77b===_0x13aeea)break;else _0x22da3c['push'](_0x22da3c['shift']());}catch(_0x399d77){_0x22da3c['push'](_0x22da3c['shift']());}}}(a0_0x3817,0x86b57));import a0_0x1fb38d from'axios';import a0_0x403b46 from'node-fetch';let spotifyTokenCache={'token':null,'expiresAt':0x0};async function getSpotifyToken(){const _0x22e0dc=a0_0x409e,_0x225ac6=Date[_0x22e0dc(0x177)]();if(spotifyTokenCache['token']&&spotifyTokenCache[_0x22e0dc(0x1a2)]>_0x225ac6)return spotifyTokenCache[_0x22e0dc(0x14c)];const _0x353f5b=await a0_0x1fb38d({'method':_0x22e0dc(0x15a),'url':_0x22e0dc(0x189),'headers':{'Content-Type':_0x22e0dc(0x173),'Authorization':_0x22e0dc(0x198)+Buffer[_0x22e0dc(0x14e)](_0x22e0dc(0x13f))['toString']('base64')},'data':'grant_type=client_credentials'}),_0x1356af=_0x353f5b[_0x22e0dc(0x17c)]['access_token'];return spotifyTokenCache[_0x22e0dc(0x14c)]=_0x1356af,spotifyTokenCache[_0x22e0dc(0x1a2)]=_0x225ac6+_0x353f5b['data'][_0x22e0dc(0x13e)]*0x3e8-0xea60,_0x1356af;}async function getBuffer(_0x1d9899){const _0xa4e0a4=a0_0x409e,_0x1e6134=await a0_0x403b46(_0x1d9899);if(!_0x1e6134['ok'])throw new Error('Error\x20al\x20obtener\x20la\x20imagen:\x20'+_0x1e6134['statusText']);return await _0x1e6134[_0xa4e0a4(0x18b)]();}function formatExtractionMessage(_0x203ead,_0x43d0db,_0x44fbf9){const _0x127606=a0_0x409e;return _0x127606(0x161)+_0x203ead+_0x127606(0x153)+_0x43d0db+'\x0aüí†\x20Progreso:\x20'+_0x44fbf9+_0x127606(0x196);}async function progressWithSync(_0x16a194,_0x571a75,_0x224c42,_0x3e55ec,{objective:_0x5442b1,attempt:_0x549769,failedTrack:failedTrack=null}){const _0x3e9301=a0_0x409e;let _0x57e159=![];const _0x11da8f=[_0x3e9301(0x155),'‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2010%',_0x3e9301(0x154),_0x3e9301(0x181),_0x3e9301(0x142),'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2050%',_0x3e9301(0x166),_0x3e9301(0x15d),_0x3e9301(0x156),_0x3e9301(0x151)];let _0x1e4ebf=0x0;const _0x150ebf=0x12c,_0x60bc6c=setInterval(async()=>{const _0x353e5d=_0x3e9301;if(_0x1e4ebf<_0x11da8f['length']){const _0x1484b6=formatExtractionMessage(_0x5442b1,_0x549769,_0x11da8f[_0x1e4ebf]);await _0x16a194['sendMessage'](_0x571a75[_0x353e5d(0x16a)],{'text':_0x1484b6,'edit':_0x224c42[_0x353e5d(0x16b)]}),_0x1e4ebf++;}},_0x150ebf);try{await _0x3e55ec;}catch(_0x12509e){_0x57e159=!![];}clearInterval(_0x60bc6c);const _0xe9bdec=_0x57e159&&failedTrack?_0x3e9301(0x19b)+failedTrack:'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20¬°Descargado!',_0x382d06=formatExtractionMessage(_0x5442b1,_0x549769,_0xe9bdec);await _0x16a194[_0x3e9301(0x18e)](_0x571a75['chat'],{'text':_0x382d06,'edit':_0x224c42['key']});}async function downloadWithRetries(_0x37669c,_0x31495a,_0x31190d,_0x59d475,_0x1bd8e2){const _0x472b1d=a0_0x409e;let _0x3d9089=null;for(let _0x272875=0x1;_0x272875<=0x3;_0x272875++){try{const _0x2b2554=a0_0x403b46(_0x472b1d(0x197)+_0x37669c[_0x472b1d(0x16e)])[_0x472b1d(0x157)](_0x2eb370=>_0x2eb370['json']());await progressWithSync(_0x31495a,_0x31190d,_0x59d475,_0x2b2554,{'objective':_0x1bd8e2,'attempt':_0x272875,'failedTrack':_0x272875===0x3?_0x37669c[_0x472b1d(0x188)]:null}),_0x3d9089=await _0x2b2554;if(!_0x3d9089||!_0x3d9089[_0x472b1d(0x171)])throw new Error(_0x472b1d(0x15e)+_0x37669c[_0x472b1d(0x188)]);return _0x3d9089;}catch(_0x435474){if(_0x272875===0x3)return null;await new Promise(_0x2a1144=>setTimeout(_0x2a1144,0x3e8));}}return null;}function a0_0x3817(){const _0x1ea569=['group','\x0a‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ','https://apis-starlights-team.koyeb.app/starlight/spotifydl?url=','Basic\x20','https://api.spotify.com/v1/playlists/','.mp3','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20Fall√≥\x20la\x20extracci√≥n\x20de:\x20','external_urls','map','push','title','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20√°lbum.','https://api.spotify.com/v1/artists/','expiresAt','expires_in','acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20artista.','join','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2040%','5736128NVGNil','message','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20el\x20√°lbum.','18vQNXAY','command','artists','open.spotify.com/artist','599915BMVfyo','1998069TLEOFH','token','help','from','Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a','indexOf','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±\x2090%','albums','\x0aüõ†Ô∏è\x20Intento:\x20','‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2020%','‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±\x2080%','then','thumbnail','spotify.com/track','post','/top-tracks?market=US','\x20Bellyache\x0a‚Ä¢\x20','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±\x2070%','No\x20se\x20pudo\x20obtener\x20el\x20enlace\x20de\x20descarga\x20para\x20','159978SZGopA','length','‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\x0a‚öîÔ∏è\x20Extracci√≥n\x20en\x20Curso\x0aüåü\x20Objetivo:\x20','react','No\x20se\x20pudieron\x20extraer\x20las\x20siguientes\x20sombras:\x0a','album','toLowerCase','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±\x2060%','get','error','images','chat','key','open.spotify.com/album','‚ùå\x20*Error:*\x20','url','266YtSuRL','√Ålbum:\x20','music','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20la\x20playlist.','application/x-www-form-urlencoded','\x20(1/1)','https://api.spotify.com/v1/search?q=','Artista:\x20','now','\x20https://open.spotify.com/artist/...','spotify.com/artist','&type=album','split','data','\x20https://open.spotify.com/album/...\x0a‚Ä¢\x20','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20de\x20la\x20playlist.','Bearer\x20','529920nSmTwT','‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2030%','tracks','spotify','items','1366152sRxzpF','audio/mpeg','3944388tEYUjH','name','https://accounts.spotify.com/api/token','includes','buffer','https://api.spotify.com/v1/tracks/','\x20(Reintento)','sendMessage','Top\x20Tracks','open.spotify.com/playlist','artist','playlist','\x20https://open.spotify.com/track/...\x0a‚Ä¢\x20','floor'];a0_0x3817=function(){return _0x1ea569;};return a0_0x3817();}let handler=async(_0x3e2444,{conn:_0x24186b,text:_0x1aabb9,usedPrefix:_0x4884cf,command:_0x405c66})=>{const _0x51b71c=a0_0x409e;if(!_0x1aabb9)throw'‚öîÔ∏è\x20Error:\x20No\x20ingresaste\x20ninguna\x20b√∫squeda\x20o\x20enlace.\x0a\x0aEjemplo:\x0a‚Ä¢\x20'+(_0x4884cf+_0x405c66)+_0x51b71c(0x15c)+(_0x4884cf+_0x405c66)+_0x51b71c(0x193)+(_0x4884cf+_0x405c66)+_0x51b71c(0x17d)+(_0x4884cf+_0x405c66)+'\x20https://open.spotify.com/playlist/...\x0a‚Ä¢\x20'+(_0x4884cf+_0x405c66)+_0x51b71c(0x178);try{await _0x3e2444[_0x51b71c(0x162)]('‚è≥');let _0x239d9f=![],_0x3b84aa=![],_0x2c0c4b=![],_0x414df8;if(_0x1aabb9[_0x51b71c(0x18a)](_0x51b71c(0x16c))){_0x239d9f=!![],_0x414df8=await spotifyAlbum(_0x1aabb9);if(!_0x414df8?.['tracks']?.[_0x51b71c(0x160)])throw _0x51b71c(0x145);}else{if(_0x1aabb9[_0x51b71c(0x18a)](_0x51b71c(0x190))){_0x3b84aa=!![],_0x414df8=await spotifyPlaylist(_0x1aabb9);if(!_0x414df8?.[_0x51b71c(0x182)]?.[_0x51b71c(0x160)])throw _0x51b71c(0x172);}else{if(_0x1aabb9[_0x51b71c(0x18a)](_0x51b71c(0x149))||_0x1aabb9[_0x51b71c(0x18a)](_0x51b71c(0x179))){_0x239d9f=!![],_0x2c0c4b=!![],_0x414df8=await spotifyArtist(_0x1aabb9);if(!_0x414df8?.['tracks']?.['length'])throw'‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20para\x20el\x20artista.';}else{if(_0x1aabb9['includes'](_0x51b71c(0x159)))_0x414df8={'tracks':[await spotifyTrack(_0x1aabb9)]};else{if(_0x1aabb9[_0x51b71c(0x165)]()[_0x51b71c(0x18a)](_0x51b71c(0x164))){_0x239d9f=!![],_0x414df8=await spotifyAlbumSearch(_0x1aabb9);if(!_0x414df8?.[_0x51b71c(0x182)]?.[_0x51b71c(0x160)])throw'‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20el\x20√°lbum.';}else{const _0x238fd8=await spotifyxv(_0x1aabb9);if(!_0x238fd8[_0x51b71c(0x160)]||!_0x238fd8[0x0][_0x51b71c(0x16e)])throw'‚ùå\x20*Error:*\x20No\x20se\x20encontraron\x20resultados.';_0x414df8={'tracks':[_0x238fd8[0x0]]};}}}}}if(_0x239d9f||_0x3b84aa){let _0xa5c987=[];for(let _0x2f8c07=0x0;_0x2f8c07<_0x414df8['tracks'][_0x51b71c(0x160)];_0x2f8c07++){const _0x44a0a1=_0x414df8['tracks'][_0x2f8c07],_0x299a88=_0x44a0a1[_0x51b71c(0x188)]+'\x20('+(_0x2f8c07+0x1)+'/'+_0x414df8[_0x51b71c(0x182)]['length']+')',_0x9dbbf1=formatExtractionMessage(_0x299a88,0x1,'‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%'),_0x24aa5f=await _0x24186b[_0x51b71c(0x18e)](_0x3e2444[_0x51b71c(0x16a)],{'text':_0x9dbbf1}),_0x198a45=await downloadWithRetries(_0x44a0a1,_0x24186b,_0x3e2444,_0x24aa5f,_0x299a88);_0x198a45?(await _0x24186b['sendMessage'](_0x3e2444['chat'],{'delete':_0x24aa5f[_0x51b71c(0x16b)]}),await _0x24186b[_0x51b71c(0x18e)](_0x3e2444[_0x51b71c(0x16a)],{'audio':{'url':_0x198a45[_0x51b71c(0x171)]},'fileName':_0x198a45['title']+_0x51b71c(0x19a),'mimetype':_0x51b71c(0x186),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x198a45[_0x51b71c(0x19f)],'body':'Artista:\x20'+_0x198a45['artist'],'description':_0x51b71c(0x170)+_0x198a45['album'],'thumbnailUrl':_0x198a45[_0x51b71c(0x158)]}}}),await new Promise(_0x2bcbd8=>setTimeout(_0x2bcbd8,0x7d0))):_0xa5c987[_0x51b71c(0x19e)](_0x44a0a1);}if(_0xa5c987[_0x51b71c(0x160)]>0x0){let _0x1abddb=_0xa5c987[_0x51b71c(0x19d)](_0xc6b15a=>_0xc6b15a[_0x51b71c(0x188)])[_0x51b71c(0x141)]('\x0a');await _0x24186b[_0x51b71c(0x18e)](_0x3e2444['chat'],{'text':_0x51b71c(0x14f)+_0x1abddb});let _0x4a0b7a=[];for(let _0x6ac0fa of _0xa5c987){const _0x11830a=_0x6ac0fa['name']+_0x51b71c(0x18d),_0x472acd=formatExtractionMessage(_0x11830a,0x1,_0x51b71c(0x155)),_0x3e24b5=await _0x24186b[_0x51b71c(0x18e)](_0x3e2444[_0x51b71c(0x16a)],{'text':_0x472acd}),_0x44dac5=await downloadWithRetries(_0x6ac0fa,_0x24186b,_0x3e2444,_0x3e24b5,_0x11830a);_0x44dac5?(await _0x24186b[_0x51b71c(0x18e)](_0x3e2444[_0x51b71c(0x16a)],{'delete':_0x3e24b5[_0x51b71c(0x16b)]}),await _0x24186b[_0x51b71c(0x18e)](_0x3e2444['chat'],{'audio':{'url':_0x44dac5[_0x51b71c(0x171)]},'fileName':_0x44dac5['title']+_0x51b71c(0x19a),'mimetype':_0x51b71c(0x186),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x44dac5['title'],'body':_0x51b71c(0x176)+_0x44dac5['artist'],'description':'√Ålbum:\x20'+_0x44dac5[_0x51b71c(0x164)],'thumbnailUrl':_0x44dac5['thumbnail']}}}),await new Promise(_0x3d416b=>setTimeout(_0x3d416b,0x7d0))):_0x4a0b7a[_0x51b71c(0x19e)](_0x6ac0fa);}if(_0x4a0b7a[_0x51b71c(0x160)]>0x0){let _0x1ca2e2=_0x4a0b7a[_0x51b71c(0x19d)](_0x13510c=>_0x13510c[_0x51b71c(0x188)])['join']('\x0a');await _0x24186b['sendMessage'](_0x3e2444['chat'],{'text':_0x51b71c(0x163)+_0x1ca2e2});}}}else{const _0x43055a=_0x414df8[_0x51b71c(0x182)][0x0],_0x19221f=_0x43055a[_0x51b71c(0x188)]+_0x51b71c(0x174),_0x41a554=formatExtractionMessage(_0x19221f,0x1,_0x51b71c(0x155)),_0x44e265=await _0x24186b[_0x51b71c(0x18e)](_0x3e2444[_0x51b71c(0x16a)],{'text':_0x41a554}),_0x590748=await downloadWithRetries(_0x43055a,_0x24186b,_0x3e2444,_0x44e265,_0x19221f);if(!_0x590748){await _0x24186b[_0x51b71c(0x18e)](_0x3e2444[_0x51b71c(0x16a)],{'text':_0x51b71c(0x14f)+_0x43055a[_0x51b71c(0x188)]});const _0x8e5d8e=formatExtractionMessage(_0x19221f+_0x51b71c(0x18d),0x1,_0x51b71c(0x155)),_0x3d8e8c=await _0x24186b[_0x51b71c(0x18e)](_0x3e2444[_0x51b71c(0x16a)],{'text':_0x8e5d8e}),_0x53d4a7=await downloadWithRetries(_0x43055a,_0x24186b,_0x3e2444,_0x3d8e8c,_0x19221f+'\x20(Reintento)');!_0x53d4a7?await _0x24186b[_0x51b71c(0x18e)](_0x3e2444[_0x51b71c(0x16a)],{'text':'No\x20se\x20pudo\x20extraer\x20la\x20sombra\x20de:\x20'+_0x43055a[_0x51b71c(0x188)]}):(await _0x24186b[_0x51b71c(0x18e)](_0x3e2444[_0x51b71c(0x16a)],{'delete':_0x3d8e8c[_0x51b71c(0x16b)]}),await _0x24186b[_0x51b71c(0x18e)](_0x3e2444['chat'],{'audio':{'url':_0x53d4a7[_0x51b71c(0x171)]},'fileName':_0x53d4a7['title']+_0x51b71c(0x19a),'mimetype':_0x51b71c(0x186),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x53d4a7[_0x51b71c(0x19f)],'body':_0x51b71c(0x176)+_0x53d4a7[_0x51b71c(0x191)],'description':_0x51b71c(0x170)+_0x53d4a7['album'],'thumbnailUrl':_0x53d4a7[_0x51b71c(0x158)]}}}),await new Promise(_0x21092a=>setTimeout(_0x21092a,0x7d0)));}else await _0x24186b[_0x51b71c(0x18e)](_0x3e2444['chat'],{'delete':_0x44e265['key']}),await _0x24186b['sendMessage'](_0x3e2444[_0x51b71c(0x16a)],{'audio':{'url':_0x590748[_0x51b71c(0x171)]},'fileName':_0x590748[_0x51b71c(0x19f)]+_0x51b71c(0x19a),'mimetype':_0x51b71c(0x186),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x590748['title'],'body':'Artista:\x20'+_0x590748[_0x51b71c(0x191)],'description':_0x51b71c(0x170)+_0x590748[_0x51b71c(0x164)],'thumbnailUrl':_0x590748['thumbnail']}}}),await _0x3e2444[_0x51b71c(0x162)]('‚úÖ');}}catch(_0x3cee57){await _0x3e2444['react']('‚ùå'),await _0x3e2444['reply'](_0x51b71c(0x16d)+(_0x3cee57[_0x51b71c(0x144)]||_0x3cee57)),console['error'](_0x3cee57);}};handler[a0_0x11f9fd(0x14d)]=[a0_0x11f9fd(0x183),a0_0x11f9fd(0x171)],handler['tags']=['downloader'],handler[a0_0x11f9fd(0x147)]=[a0_0x11f9fd(0x183),'music'],handler[a0_0x11f9fd(0x195)]=![];export default handler;function a0_0x409e(_0x334a43,_0x2cc761){const _0x3817cd=a0_0x3817();return a0_0x409e=function(_0x409e43,_0x5a88b2){_0x409e43=_0x409e43-0x13e;let _0x5c2d53=_0x3817cd[_0x409e43];return _0x5c2d53;},a0_0x409e(_0x334a43,_0x2cc761);}async function spotifyxv(_0x1cd8f1){const _0x11c3c3=a0_0x11f9fd,_0x20d768=await getSpotifyToken();try{let _0x10f1aa=await a0_0x1fb38d({'method':'get','url':'https://api.spotify.com/v1/search?q='+encodeURIComponent(_0x1cd8f1)+'&type=track','headers':{'Authorization':_0x11c3c3(0x17f)+_0x20d768}});const _0x2ad2d2=_0x10f1aa[_0x11c3c3(0x17c)]['tracks'][_0x11c3c3(0x184)];return _0x2ad2d2[_0x11c3c3(0x19d)](_0x5282da=>({'name':_0x5282da[_0x11c3c3(0x188)],'artist':_0x5282da[_0x11c3c3(0x148)][_0x11c3c3(0x19d)](_0x2cddcc=>_0x2cddcc[_0x11c3c3(0x188)])[_0x11c3c3(0x141)](',\x20'),'album':_0x5282da['album']['name'],'duration':timestamp(_0x5282da['duration_ms']),'url':_0x5282da[_0x11c3c3(0x19c)][_0x11c3c3(0x183)],'thumbnail':_0x5282da[_0x11c3c3(0x164)]['images'][0x0]?.['url']||''}));}catch(_0x339286){return console[_0x11c3c3(0x168)](_0x339286),[];}}async function spotifyAlbum(_0x39e1d7){const _0x8788d2=a0_0x11f9fd;let _0xfad0fd;try{const _0x4c14e3=_0x39e1d7['split']('/');_0xfad0fd=_0x4c14e3[_0x4c14e3[_0x8788d2(0x150)](_0x8788d2(0x164))+0x1][_0x8788d2(0x17b)]('?')[0x0];}catch(_0x1aa204){throw new Error(_0x8788d2(0x1a0));}const _0x528d27=await getSpotifyToken();let _0x393d6f=await a0_0x1fb38d({'method':_0x8788d2(0x167),'url':'https://api.spotify.com/v1/albums/'+_0xfad0fd,'headers':{'Authorization':'Bearer\x20'+_0x528d27}});const _0x4b76d4=_0x393d6f['data'],_0x575899=_0x4b76d4[_0x8788d2(0x182)][_0x8788d2(0x184)]['map'](_0x3ed13e=>({'name':_0x3ed13e[_0x8788d2(0x188)],'artist':_0x3ed13e[_0x8788d2(0x148)][_0x8788d2(0x19d)](_0x54fe8a=>_0x54fe8a[_0x8788d2(0x188)])[_0x8788d2(0x141)](',\x20'),'album':_0x4b76d4[_0x8788d2(0x188)],'url':_0x3ed13e[_0x8788d2(0x19c)][_0x8788d2(0x183)],'thumbnail':_0x4b76d4['images'][0x0]?.[_0x8788d2(0x16e)]||''}));return{'album':_0x4b76d4,'tracks':_0x575899};}async function spotifyAlbumSearch(_0xb5f5a5){const _0x453a58=a0_0x11f9fd,_0x52dbf1=await getSpotifyToken();let _0x5ac22f=await a0_0x1fb38d({'method':_0x453a58(0x167),'url':_0x453a58(0x175)+encodeURIComponent(_0xb5f5a5)+_0x453a58(0x17a),'headers':{'Authorization':_0x453a58(0x17f)+_0x52dbf1}});const _0x3aa51d=_0x5ac22f[_0x453a58(0x17c)][_0x453a58(0x152)][_0x453a58(0x184)];if(!_0x3aa51d[_0x453a58(0x160)])return null;const _0x33a97d=_0x3aa51d[0x0]['id'];let _0x1e7c79=await a0_0x1fb38d({'method':_0x453a58(0x167),'url':'https://api.spotify.com/v1/albums/'+_0x33a97d,'headers':{'Authorization':_0x453a58(0x17f)+_0x52dbf1}});const _0x773107=_0x1e7c79[_0x453a58(0x17c)],_0x2a1331=_0x773107[_0x453a58(0x182)][_0x453a58(0x184)][_0x453a58(0x19d)](_0x5b5981=>({'name':_0x5b5981[_0x453a58(0x188)],'artist':_0x5b5981[_0x453a58(0x148)][_0x453a58(0x19d)](_0x461bef=>_0x461bef[_0x453a58(0x188)])['join'](',\x20'),'album':_0x773107['name'],'url':_0x5b5981['external_urls'][_0x453a58(0x183)],'thumbnail':_0x773107[_0x453a58(0x169)][0x0]?.[_0x453a58(0x16e)]||''}));return{'album':_0x773107,'tracks':_0x2a1331};}async function spotifyPlaylist(_0x348982){const _0x170d9b=a0_0x11f9fd;let _0x1f2ca1;try{const _0x33bd26=_0x348982[_0x170d9b(0x17b)]('/');_0x1f2ca1=_0x33bd26[_0x33bd26[_0x170d9b(0x150)](_0x170d9b(0x192))+0x1][_0x170d9b(0x17b)]('?')[0x0];}catch(_0x50426e){throw new Error(_0x170d9b(0x17e));}const _0x89f71c=await getSpotifyToken();let _0x5a745a=await a0_0x1fb38d({'method':_0x170d9b(0x167),'url':_0x170d9b(0x199)+_0x1f2ca1,'headers':{'Authorization':_0x170d9b(0x17f)+_0x89f71c}});const _0x4b56c4=_0x5a745a['data'],_0x133a9a=_0x4b56c4[_0x170d9b(0x182)][_0x170d9b(0x184)][_0x170d9b(0x19d)](_0x318f4d=>{const _0x2c7ecc=_0x170d9b,_0x54b0c4=_0x318f4d['track'];return{'name':_0x54b0c4[_0x2c7ecc(0x188)],'artist':_0x54b0c4[_0x2c7ecc(0x148)][_0x2c7ecc(0x19d)](_0xae2848=>_0xae2848[_0x2c7ecc(0x188)])[_0x2c7ecc(0x141)](',\x20'),'album':_0x4b56c4[_0x2c7ecc(0x188)],'url':_0x54b0c4[_0x2c7ecc(0x19c)][_0x2c7ecc(0x183)],'thumbnail':_0x54b0c4['album'][_0x2c7ecc(0x169)][0x0]?.[_0x2c7ecc(0x16e)]||''};});return{'album':{'name':_0x4b56c4[_0x170d9b(0x188)]},'tracks':_0x133a9a};}async function spotifyArtist(_0x38aaa6){const _0x343a67=a0_0x11f9fd;let _0x219c91;try{const _0x111161=_0x38aaa6[_0x343a67(0x17b)]('/');_0x219c91=_0x111161[_0x111161[_0x343a67(0x150)](_0x343a67(0x191))+0x1][_0x343a67(0x17b)]('?')[0x0];}catch(_0x27698a){throw new Error(_0x343a67(0x140));}const _0x19df37=await getSpotifyToken();let _0x5284b3=await a0_0x1fb38d({'method':_0x343a67(0x167),'url':_0x343a67(0x1a1)+_0x219c91+_0x343a67(0x15b),'headers':{'Authorization':_0x343a67(0x17f)+_0x19df37}});const _0x4bb6b0=_0x5284b3['data'],_0xa45e5e=_0x4bb6b0[_0x343a67(0x182)][_0x343a67(0x19d)](_0x3edd5e=>({'name':_0x3edd5e[_0x343a67(0x188)],'artist':_0x3edd5e[_0x343a67(0x148)]['map'](_0x188c5f=>_0x188c5f[_0x343a67(0x188)])['join'](',\x20'),'album':_0x343a67(0x18f),'url':_0x3edd5e['external_urls'][_0x343a67(0x183)],'thumbnail':_0x3edd5e[_0x343a67(0x164)][_0x343a67(0x169)][0x0]?.[_0x343a67(0x16e)]||''}));return{'album':{'name':_0x343a67(0x18f)},'tracks':_0xa45e5e};}async function spotifyTrack(_0x5f2ed5){const _0x4284fd=a0_0x11f9fd;let _0xdc3f00;try{const _0x278815=_0x5f2ed5[_0x4284fd(0x17b)]('/');_0xdc3f00=_0x278815[_0x278815[_0x4284fd(0x150)]('track')+0x1]['split']('?')[0x0];}catch(_0x47dc11){throw new Error('No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20track.');}const _0x8bec2e=await getSpotifyToken();let _0x39e171=await a0_0x1fb38d({'method':_0x4284fd(0x167),'url':_0x4284fd(0x18c)+_0xdc3f00,'headers':{'Authorization':_0x4284fd(0x17f)+_0x8bec2e}});const _0x49d0a6=_0x39e171[_0x4284fd(0x17c)];return{'name':_0x49d0a6[_0x4284fd(0x188)],'artist':_0x49d0a6['artists'][_0x4284fd(0x19d)](_0x47161a=>_0x47161a[_0x4284fd(0x188)])['join'](',\x20'),'album':_0x49d0a6[_0x4284fd(0x164)][_0x4284fd(0x188)],'url':_0x49d0a6[_0x4284fd(0x19c)]['spotify'],'thumbnail':_0x49d0a6[_0x4284fd(0x164)][_0x4284fd(0x169)][0x0]?.[_0x4284fd(0x16e)]||''};}function timestamp(_0x21c087){const _0x257329=a0_0x11f9fd,_0x56a8c2=Math[_0x257329(0x194)](_0x21c087/0xea60),_0x3c3342=Math[_0x257329(0x194)](_0x21c087%0xea60/0x3e8);return _0x56a8c2+':'+(_0x3c3342<0xa?'0':'')+_0x3c3342;}