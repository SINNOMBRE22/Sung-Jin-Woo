function a0_0x3273(_0x105b0e,_0x5608d5){const _0x32ffcd=a0_0x32ff();return a0_0x3273=function(_0x3273e1,_0x3dc42a){_0x3273e1=_0x3273e1-0x1b1;let _0xb892d9=_0x32ffcd[_0x3273e1];return _0xb892d9;},a0_0x3273(_0x105b0e,_0x5608d5);}const a0_0xc72af6=a0_0x3273;(function(_0x589707,_0x1830b0){const _0x373910=a0_0x3273,_0x4d13ee=_0x589707();while(!![]){try{const _0x555e5b=-parseInt(_0x373910(0x201))/0x1+-parseInt(_0x373910(0x1e1))/0x2*(parseInt(_0x373910(0x20e))/0x3)+parseInt(_0x373910(0x1b9))/0x4+-parseInt(_0x373910(0x1b8))/0x5*(parseInt(_0x373910(0x1f1))/0x6)+-parseInt(_0x373910(0x1ea))/0x7+parseInt(_0x373910(0x1e0))/0x8+parseInt(_0x373910(0x1f3))/0x9;if(_0x555e5b===_0x1830b0)break;else _0x4d13ee['push'](_0x4d13ee['shift']());}catch(_0x51dcb8){_0x4d13ee['push'](_0x4d13ee['shift']());}}}(a0_0x32ff,0xd1ae6));import a0_0x2866c2 from'axios';import a0_0x169925 from'node-fetch';let spotifyTokenCache={'token':null,'expiresAt':0x0};function a0_0x32ff(){const _0x4e6d01=['35700813yVXwHK','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2040%','buffer','.mp3','Basic\x20','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20de\x20la\x20playlist.','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±\x2060%','now','\x20(Reintento)','Top\x20Tracks','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20track.','length','‚ùå\x20*Error:*\x20','join','1488361NudVZp','artists','sendMessage','music','‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2030%','‚ùå\x20*Error:*\x20No\x20se\x20encontraron\x20resultados.','Error\x20al\x20obtener\x20la\x20imagen:\x20','indexOf','token','reply','thumbnail','tracks','/top-tracks?market=US','122730ipaIhf','key','https://apis-starlights-team.koyeb.app/starlight/spotifydl?url=','No\x20se\x20pudo\x20extraer\x20la\x20sombra\x20de:\x20','‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2010%','title','access_token','&type=album','https://api.spotify.com/v1/albums/','‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%','spotify','toString','√Ålbum:\x20','data','images','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20el\x20√°lbum.','name','chat','‚öîÔ∏è\x20Error:\x20No\x20ingresaste\x20ninguna\x20b√∫squeda\x20o\x20enlace.\x0a\x0aEjemplo:\x0a‚Ä¢\x20','No\x20se\x20pudieron\x20extraer\x20las\x20siguientes\x20sombras:\x0a','https://api.spotify.com/v1/artists/','url','Bearer\x20','295qHBysj','4601608clxHqO','https://accounts.spotify.com/api/token','map','spotify.com/artist','then','toLowerCase','‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2020%','floor','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20¬°Descargado!','https://api.spotify.com/v1/tracks/','external_urls','\x20https://open.spotify.com/album/...\x0a‚Ä¢\x20','track','\x20Bellyache\x0a‚Ä¢\x20','items','get','&type=track','split','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2050%','\x20https://open.spotify.com/artist/...','artist','spotify.com/track','audio/mpeg','duration_ms','expiresAt','albums','open.spotify.com/album','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20√°lbum.','playlist','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20para\x20el\x20artista.','includes','\x0a‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ','expires_in','command','\x20https://open.spotify.com/track/...\x0a‚Ä¢\x20','group','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±\x2080%','album','\x20(1/1)','1414064UddwvH','62GQmbrK','\x0aüí†\x20Progreso:\x20','No\x20se\x20pudo\x20obtener\x20el\x20enlace\x20de\x20descarga\x20para\x20','acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009','post','https://api.spotify.com/v1/search?q=','Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±\x2090%','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20artista.','5838175GWldNd','push','Artista:\x20','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±\x2070%','help','react','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20la\x20playlist.','85878IKuxAJ','statusText'];a0_0x32ff=function(){return _0x4e6d01;};return a0_0x32ff();}async function getSpotifyToken(){const _0x57c1b8=a0_0x3273,_0x35ab7c=Date[_0x57c1b8(0x1fa)]();if(spotifyTokenCache[_0x57c1b8(0x209)]&&spotifyTokenCache[_0x57c1b8(0x1d1)]>_0x35ab7c)return spotifyTokenCache[_0x57c1b8(0x209)];const _0x22a77c=await a0_0x2866c2({'method':_0x57c1b8(0x1e5),'url':_0x57c1b8(0x1ba),'headers':{'Content-Type':'application/x-www-form-urlencoded','Authorization':_0x57c1b8(0x1f7)+Buffer['from'](_0x57c1b8(0x1e4))[_0x57c1b8(0x219)]('base64')},'data':'grant_type=client_credentials'}),_0x347ee3=_0x22a77c[_0x57c1b8(0x21b)][_0x57c1b8(0x214)];return spotifyTokenCache[_0x57c1b8(0x209)]=_0x347ee3,spotifyTokenCache[_0x57c1b8(0x1d1)]=_0x35ab7c+_0x22a77c[_0x57c1b8(0x21b)][_0x57c1b8(0x1d9)]*0x3e8-0xea60,_0x347ee3;}async function getBuffer(_0x4ad279){const _0x82f44=a0_0x3273,_0x3891ea=await a0_0x169925(_0x4ad279);if(!_0x3891ea['ok'])throw new Error(_0x82f44(0x207)+_0x3891ea[_0x82f44(0x1f2)]);return await _0x3891ea[_0x82f44(0x1f5)]();}function formatExtractionMessage(_0x5a79fa,_0x42e749,_0x25cbd2){const _0x54838b=a0_0x3273;return'‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\x0a‚öîÔ∏è\x20Extracci√≥n\x20en\x20Curso\x0aüåü\x20Objetivo:\x20'+_0x5a79fa+'\x0aüõ†Ô∏è\x20Intento:\x20'+_0x42e749+_0x54838b(0x1e2)+_0x25cbd2+_0x54838b(0x1d8);}async function progressWithSync(_0x17121a,_0x4a283e,_0x29f420,_0x56e9c1,{objective:_0x320bd2,attempt:_0x471aaa,failedTrack:failedTrack=null}){const _0x3c7e1b=a0_0x3273;let _0x1ff5ed=![];const _0x1b4c10=[_0x3c7e1b(0x217),_0x3c7e1b(0x212),_0x3c7e1b(0x1bf),_0x3c7e1b(0x205),_0x3c7e1b(0x1f4),_0x3c7e1b(0x1cb),_0x3c7e1b(0x1f9),_0x3c7e1b(0x1ed),_0x3c7e1b(0x1dd),_0x3c7e1b(0x1e8)];let _0x18ee04=0x0;const _0x149a1f=0x12c,_0x3a6a56=setInterval(async()=>{const _0x419ee3=_0x3c7e1b;if(_0x18ee04<_0x1b4c10['length']){const _0x12d1a3=formatExtractionMessage(_0x320bd2,_0x471aaa,_0x1b4c10[_0x18ee04]);await _0x17121a[_0x419ee3(0x203)](_0x4a283e[_0x419ee3(0x1b2)],{'text':_0x12d1a3,'edit':_0x29f420[_0x419ee3(0x20f)]}),_0x18ee04++;}},_0x149a1f);try{await _0x56e9c1;}catch(_0x23ea91){_0x1ff5ed=!![];}clearInterval(_0x3a6a56);const _0x350010=_0x1ff5ed&&failedTrack?'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20Fall√≥\x20la\x20extracci√≥n\x20de:\x20'+failedTrack:_0x3c7e1b(0x1c1),_0x445fc1=formatExtractionMessage(_0x320bd2,_0x471aaa,_0x350010);await _0x17121a[_0x3c7e1b(0x203)](_0x4a283e[_0x3c7e1b(0x1b2)],{'text':_0x445fc1,'edit':_0x29f420['key']});}async function downloadWithRetries(_0x2c9095,_0x54a881,_0x52332d,_0x3f7fa4,_0x53fc55){const _0x3e2aca=a0_0x3273;let _0x503693=null;for(let _0x4101c9=0x1;_0x4101c9<=0x3;_0x4101c9++){try{const _0x6f0582=a0_0x169925(_0x3e2aca(0x210)+_0x2c9095[_0x3e2aca(0x1b6)])[_0x3e2aca(0x1bd)](_0x55567f=>_0x55567f['json']());await progressWithSync(_0x54a881,_0x52332d,_0x3f7fa4,_0x6f0582,{'objective':_0x53fc55,'attempt':_0x4101c9,'failedTrack':_0x4101c9===0x3?_0x2c9095[_0x3e2aca(0x1b1)]:null}),_0x503693=await _0x6f0582;if(!_0x503693||!_0x503693[_0x3e2aca(0x204)])throw new Error(_0x3e2aca(0x1e3)+_0x2c9095[_0x3e2aca(0x1b1)]);return _0x503693;}catch(_0x1e14c5){if(_0x4101c9===0x3)return null;await new Promise(_0x51d4f8=>setTimeout(_0x51d4f8,0x3e8));}}return null;}let handler=async(_0x55d92b,{conn:_0x2d047f,text:_0x4bd8d7,usedPrefix:_0x2ebd26,command:_0x308720})=>{const _0x501494=a0_0x3273;if(!_0x4bd8d7)throw _0x501494(0x1b3)+(_0x2ebd26+_0x308720)+_0x501494(0x1c6)+(_0x2ebd26+_0x308720)+_0x501494(0x1db)+(_0x2ebd26+_0x308720)+_0x501494(0x1c4)+(_0x2ebd26+_0x308720)+'\x20https://open.spotify.com/playlist/...\x0a‚Ä¢\x20'+(_0x2ebd26+_0x308720)+_0x501494(0x1cc);try{await _0x55d92b[_0x501494(0x1ef)]('‚è≥');let _0x395a3a=![],_0x29cd14=![],_0x45d38a=![],_0x51c4e2;if(_0x4bd8d7['includes'](_0x501494(0x1d3))){_0x395a3a=!![],_0x51c4e2=await spotifyAlbum(_0x4bd8d7);if(!_0x51c4e2?.[_0x501494(0x20c)]?.[_0x501494(0x1fe)])throw _0x501494(0x21d);}else{if(_0x4bd8d7[_0x501494(0x1d7)]('open.spotify.com/playlist')){_0x29cd14=!![],_0x51c4e2=await spotifyPlaylist(_0x4bd8d7);if(!_0x51c4e2?.['tracks']?.[_0x501494(0x1fe)])throw _0x501494(0x1f0);}else{if(_0x4bd8d7[_0x501494(0x1d7)]('open.spotify.com/artist')||_0x4bd8d7['includes'](_0x501494(0x1bc))){_0x395a3a=!![],_0x45d38a=!![],_0x51c4e2=await spotifyArtist(_0x4bd8d7);if(!_0x51c4e2?.[_0x501494(0x20c)]?.[_0x501494(0x1fe)])throw _0x501494(0x1d6);}else{if(_0x4bd8d7[_0x501494(0x1d7)](_0x501494(0x1ce)))_0x51c4e2={'tracks':[await spotifyTrack(_0x4bd8d7)]};else{if(_0x4bd8d7[_0x501494(0x1be)]()['includes']('album')){_0x395a3a=!![],_0x51c4e2=await spotifyAlbumSearch(_0x4bd8d7);if(!_0x51c4e2?.[_0x501494(0x20c)]?.[_0x501494(0x1fe)])throw _0x501494(0x21d);}else{const _0x481a1a=await spotifyxv(_0x4bd8d7);if(!_0x481a1a[_0x501494(0x1fe)]||!_0x481a1a[0x0][_0x501494(0x1b6)])throw _0x501494(0x206);_0x51c4e2={'tracks':[_0x481a1a[0x0]]};}}}}}if(_0x395a3a||_0x29cd14){let _0x524456=[];for(let _0x791f7f=0x0;_0x791f7f<_0x51c4e2[_0x501494(0x20c)][_0x501494(0x1fe)];_0x791f7f++){const _0x3fbc66=_0x51c4e2['tracks'][_0x791f7f],_0x2f262c=_0x3fbc66[_0x501494(0x1b1)]+'\x20('+(_0x791f7f+0x1)+'/'+_0x51c4e2[_0x501494(0x20c)][_0x501494(0x1fe)]+')',_0x2453ad=formatExtractionMessage(_0x2f262c,0x1,_0x501494(0x217)),_0x39225c=await _0x2d047f[_0x501494(0x203)](_0x55d92b['chat'],{'text':_0x2453ad}),_0x57768e=await downloadWithRetries(_0x3fbc66,_0x2d047f,_0x55d92b,_0x39225c,_0x2f262c);_0x57768e?(await _0x2d047f[_0x501494(0x203)](_0x55d92b[_0x501494(0x1b2)],{'delete':_0x39225c[_0x501494(0x20f)]}),await _0x2d047f[_0x501494(0x203)](_0x55d92b[_0x501494(0x1b2)],{'audio':{'url':_0x57768e[_0x501494(0x204)]},'fileName':_0x57768e['title']+_0x501494(0x1f6),'mimetype':_0x501494(0x1cf),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x57768e['title'],'body':_0x501494(0x1ec)+_0x57768e['artist'],'description':_0x501494(0x21a)+_0x57768e[_0x501494(0x1de)],'thumbnailUrl':_0x57768e[_0x501494(0x20b)]}}}),await new Promise(_0x5becc7=>setTimeout(_0x5becc7,0x7d0))):_0x524456[_0x501494(0x1eb)](_0x3fbc66);}if(_0x524456[_0x501494(0x1fe)]>0x0){let _0x4706ef=_0x524456[_0x501494(0x1bb)](_0x87a154=>_0x87a154[_0x501494(0x1b1)])[_0x501494(0x200)]('\x0a');await _0x2d047f['sendMessage'](_0x55d92b[_0x501494(0x1b2)],{'text':_0x501494(0x1e7)+_0x4706ef});let _0x5dfdd7=[];for(let _0x198d78 of _0x524456){const _0x524e00=_0x198d78[_0x501494(0x1b1)]+_0x501494(0x1fb),_0x1453aa=formatExtractionMessage(_0x524e00,0x1,'‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%'),_0x5ba6b8=await _0x2d047f['sendMessage'](_0x55d92b['chat'],{'text':_0x1453aa}),_0x425dd5=await downloadWithRetries(_0x198d78,_0x2d047f,_0x55d92b,_0x5ba6b8,_0x524e00);_0x425dd5?(await _0x2d047f[_0x501494(0x203)](_0x55d92b[_0x501494(0x1b2)],{'delete':_0x5ba6b8[_0x501494(0x20f)]}),await _0x2d047f['sendMessage'](_0x55d92b[_0x501494(0x1b2)],{'audio':{'url':_0x425dd5[_0x501494(0x204)]},'fileName':_0x425dd5['title']+'.mp3','mimetype':_0x501494(0x1cf),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x425dd5[_0x501494(0x213)],'body':_0x501494(0x1ec)+_0x425dd5['artist'],'description':_0x501494(0x21a)+_0x425dd5[_0x501494(0x1de)],'thumbnailUrl':_0x425dd5[_0x501494(0x20b)]}}}),await new Promise(_0x5d8785=>setTimeout(_0x5d8785,0x7d0))):_0x5dfdd7[_0x501494(0x1eb)](_0x198d78);}if(_0x5dfdd7[_0x501494(0x1fe)]>0x0){let _0x37efa7=_0x5dfdd7[_0x501494(0x1bb)](_0x5839f7=>_0x5839f7[_0x501494(0x1b1)])[_0x501494(0x200)]('\x0a');await _0x2d047f[_0x501494(0x203)](_0x55d92b[_0x501494(0x1b2)],{'text':_0x501494(0x1b4)+_0x37efa7});}}}else{const _0x2b5860=_0x51c4e2['tracks'][0x0],_0x50b965=_0x2b5860[_0x501494(0x1b1)]+_0x501494(0x1df),_0x4638b6=formatExtractionMessage(_0x50b965,0x1,_0x501494(0x217)),_0xe5e006=await _0x2d047f['sendMessage'](_0x55d92b[_0x501494(0x1b2)],{'text':_0x4638b6}),_0x4d9155=await downloadWithRetries(_0x2b5860,_0x2d047f,_0x55d92b,_0xe5e006,_0x50b965);if(!_0x4d9155){await _0x2d047f[_0x501494(0x203)](_0x55d92b[_0x501494(0x1b2)],{'text':_0x501494(0x1e7)+_0x2b5860['name']});const _0x124f03=formatExtractionMessage(_0x50b965+_0x501494(0x1fb),0x1,_0x501494(0x217)),_0x134a50=await _0x2d047f[_0x501494(0x203)](_0x55d92b[_0x501494(0x1b2)],{'text':_0x124f03}),_0x36f7cb=await downloadWithRetries(_0x2b5860,_0x2d047f,_0x55d92b,_0x134a50,_0x50b965+_0x501494(0x1fb));!_0x36f7cb?await _0x2d047f['sendMessage'](_0x55d92b[_0x501494(0x1b2)],{'text':_0x501494(0x211)+_0x2b5860[_0x501494(0x1b1)]}):(await _0x2d047f['sendMessage'](_0x55d92b['chat'],{'delete':_0x134a50['key']}),await _0x2d047f['sendMessage'](_0x55d92b[_0x501494(0x1b2)],{'audio':{'url':_0x36f7cb[_0x501494(0x204)]},'fileName':_0x36f7cb['title']+'.mp3','mimetype':'audio/mpeg','contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x36f7cb[_0x501494(0x213)],'body':_0x501494(0x1ec)+_0x36f7cb[_0x501494(0x1cd)],'description':'√Ålbum:\x20'+_0x36f7cb[_0x501494(0x1de)],'thumbnailUrl':_0x36f7cb[_0x501494(0x20b)]}}}),await new Promise(_0x2d5bc5=>setTimeout(_0x2d5bc5,0x7d0)));}else await _0x2d047f['sendMessage'](_0x55d92b['chat'],{'delete':_0xe5e006[_0x501494(0x20f)]}),await _0x2d047f[_0x501494(0x203)](_0x55d92b[_0x501494(0x1b2)],{'audio':{'url':_0x4d9155[_0x501494(0x204)]},'fileName':_0x4d9155['title']+'.mp3','mimetype':'audio/mpeg','contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x4d9155['title'],'body':_0x501494(0x1ec)+_0x4d9155['artist'],'description':_0x501494(0x21a)+_0x4d9155['album'],'thumbnailUrl':_0x4d9155[_0x501494(0x20b)]}}}),await _0x55d92b[_0x501494(0x1ef)]('‚úÖ');}}catch(_0xc8560a){await _0x55d92b[_0x501494(0x1ef)]('‚ùå'),await _0x55d92b[_0x501494(0x20a)](_0x501494(0x1ff)+(_0xc8560a['message']||_0xc8560a)),console['error'](_0xc8560a);}};handler[a0_0xc72af6(0x1ee)]=[a0_0xc72af6(0x218),'music'],handler['tags']=['downloader'],handler[a0_0xc72af6(0x1da)]=['spotify',a0_0xc72af6(0x204)],handler[a0_0xc72af6(0x1dc)]=![];export default handler;async function spotifyxv(_0x3b1b12){const _0x423b35=a0_0xc72af6,_0x42b949=await getSpotifyToken();try{let _0x1fc18b=await a0_0x2866c2({'method':_0x423b35(0x1c8),'url':_0x423b35(0x1e6)+encodeURIComponent(_0x3b1b12)+_0x423b35(0x1c9),'headers':{'Authorization':_0x423b35(0x1b7)+_0x42b949}});const _0x33910c=_0x1fc18b[_0x423b35(0x21b)][_0x423b35(0x20c)][_0x423b35(0x1c7)];return _0x33910c[_0x423b35(0x1bb)](_0x34b158=>({'name':_0x34b158[_0x423b35(0x1b1)],'artist':_0x34b158[_0x423b35(0x202)]['map'](_0x1e2c1b=>_0x1e2c1b[_0x423b35(0x1b1)])[_0x423b35(0x200)](',\x20'),'album':_0x34b158[_0x423b35(0x1de)][_0x423b35(0x1b1)],'duration':timestamp(_0x34b158[_0x423b35(0x1d0)]),'url':_0x34b158[_0x423b35(0x1c3)]['spotify'],'thumbnail':_0x34b158[_0x423b35(0x1de)][_0x423b35(0x21c)][0x0]?.['url']||''}));}catch(_0x4c092b){return console['error'](_0x4c092b),[];}}async function spotifyAlbum(_0x445859){const _0x18dede=a0_0xc72af6;let _0x5aa85d;try{const _0x1d0bfe=_0x445859[_0x18dede(0x1ca)]('/');_0x5aa85d=_0x1d0bfe[_0x1d0bfe['indexOf'](_0x18dede(0x1de))+0x1][_0x18dede(0x1ca)]('?')[0x0];}catch(_0x321094){throw new Error(_0x18dede(0x1d4));}const _0x2be44f=await getSpotifyToken();let _0x34b141=await a0_0x2866c2({'method':_0x18dede(0x1c8),'url':_0x18dede(0x216)+_0x5aa85d,'headers':{'Authorization':'Bearer\x20'+_0x2be44f}});const _0x2e0a0c=_0x34b141[_0x18dede(0x21b)],_0x6013da=_0x2e0a0c[_0x18dede(0x20c)][_0x18dede(0x1c7)][_0x18dede(0x1bb)](_0x18fe6d=>({'name':_0x18fe6d[_0x18dede(0x1b1)],'artist':_0x18fe6d[_0x18dede(0x202)][_0x18dede(0x1bb)](_0xa0c96=>_0xa0c96[_0x18dede(0x1b1)])['join'](',\x20'),'album':_0x2e0a0c['name'],'url':_0x18fe6d[_0x18dede(0x1c3)][_0x18dede(0x218)],'thumbnail':_0x2e0a0c[_0x18dede(0x21c)][0x0]?.[_0x18dede(0x1b6)]||''}));return{'album':_0x2e0a0c,'tracks':_0x6013da};}async function spotifyAlbumSearch(_0x2a4560){const _0xf79c51=a0_0xc72af6,_0x3e3698=await getSpotifyToken();let _0x54a6b0=await a0_0x2866c2({'method':'get','url':_0xf79c51(0x1e6)+encodeURIComponent(_0x2a4560)+_0xf79c51(0x215),'headers':{'Authorization':_0xf79c51(0x1b7)+_0x3e3698}});const _0x43f28a=_0x54a6b0[_0xf79c51(0x21b)][_0xf79c51(0x1d2)]['items'];if(!_0x43f28a[_0xf79c51(0x1fe)])return null;const _0x1424ec=_0x43f28a[0x0]['id'];let _0x78a8c1=await a0_0x2866c2({'method':'get','url':_0xf79c51(0x216)+_0x1424ec,'headers':{'Authorization':_0xf79c51(0x1b7)+_0x3e3698}});const _0x28b122=_0x78a8c1[_0xf79c51(0x21b)],_0x22e622=_0x28b122[_0xf79c51(0x20c)]['items'][_0xf79c51(0x1bb)](_0x542977=>({'name':_0x542977[_0xf79c51(0x1b1)],'artist':_0x542977[_0xf79c51(0x202)][_0xf79c51(0x1bb)](_0x253e0d=>_0x253e0d[_0xf79c51(0x1b1)])['join'](',\x20'),'album':_0x28b122['name'],'url':_0x542977[_0xf79c51(0x1c3)][_0xf79c51(0x218)],'thumbnail':_0x28b122[_0xf79c51(0x21c)][0x0]?.[_0xf79c51(0x1b6)]||''}));return{'album':_0x28b122,'tracks':_0x22e622};}async function spotifyPlaylist(_0x8251a){const _0x1b7ec3=a0_0xc72af6;let _0xe3260c;try{const _0x5a4cbe=_0x8251a[_0x1b7ec3(0x1ca)]('/');_0xe3260c=_0x5a4cbe[_0x5a4cbe[_0x1b7ec3(0x208)](_0x1b7ec3(0x1d5))+0x1][_0x1b7ec3(0x1ca)]('?')[0x0];}catch(_0x1d4861){throw new Error(_0x1b7ec3(0x1f8));}const _0x3db07a=await getSpotifyToken();let _0x35034e=await a0_0x2866c2({'method':_0x1b7ec3(0x1c8),'url':'https://api.spotify.com/v1/playlists/'+_0xe3260c,'headers':{'Authorization':_0x1b7ec3(0x1b7)+_0x3db07a}});const _0x866794=_0x35034e[_0x1b7ec3(0x21b)],_0x26a7e1=_0x866794[_0x1b7ec3(0x20c)]['items'][_0x1b7ec3(0x1bb)](_0x4d1650=>{const _0x4c50f4=_0x1b7ec3,_0x1fa69c=_0x4d1650[_0x4c50f4(0x1c5)];return{'name':_0x1fa69c[_0x4c50f4(0x1b1)],'artist':_0x1fa69c[_0x4c50f4(0x202)][_0x4c50f4(0x1bb)](_0x517a31=>_0x517a31[_0x4c50f4(0x1b1)])[_0x4c50f4(0x200)](',\x20'),'album':_0x866794['name'],'url':_0x1fa69c[_0x4c50f4(0x1c3)][_0x4c50f4(0x218)],'thumbnail':_0x1fa69c[_0x4c50f4(0x1de)][_0x4c50f4(0x21c)][0x0]?.[_0x4c50f4(0x1b6)]||''};});return{'album':{'name':_0x866794[_0x1b7ec3(0x1b1)]},'tracks':_0x26a7e1};}async function spotifyArtist(_0x44c823){const _0x36b304=a0_0xc72af6;let _0x2a314a;try{const _0x3923af=_0x44c823['split']('/');_0x2a314a=_0x3923af[_0x3923af['indexOf'](_0x36b304(0x1cd))+0x1][_0x36b304(0x1ca)]('?')[0x0];}catch(_0x45a0df){throw new Error(_0x36b304(0x1e9));}const _0x3e2317=await getSpotifyToken();let _0xe248c7=await a0_0x2866c2({'method':_0x36b304(0x1c8),'url':_0x36b304(0x1b5)+_0x2a314a+_0x36b304(0x20d),'headers':{'Authorization':'Bearer\x20'+_0x3e2317}});const _0x3bbc52=_0xe248c7['data'],_0x2105bd=_0x3bbc52[_0x36b304(0x20c)][_0x36b304(0x1bb)](_0x5a468d=>({'name':_0x5a468d[_0x36b304(0x1b1)],'artist':_0x5a468d[_0x36b304(0x202)][_0x36b304(0x1bb)](_0x44ec47=>_0x44ec47[_0x36b304(0x1b1)])[_0x36b304(0x200)](',\x20'),'album':_0x36b304(0x1fc),'url':_0x5a468d['external_urls'][_0x36b304(0x218)],'thumbnail':_0x5a468d[_0x36b304(0x1de)][_0x36b304(0x21c)][0x0]?.[_0x36b304(0x1b6)]||''}));return{'album':{'name':'Top\x20Tracks'},'tracks':_0x2105bd};}async function spotifyTrack(_0x8abff2){const _0x1f5e1d=a0_0xc72af6;let _0x48dfa8;try{const _0x53760c=_0x8abff2['split']('/');_0x48dfa8=_0x53760c[_0x53760c[_0x1f5e1d(0x208)](_0x1f5e1d(0x1c5))+0x1]['split']('?')[0x0];}catch(_0x2ad906){throw new Error(_0x1f5e1d(0x1fd));}const _0x28ca0b=await getSpotifyToken();let _0xbea725=await a0_0x2866c2({'method':_0x1f5e1d(0x1c8),'url':_0x1f5e1d(0x1c2)+_0x48dfa8,'headers':{'Authorization':_0x1f5e1d(0x1b7)+_0x28ca0b}});const _0x3e9c91=_0xbea725[_0x1f5e1d(0x21b)];return{'name':_0x3e9c91['name'],'artist':_0x3e9c91[_0x1f5e1d(0x202)][_0x1f5e1d(0x1bb)](_0x319d12=>_0x319d12[_0x1f5e1d(0x1b1)])['join'](',\x20'),'album':_0x3e9c91[_0x1f5e1d(0x1de)]['name'],'url':_0x3e9c91[_0x1f5e1d(0x1c3)][_0x1f5e1d(0x218)],'thumbnail':_0x3e9c91[_0x1f5e1d(0x1de)][_0x1f5e1d(0x21c)][0x0]?.[_0x1f5e1d(0x1b6)]||''};}function timestamp(_0x3afffa){const _0x98f903=a0_0xc72af6,_0x1a6489=Math[_0x98f903(0x1c0)](_0x3afffa/0xea60),_0xad0e58=Math[_0x98f903(0x1c0)](_0x3afffa%0xea60/0x3e8);return _0x1a6489+':'+(_0xad0e58<0xa?'0':'')+_0xad0e58;}