const a0_0x2f3188=a0_0x1948;(function(_0x5439d1,_0xbfd4bc){const _0x5636bb=a0_0x1948,_0x3e13b1=_0x5439d1();while(!![]){try{const _0x5ab358=parseInt(_0x5636bb(0x20e))/0x1*(parseInt(_0x5636bb(0x1c1))/0x2)+-parseInt(_0x5636bb(0x210))/0x3*(parseInt(_0x5636bb(0x20d))/0x4)+-parseInt(_0x5636bb(0x1b4))/0x5*(parseInt(_0x5636bb(0x205))/0x6)+parseInt(_0x5636bb(0x1d7))/0x7*(parseInt(_0x5636bb(0x1c5))/0x8)+parseInt(_0x5636bb(0x1b9))/0x9*(parseInt(_0x5636bb(0x1bf))/0xa)+parseInt(_0x5636bb(0x200))/0xb*(parseInt(_0x5636bb(0x1c3))/0xc)+parseInt(_0x5636bb(0x1bb))/0xd*(-parseInt(_0x5636bb(0x1bc))/0xe);if(_0x5ab358===_0xbfd4bc)break;else _0x3e13b1['push'](_0x3e13b1['shift']());}catch(_0x2e6aae){_0x3e13b1['push'](_0x3e13b1['shift']());}}}(a0_0x4e23,0x440ca));import a0_0x400851 from'axios';import a0_0x4a6ad6 from'node-fetch';let spotifyTokenCache={'token':null,'expiresAt':0x0};async function getSpotifyToken(){const _0x125d6d=a0_0x1948,_0x416729=Date[_0x125d6d(0x1c9)]();if(spotifyTokenCache[_0x125d6d(0x1be)]&&spotifyTokenCache[_0x125d6d(0x1aa)]>_0x416729)return spotifyTokenCache[_0x125d6d(0x1be)];const _0x3407b1=await a0_0x400851({'method':_0x125d6d(0x1f8),'url':_0x125d6d(0x1ed),'headers':{'Content-Type':_0x125d6d(0x1ff),'Authorization':_0x125d6d(0x1d5)+Buffer['from']('acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009')[_0x125d6d(0x20b)](_0x125d6d(0x1b3))},'data':_0x125d6d(0x1cb)}),_0x21bf90=_0x3407b1[_0x125d6d(0x1bd)][_0x125d6d(0x1fe)];return spotifyTokenCache['token']=_0x21bf90,spotifyTokenCache[_0x125d6d(0x1aa)]=_0x416729+_0x3407b1['data']['expires_in']*0x3e8-0xea60,_0x21bf90;}async function getBuffer(_0x36a4e6){const _0x21be6b=a0_0x1948,_0x367f84=await a0_0x4a6ad6(_0x36a4e6);if(!_0x367f84['ok'])throw new Error(_0x21be6b(0x1ef)+_0x367f84[_0x21be6b(0x209)]);return await _0x367f84[_0x21be6b(0x1d4)]();}function a0_0x4e23(){const _0x34330c=['key','‚öîÔ∏è\x20Error:\x20No\x20ingresaste\x20ninguna\x20b√∫squeda\x20o\x20enlace.\x0a\x0aEjemplo:\x0a‚Ä¢\x20','indexOf','https://accounts.spotify.com/api/token','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20√°lbum.','Error\x20al\x20obtener\x20la\x20imagen:\x20','‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\x0a‚öîÔ∏è\x20Extracci√≥n\x20en\x20Curso\x0aüåü\x20Objetivo:\x20','Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a','album','‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2030%','url','https://api.spotify.com/v1/tracks/','then','√Ålbum:\x20','post','items','get','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±\x2060%','\x0aüí†\x20Progreso:\x20','‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%','access_token','application/x-www-form-urlencoded','10582dBiasq','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20el\x20√°lbum.','command','https://api.spotify.com/v1/search?q=','No\x20se\x20pudo\x20extraer\x20la\x20sombra\x20de:\x20','2940036ECmHMh','length','Bearer\x20','/top-tracks?market=US','statusText','tracks','toString','error','448eYtRcH','5zHhljh','audio/mpeg','1608EbNbLl','track','external_urls','https://api.spotify.com/v1/playlists/','expiresAt','&type=track','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2040%','thumbnail','images','artists','map','\x20https://open.spotify.com/artist/...','open.spotify.com/album','base64','5ojzaKA','‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2010%','join','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2050%','open.spotify.com/artist','63codWBw','.mp3','456261xRwxBr','56dPaKqz','data','token','394210EJPZdT','duration_ms','212526HLyjQw','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20artista.','1956KiIfQN','name','848dtWYXE','Top\x20Tracks','artist','No\x20se\x20pudieron\x20extraer\x20las\x20siguientes\x20sombras:\x0a','now','floor','grant_type=client_credentials','sendMessage','includes','title','‚ùå\x20*Error:*\x20','split','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20para\x20el\x20artista.','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20Fall√≥\x20la\x20extracci√≥n\x20de:\x20','Artista:\x20','buffer','Basic\x20','react','336troDpZ','spotify.com/track','\x20Bellyache\x0a‚Ä¢\x20','https://apis-starlights-team.koyeb.app/starlight/spotifydl?url=','\x0a‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20¬°Descargado!','message','json','chat','‚ùå\x20*Error:*\x20No\x20se\x20encontraron\x20resultados.','‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2020%','https://api.spotify.com/v1/artists/','https://api.spotify.com/v1/albums/','spotify','No\x20se\x20pudo\x20obtener\x20el\x20enlace\x20de\x20descarga\x20para\x20','music','\x20(Reintento)','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20track.','push'];a0_0x4e23=function(){return _0x34330c;};return a0_0x4e23();}function formatExtractionMessage(_0x26e8bf,_0x1aebd6,_0x10b0d5){const _0x397507=a0_0x1948;return _0x397507(0x1f0)+_0x26e8bf+'\x0aüõ†Ô∏è\x20Intento:\x20'+_0x1aebd6+_0x397507(0x1fc)+_0x10b0d5+_0x397507(0x1db);}async function progressWithSync(_0x5d7226,_0xd4f88a,_0x2d5f3b,_0x3f68f3,{objective:_0x381b79,attempt:_0x15501d,failedTrack:failedTrack=null}){const _0x13ec3b=a0_0x1948;let _0x464ae6=![];const _0x18969c=['‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%',_0x13ec3b(0x1b5),_0x13ec3b(0x1e1),_0x13ec3b(0x1f3),_0x13ec3b(0x1ac),_0x13ec3b(0x1b7),_0x13ec3b(0x1fb),'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±\x2070%','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±\x2080%','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±\x2090%'];let _0x414dbb=0x0;const _0x48fe67=0x12c,_0xf0c62=setInterval(async()=>{const _0xcf510b=_0x13ec3b;if(_0x414dbb<_0x18969c['length']){const _0x2ca3ca=formatExtractionMessage(_0x381b79,_0x15501d,_0x18969c[_0x414dbb]);await _0x5d7226[_0xcf510b(0x1cc)](_0xd4f88a[_0xcf510b(0x1df)],{'text':_0x2ca3ca,'edit':_0x2d5f3b[_0xcf510b(0x1ea)]}),_0x414dbb++;}},_0x48fe67);try{await _0x3f68f3;}catch(_0x37d250){_0x464ae6=!![];}clearInterval(_0xf0c62);const _0x1c63d9=_0x464ae6&&failedTrack?_0x13ec3b(0x1d2)+failedTrack:_0x13ec3b(0x1dc),_0x35ed2a=formatExtractionMessage(_0x381b79,_0x15501d,_0x1c63d9);await _0x5d7226['sendMessage'](_0xd4f88a[_0x13ec3b(0x1df)],{'text':_0x35ed2a,'edit':_0x2d5f3b[_0x13ec3b(0x1ea)]});}function a0_0x1948(_0x2e0c9a,_0x30659f){const _0x4e23c5=a0_0x4e23();return a0_0x1948=function(_0x1948cf,_0x5eb8bd){_0x1948cf=_0x1948cf-0x1a7;let _0x190d5c=_0x4e23c5[_0x1948cf];return _0x190d5c;},a0_0x1948(_0x2e0c9a,_0x30659f);}async function downloadWithRetries(_0x3da6c7,_0x5d1dc3,_0x223743,_0x12e7a2,_0x50c3e2){const _0x5bea95=a0_0x1948;let _0xa720d2=null;for(let _0x89ad75=0x1;_0x89ad75<=0x3;_0x89ad75++){try{const _0x3fcb1e=a0_0x4a6ad6(_0x5bea95(0x1da)+_0x3da6c7['url'])[_0x5bea95(0x1f6)](_0x4aced4=>_0x4aced4[_0x5bea95(0x1de)]());await progressWithSync(_0x5d1dc3,_0x223743,_0x12e7a2,_0x3fcb1e,{'objective':_0x50c3e2,'attempt':_0x89ad75,'failedTrack':_0x89ad75===0x3?_0x3da6c7[_0x5bea95(0x1c4)]:null}),_0xa720d2=await _0x3fcb1e;if(!_0xa720d2||!_0xa720d2['music'])throw new Error(_0x5bea95(0x1e5)+_0x3da6c7['name']);return _0xa720d2;}catch(_0x3a275b){if(_0x89ad75===0x3)return null;await new Promise(_0x524de9=>setTimeout(_0x524de9,0x3e8));}}return null;}let handler=async(_0x5406cc,{conn:_0x461f80,text:_0x2c4334,usedPrefix:_0x476c86,command:_0x209b6})=>{const _0x2acdb4=a0_0x1948;if(!_0x2c4334)throw _0x2acdb4(0x1eb)+(_0x476c86+_0x209b6)+_0x2acdb4(0x1d9)+(_0x476c86+_0x209b6)+'\x20https://open.spotify.com/track/...\x0a‚Ä¢\x20'+(_0x476c86+_0x209b6)+'\x20https://open.spotify.com/album/...\x0a‚Ä¢\x20'+(_0x476c86+_0x209b6)+'\x20https://open.spotify.com/playlist/...\x0a‚Ä¢\x20'+(_0x476c86+_0x209b6)+_0x2acdb4(0x1b1);try{await _0x5406cc[_0x2acdb4(0x1d6)]('‚è≥');let _0x246fe2=![],_0x548eaf=![],_0x3d12ca=![],_0x56be93;if(_0x2c4334[_0x2acdb4(0x1cd)](_0x2acdb4(0x1b2))){_0x246fe2=!![],_0x56be93=await spotifyAlbum(_0x2c4334);if(!_0x56be93?.['tracks']?.[_0x2acdb4(0x206)])throw'‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20el\x20√°lbum.';}else{if(_0x2c4334[_0x2acdb4(0x1cd)]('open.spotify.com/playlist')){_0x548eaf=!![],_0x56be93=await spotifyPlaylist(_0x2c4334);if(!_0x56be93?.['tracks']?.[_0x2acdb4(0x206)])throw'‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20la\x20playlist.';}else{if(_0x2c4334[_0x2acdb4(0x1cd)](_0x2acdb4(0x1b8))||_0x2c4334['includes']('spotify.com/artist')){_0x246fe2=!![],_0x3d12ca=!![],_0x56be93=await spotifyArtist(_0x2c4334);if(!_0x56be93?.['tracks']?.[_0x2acdb4(0x206)])throw _0x2acdb4(0x1d1);}else{if(_0x2c4334[_0x2acdb4(0x1cd)](_0x2acdb4(0x1d8)))_0x56be93={'tracks':[await spotifyTrack(_0x2c4334)]};else{if(_0x2c4334['toLowerCase']()[_0x2acdb4(0x1cd)]('album')){_0x246fe2=!![],_0x56be93=await spotifyAlbumSearch(_0x2c4334);if(!_0x56be93?.[_0x2acdb4(0x20a)]?.[_0x2acdb4(0x206)])throw _0x2acdb4(0x201);}else{const _0x5126b4=await spotifyxv(_0x2c4334);if(!_0x5126b4[_0x2acdb4(0x206)]||!_0x5126b4[0x0][_0x2acdb4(0x1f4)])throw _0x2acdb4(0x1e0);_0x56be93={'tracks':[_0x5126b4[0x0]]};}}}}}if(_0x246fe2||_0x548eaf){let _0x395ef0=[];for(let _0x3cb7d5=0x0;_0x3cb7d5<_0x56be93[_0x2acdb4(0x20a)]['length'];_0x3cb7d5++){const _0x5d9d33=_0x56be93['tracks'][_0x3cb7d5],_0x5161b1=_0x5d9d33[_0x2acdb4(0x1c4)]+'\x20('+(_0x3cb7d5+0x1)+'/'+_0x56be93[_0x2acdb4(0x20a)][_0x2acdb4(0x206)]+')',_0x4d4e91=formatExtractionMessage(_0x5161b1,0x1,_0x2acdb4(0x1fd)),_0x281f0a=await _0x461f80[_0x2acdb4(0x1cc)](_0x5406cc[_0x2acdb4(0x1df)],{'text':_0x4d4e91}),_0x43d251=await downloadWithRetries(_0x5d9d33,_0x461f80,_0x5406cc,_0x281f0a,_0x5161b1);_0x43d251?(await _0x461f80[_0x2acdb4(0x1cc)](_0x5406cc['chat'],{'delete':_0x281f0a['key']}),await _0x461f80[_0x2acdb4(0x1cc)](_0x5406cc[_0x2acdb4(0x1df)],{'audio':{'url':_0x43d251[_0x2acdb4(0x1e6)]},'fileName':_0x43d251[_0x2acdb4(0x1ce)]+_0x2acdb4(0x1ba),'mimetype':_0x2acdb4(0x20f),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x43d251[_0x2acdb4(0x1ce)],'body':'Artista:\x20'+_0x43d251[_0x2acdb4(0x1c7)],'description':_0x2acdb4(0x1f7)+_0x43d251['album'],'thumbnailUrl':_0x43d251[_0x2acdb4(0x1ad)]}}}),await new Promise(_0x51ff2b=>setTimeout(_0x51ff2b,0x7d0))):_0x395ef0[_0x2acdb4(0x1e9)](_0x5d9d33);}if(_0x395ef0[_0x2acdb4(0x206)]>0x0){let _0x1b8079=_0x395ef0[_0x2acdb4(0x1b0)](_0x3ed47e=>_0x3ed47e[_0x2acdb4(0x1c4)])[_0x2acdb4(0x1b6)]('\x0a');await _0x461f80[_0x2acdb4(0x1cc)](_0x5406cc[_0x2acdb4(0x1df)],{'text':_0x2acdb4(0x1f1)+_0x1b8079});let _0x272782=[];for(let _0x156e13 of _0x395ef0){const _0x4ee003=_0x156e13[_0x2acdb4(0x1c4)]+_0x2acdb4(0x1e7),_0xa2c19=formatExtractionMessage(_0x4ee003,0x1,_0x2acdb4(0x1fd)),_0x48488e=await _0x461f80['sendMessage'](_0x5406cc[_0x2acdb4(0x1df)],{'text':_0xa2c19}),_0x3bfb98=await downloadWithRetries(_0x156e13,_0x461f80,_0x5406cc,_0x48488e,_0x4ee003);_0x3bfb98?(await _0x461f80['sendMessage'](_0x5406cc[_0x2acdb4(0x1df)],{'delete':_0x48488e[_0x2acdb4(0x1ea)]}),await _0x461f80[_0x2acdb4(0x1cc)](_0x5406cc[_0x2acdb4(0x1df)],{'audio':{'url':_0x3bfb98[_0x2acdb4(0x1e6)]},'fileName':_0x3bfb98[_0x2acdb4(0x1ce)]+_0x2acdb4(0x1ba),'mimetype':_0x2acdb4(0x20f),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x3bfb98[_0x2acdb4(0x1ce)],'body':_0x2acdb4(0x1d3)+_0x3bfb98[_0x2acdb4(0x1c7)],'description':_0x2acdb4(0x1f7)+_0x3bfb98[_0x2acdb4(0x1f2)],'thumbnailUrl':_0x3bfb98[_0x2acdb4(0x1ad)]}}}),await new Promise(_0xe3d43e=>setTimeout(_0xe3d43e,0x7d0))):_0x272782['push'](_0x156e13);}if(_0x272782[_0x2acdb4(0x206)]>0x0){let _0x1efa1c=_0x272782[_0x2acdb4(0x1b0)](_0x203189=>_0x203189[_0x2acdb4(0x1c4)])[_0x2acdb4(0x1b6)]('\x0a');await _0x461f80[_0x2acdb4(0x1cc)](_0x5406cc['chat'],{'text':_0x2acdb4(0x1c8)+_0x1efa1c});}}}else{const _0x52240e=_0x56be93[_0x2acdb4(0x20a)][0x0],_0x3c65a2=_0x52240e[_0x2acdb4(0x1c4)]+'\x20(1/1)',_0x57f3ae=formatExtractionMessage(_0x3c65a2,0x1,_0x2acdb4(0x1fd)),_0x2fac74=await _0x461f80[_0x2acdb4(0x1cc)](_0x5406cc[_0x2acdb4(0x1df)],{'text':_0x57f3ae}),_0x3ddac3=await downloadWithRetries(_0x52240e,_0x461f80,_0x5406cc,_0x2fac74,_0x3c65a2);if(!_0x3ddac3){await _0x461f80[_0x2acdb4(0x1cc)](_0x5406cc[_0x2acdb4(0x1df)],{'text':_0x2acdb4(0x1f1)+_0x52240e['name']});const _0x2b401f=formatExtractionMessage(_0x3c65a2+_0x2acdb4(0x1e7),0x1,'‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%'),_0x1bc657=await _0x461f80[_0x2acdb4(0x1cc)](_0x5406cc[_0x2acdb4(0x1df)],{'text':_0x2b401f}),_0x2f82a0=await downloadWithRetries(_0x52240e,_0x461f80,_0x5406cc,_0x1bc657,_0x3c65a2+_0x2acdb4(0x1e7));!_0x2f82a0?await _0x461f80['sendMessage'](_0x5406cc['chat'],{'text':_0x2acdb4(0x204)+_0x52240e['name']}):(await _0x461f80[_0x2acdb4(0x1cc)](_0x5406cc['chat'],{'delete':_0x1bc657[_0x2acdb4(0x1ea)]}),await _0x461f80[_0x2acdb4(0x1cc)](_0x5406cc[_0x2acdb4(0x1df)],{'audio':{'url':_0x2f82a0[_0x2acdb4(0x1e6)]},'fileName':_0x2f82a0[_0x2acdb4(0x1ce)]+_0x2acdb4(0x1ba),'mimetype':_0x2acdb4(0x20f),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x2f82a0['title'],'body':_0x2acdb4(0x1d3)+_0x2f82a0['artist'],'description':_0x2acdb4(0x1f7)+_0x2f82a0[_0x2acdb4(0x1f2)],'thumbnailUrl':_0x2f82a0[_0x2acdb4(0x1ad)]}}}),await new Promise(_0x59bdd7=>setTimeout(_0x59bdd7,0x7d0)));}else await _0x461f80[_0x2acdb4(0x1cc)](_0x5406cc['chat'],{'delete':_0x2fac74['key']}),await _0x461f80[_0x2acdb4(0x1cc)](_0x5406cc['chat'],{'audio':{'url':_0x3ddac3[_0x2acdb4(0x1e6)]},'fileName':_0x3ddac3['title']+_0x2acdb4(0x1ba),'mimetype':_0x2acdb4(0x20f),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x3ddac3[_0x2acdb4(0x1ce)],'body':_0x2acdb4(0x1d3)+_0x3ddac3['artist'],'description':_0x2acdb4(0x1f7)+_0x3ddac3[_0x2acdb4(0x1f2)],'thumbnailUrl':_0x3ddac3[_0x2acdb4(0x1ad)]}}}),await _0x5406cc['react']('‚úÖ');}}catch(_0x18bafe){await _0x5406cc[_0x2acdb4(0x1d6)]('‚ùå'),await _0x5406cc['reply'](_0x2acdb4(0x1cf)+(_0x18bafe[_0x2acdb4(0x1dd)]||_0x18bafe)),console[_0x2acdb4(0x20c)](_0x18bafe);}};handler['help']=['spotify',a0_0x2f3188(0x1e6)],handler['tags']=['downloader'],handler[a0_0x2f3188(0x202)]=[a0_0x2f3188(0x1e4),a0_0x2f3188(0x1e6)],handler['group']=![];export default handler;async function spotifyxv(_0x1a47ca){const _0x37d47a=a0_0x2f3188,_0x56abec=await getSpotifyToken();try{let _0x3af42a=await a0_0x400851({'method':_0x37d47a(0x1fa),'url':_0x37d47a(0x203)+encodeURIComponent(_0x1a47ca)+_0x37d47a(0x1ab),'headers':{'Authorization':_0x37d47a(0x207)+_0x56abec}});const _0x45f415=_0x3af42a[_0x37d47a(0x1bd)]['tracks'][_0x37d47a(0x1f9)];return _0x45f415[_0x37d47a(0x1b0)](_0x555956=>({'name':_0x555956[_0x37d47a(0x1c4)],'artist':_0x555956[_0x37d47a(0x1af)][_0x37d47a(0x1b0)](_0x49a87a=>_0x49a87a[_0x37d47a(0x1c4)])[_0x37d47a(0x1b6)](',\x20'),'album':_0x555956[_0x37d47a(0x1f2)][_0x37d47a(0x1c4)],'duration':timestamp(_0x555956[_0x37d47a(0x1c0)]),'url':_0x555956[_0x37d47a(0x1a8)][_0x37d47a(0x1e4)],'thumbnail':_0x555956['album'][_0x37d47a(0x1ae)][0x0]?.[_0x37d47a(0x1f4)]||''}));}catch(_0x4b0074){return console[_0x37d47a(0x20c)](_0x4b0074),[];}}async function spotifyAlbum(_0x92042e){const _0x5a7d31=a0_0x2f3188;let _0x186aa2;try{const _0x5a1eac=_0x92042e[_0x5a7d31(0x1d0)]('/');_0x186aa2=_0x5a1eac[_0x5a1eac[_0x5a7d31(0x1ec)](_0x5a7d31(0x1f2))+0x1][_0x5a7d31(0x1d0)]('?')[0x0];}catch(_0x4e3f3e){throw new Error(_0x5a7d31(0x1ee));}const _0x5678ae=await getSpotifyToken();let _0x1d68a6=await a0_0x400851({'method':_0x5a7d31(0x1fa),'url':_0x5a7d31(0x1e3)+_0x186aa2,'headers':{'Authorization':_0x5a7d31(0x207)+_0x5678ae}});const _0x75c2b3=_0x1d68a6[_0x5a7d31(0x1bd)],_0x4da7e0=_0x75c2b3[_0x5a7d31(0x20a)]['items'][_0x5a7d31(0x1b0)](_0x2b1726=>({'name':_0x2b1726[_0x5a7d31(0x1c4)],'artist':_0x2b1726['artists'][_0x5a7d31(0x1b0)](_0x23ff69=>_0x23ff69[_0x5a7d31(0x1c4)])[_0x5a7d31(0x1b6)](',\x20'),'album':_0x75c2b3[_0x5a7d31(0x1c4)],'url':_0x2b1726['external_urls'][_0x5a7d31(0x1e4)],'thumbnail':_0x75c2b3['images'][0x0]?.[_0x5a7d31(0x1f4)]||''}));return{'album':_0x75c2b3,'tracks':_0x4da7e0};}async function spotifyAlbumSearch(_0x207690){const _0x572490=a0_0x2f3188,_0x47c9a1=await getSpotifyToken();let _0x3690a1=await a0_0x400851({'method':_0x572490(0x1fa),'url':_0x572490(0x203)+encodeURIComponent(_0x207690)+'&type=album','headers':{'Authorization':_0x572490(0x207)+_0x47c9a1}});const _0x2d02c5=_0x3690a1[_0x572490(0x1bd)]['albums'][_0x572490(0x1f9)];if(!_0x2d02c5[_0x572490(0x206)])return null;const _0x182e93=_0x2d02c5[0x0]['id'];let _0x346b45=await a0_0x400851({'method':_0x572490(0x1fa),'url':'https://api.spotify.com/v1/albums/'+_0x182e93,'headers':{'Authorization':'Bearer\x20'+_0x47c9a1}});const _0x18be3e=_0x346b45[_0x572490(0x1bd)],_0x1c3af8=_0x18be3e[_0x572490(0x20a)]['items'][_0x572490(0x1b0)](_0x137167=>({'name':_0x137167[_0x572490(0x1c4)],'artist':_0x137167[_0x572490(0x1af)]['map'](_0x53b067=>_0x53b067['name'])[_0x572490(0x1b6)](',\x20'),'album':_0x18be3e[_0x572490(0x1c4)],'url':_0x137167[_0x572490(0x1a8)][_0x572490(0x1e4)],'thumbnail':_0x18be3e['images'][0x0]?.[_0x572490(0x1f4)]||''}));return{'album':_0x18be3e,'tracks':_0x1c3af8};}async function spotifyPlaylist(_0x2b5bf9){const _0xea021=a0_0x2f3188;let _0x17cd6f;try{const _0x52a511=_0x2b5bf9[_0xea021(0x1d0)]('/');_0x17cd6f=_0x52a511[_0x52a511['indexOf']('playlist')+0x1][_0xea021(0x1d0)]('?')[0x0];}catch(_0x589dba){throw new Error('No\x20se\x20pudo\x20extraer\x20el\x20ID\x20de\x20la\x20playlist.');}const _0x364139=await getSpotifyToken();let _0x529dc0=await a0_0x400851({'method':_0xea021(0x1fa),'url':_0xea021(0x1a9)+_0x17cd6f,'headers':{'Authorization':_0xea021(0x207)+_0x364139}});const _0x37b30b=_0x529dc0[_0xea021(0x1bd)],_0x5e563c=_0x37b30b[_0xea021(0x20a)][_0xea021(0x1f9)][_0xea021(0x1b0)](_0x210e7a=>{const _0x209fc3=_0xea021,_0xc8699d=_0x210e7a[_0x209fc3(0x1a7)];return{'name':_0xc8699d[_0x209fc3(0x1c4)],'artist':_0xc8699d[_0x209fc3(0x1af)][_0x209fc3(0x1b0)](_0x459f6c=>_0x459f6c[_0x209fc3(0x1c4)])[_0x209fc3(0x1b6)](',\x20'),'album':_0x37b30b[_0x209fc3(0x1c4)],'url':_0xc8699d[_0x209fc3(0x1a8)]['spotify'],'thumbnail':_0xc8699d['album']['images'][0x0]?.['url']||''};});return{'album':{'name':_0x37b30b[_0xea021(0x1c4)]},'tracks':_0x5e563c};}async function spotifyArtist(_0x4f67a5){const _0x57cb38=a0_0x2f3188;let _0x46e710;try{const _0x5a61ba=_0x4f67a5['split']('/');_0x46e710=_0x5a61ba[_0x5a61ba[_0x57cb38(0x1ec)](_0x57cb38(0x1c7))+0x1]['split']('?')[0x0];}catch(_0xe117b2){throw new Error(_0x57cb38(0x1c2));}const _0x27e8e3=await getSpotifyToken();let _0x2f3c00=await a0_0x400851({'method':'get','url':_0x57cb38(0x1e2)+_0x46e710+_0x57cb38(0x208),'headers':{'Authorization':_0x57cb38(0x207)+_0x27e8e3}});const _0x50e605=_0x2f3c00[_0x57cb38(0x1bd)],_0x47fd44=_0x50e605[_0x57cb38(0x20a)][_0x57cb38(0x1b0)](_0x134a4f=>({'name':_0x134a4f[_0x57cb38(0x1c4)],'artist':_0x134a4f[_0x57cb38(0x1af)][_0x57cb38(0x1b0)](_0x222084=>_0x222084[_0x57cb38(0x1c4)])[_0x57cb38(0x1b6)](',\x20'),'album':'Top\x20Tracks','url':_0x134a4f[_0x57cb38(0x1a8)]['spotify'],'thumbnail':_0x134a4f[_0x57cb38(0x1f2)][_0x57cb38(0x1ae)][0x0]?.[_0x57cb38(0x1f4)]||''}));return{'album':{'name':_0x57cb38(0x1c6)},'tracks':_0x47fd44};}async function spotifyTrack(_0x2e7403){const _0x2bedfa=a0_0x2f3188;let _0x2970fe;try{const _0x1afaed=_0x2e7403[_0x2bedfa(0x1d0)]('/');_0x2970fe=_0x1afaed[_0x1afaed[_0x2bedfa(0x1ec)](_0x2bedfa(0x1a7))+0x1]['split']('?')[0x0];}catch(_0x2c7d0b){throw new Error(_0x2bedfa(0x1e8));}const _0x157bd0=await getSpotifyToken();let _0x1b95f3=await a0_0x400851({'method':'get','url':_0x2bedfa(0x1f5)+_0x2970fe,'headers':{'Authorization':_0x2bedfa(0x207)+_0x157bd0}});const _0x12491c=_0x1b95f3[_0x2bedfa(0x1bd)];return{'name':_0x12491c[_0x2bedfa(0x1c4)],'artist':_0x12491c[_0x2bedfa(0x1af)]['map'](_0x4a36d5=>_0x4a36d5['name'])[_0x2bedfa(0x1b6)](',\x20'),'album':_0x12491c[_0x2bedfa(0x1f2)]['name'],'url':_0x12491c[_0x2bedfa(0x1a8)]['spotify'],'thumbnail':_0x12491c[_0x2bedfa(0x1f2)]['images'][0x0]?.[_0x2bedfa(0x1f4)]||''};}function timestamp(_0x1b0bbc){const _0xcf1d61=a0_0x2f3188,_0x530a2d=Math[_0xcf1d61(0x1ca)](_0x1b0bbc/0xea60),_0x2ca7b2=Math[_0xcf1d61(0x1ca)](_0x1b0bbc%0xea60/0x3e8);return _0x530a2d+':'+(_0x2ca7b2<0xa?'0':'')+_0x2ca7b2;}