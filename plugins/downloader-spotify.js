const a0_0x3ce48f=a0_0x5ebc;(function(_0x38453b,_0x57e6c4){const _0x541079=a0_0x5ebc,_0xd995e3=_0x38453b();while(!![]){try{const _0x3eb922=-parseInt(_0x541079(0x1bf))/0x1*(-parseInt(_0x541079(0x1b9))/0x2)+parseInt(_0x541079(0x1ca))/0x3*(-parseInt(_0x541079(0x19d))/0x4)+-parseInt(_0x541079(0x1d1))/0x5*(parseInt(_0x541079(0x202))/0x6)+parseInt(_0x541079(0x1dc))/0x7*(parseInt(_0x541079(0x20b))/0x8)+-parseInt(_0x541079(0x1fc))/0x9*(-parseInt(_0x541079(0x1d6))/0xa)+-parseInt(_0x541079(0x209))/0xb+parseInt(_0x541079(0x1ff))/0xc;if(_0x3eb922===_0x57e6c4)break;else _0xd995e3['push'](_0xd995e3['shift']());}catch(_0x10bb47){_0xd995e3['push'](_0xd995e3['shift']());}}}(a0_0x3ea4,0x821e9));import a0_0x308c84 from'axios';import a0_0x3b249f from'node-fetch';let spotifyTokenCache={'token':null,'expiresAt':0x0};async function getSpotifyToken(){const _0x3304e1=a0_0x5ebc,_0x5e345a=Date[_0x3304e1(0x1b6)]();if(spotifyTokenCache['token']&&spotifyTokenCache[_0x3304e1(0x1d4)]>_0x5e345a)return spotifyTokenCache[_0x3304e1(0x1a3)];const _0x3c9a31=await a0_0x308c84({'method':_0x3304e1(0x1c1),'url':_0x3304e1(0x1c4),'headers':{'Content-Type':'application/x-www-form-urlencoded','Authorization':_0x3304e1(0x1b3)+Buffer[_0x3304e1(0x1d3)](_0x3304e1(0x1bb))[_0x3304e1(0x1de)](_0x3304e1(0x1fe))},'data':'grant_type=client_credentials'}),_0x3c344c=_0x3c9a31[_0x3304e1(0x1c8)]['access_token'];return spotifyTokenCache[_0x3304e1(0x1a3)]=_0x3c344c,spotifyTokenCache[_0x3304e1(0x1d4)]=_0x5e345a+_0x3c9a31[_0x3304e1(0x1c8)][_0x3304e1(0x1c5)]*0x3e8-0xea60,_0x3c344c;}function a0_0x5ebc(_0x264b53,_0x3a89d5){const _0x3ea4bf=a0_0x3ea4();return a0_0x5ebc=function(_0x5ebc3d,_0x185b59){_0x5ebc3d=_0x5ebc3d-0x19b;let _0x52586d=_0x3ea4bf[_0x5ebc3d];return _0x52586d;},a0_0x5ebc(_0x264b53,_0x3a89d5);}async function getBuffer(_0x38bea5){const _0x3adaf3=a0_0x5ebc,_0x1e0f19=await a0_0x3b249f(_0x38bea5);if(!_0x1e0f19['ok'])throw new Error(_0x3adaf3(0x1c6)+_0x1e0f19[_0x3adaf3(0x200)]);return await _0x1e0f19[_0x3adaf3(0x1f1)]();}function formatExtractionMessage(_0x57dd0f,_0x249e4f,_0x7dc92a){const _0x324917=a0_0x5ebc;return _0x324917(0x1d9)+_0x57dd0f+_0x324917(0x1c9)+_0x249e4f+_0x324917(0x1b4)+_0x7dc92a+'\x0a‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ';}async function progressWithSync(_0x397088,_0x2589c2,_0xac8f7d,_0x1417ed,{objective:_0x120534,attempt:_0x5bc1f4,failedTrack:failedTrack=null}){const _0x2f88e1=a0_0x5ebc;let _0x55a380=![];const _0x436f86=[_0x2f88e1(0x1e2),_0x2f88e1(0x1ce),'‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2020%',_0x2f88e1(0x1af),_0x2f88e1(0x1b1),_0x2f88e1(0x1a5),_0x2f88e1(0x208),'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±\x2070%',_0x2f88e1(0x1f6),_0x2f88e1(0x1f7)];let _0x145630=0x0;const _0x44feca=0x12c,_0x29fd70=setInterval(async()=>{const _0x43fe2b=_0x2f88e1;if(_0x145630<_0x436f86[_0x43fe2b(0x1d0)]){const _0x10c52e=formatExtractionMessage(_0x120534,_0x5bc1f4,_0x436f86[_0x145630]);await _0x397088[_0x43fe2b(0x205)](_0x2589c2[_0x43fe2b(0x1e9)],{'text':_0x10c52e,'edit':_0xac8f7d[_0x43fe2b(0x1bd)]}),_0x145630++;}},_0x44feca);try{await _0x1417ed;}catch(_0x5b5a73){_0x55a380=!![];}clearInterval(_0x29fd70);const _0x14db0c=_0x55a380&&failedTrack?_0x2f88e1(0x1bc)+failedTrack:_0x2f88e1(0x1f8),_0x1303ab=formatExtractionMessage(_0x120534,_0x5bc1f4,_0x14db0c);await _0x397088[_0x2f88e1(0x205)](_0x2589c2[_0x2f88e1(0x1e9)],{'text':_0x1303ab,'edit':_0xac8f7d[_0x2f88e1(0x1bd)]});}async function downloadWithRetries(_0x57f8d8,_0x461d34,_0xdc7a2c,_0x2173d8,_0x3e59b4){const _0xcac185=a0_0x5ebc;let _0x4d1157=null;for(let _0x44c051=0x1;_0x44c051<=0x3;_0x44c051++){try{const _0x2f2820=a0_0x3b249f(_0xcac185(0x1f9)+_0x57f8d8[_0xcac185(0x1a7)])[_0xcac185(0x1cc)](_0x46cf23=>_0x46cf23['json']());await progressWithSync(_0x461d34,_0xdc7a2c,_0x2173d8,_0x2f2820,{'objective':_0x3e59b4,'attempt':_0x44c051,'failedTrack':_0x44c051===0x3?_0x57f8d8[_0xcac185(0x1cb)]:null}),_0x4d1157=await _0x2f2820;if(!_0x4d1157||!_0x4d1157[_0xcac185(0x1b8)])throw new Error('No\x20se\x20pudo\x20obtener\x20el\x20enlace\x20de\x20descarga\x20para\x20'+_0x57f8d8[_0xcac185(0x1cb)]);return _0x4d1157;}catch(_0x43721f){if(_0x44c051===0x3)return null;await new Promise(_0x524744=>setTimeout(_0x524744,0x3e8));}}return null;}let handler=async(_0x16c0bf,{conn:_0x505b19,text:_0x22deff,usedPrefix:_0x26a54b,command:_0x37e17f})=>{const _0x40889b=a0_0x5ebc;if(!_0x22deff)throw _0x40889b(0x1a2)+(_0x26a54b+_0x37e17f)+_0x40889b(0x1e0)+(_0x26a54b+_0x37e17f)+_0x40889b(0x1dd)+(_0x26a54b+_0x37e17f)+_0x40889b(0x1eb)+(_0x26a54b+_0x37e17f)+_0x40889b(0x1e8)+(_0x26a54b+_0x37e17f)+_0x40889b(0x1e6);try{await _0x16c0bf[_0x40889b(0x1e3)]('‚è≥');let _0x473a5e=![],_0xd944d=![],_0x68650a=![],_0x3023f4;if(_0x22deff['includes'](_0x40889b(0x1ba))){_0x473a5e=!![],_0x3023f4=await spotifyAlbum(_0x22deff);if(!_0x3023f4?.[_0x40889b(0x1c7)]?.[_0x40889b(0x1d0)])throw _0x40889b(0x1b2);}else{if(_0x22deff[_0x40889b(0x1f3)](_0x40889b(0x1f5))){_0xd944d=!![],_0x3023f4=await spotifyPlaylist(_0x22deff);if(!_0x3023f4?.[_0x40889b(0x1c7)]?.['length'])throw _0x40889b(0x1fa);}else{if(_0x22deff[_0x40889b(0x1f3)](_0x40889b(0x1fd))||_0x22deff['includes']('spotify.com/artist')){_0x473a5e=!![],_0x68650a=!![],_0x3023f4=await spotifyArtist(_0x22deff);if(!_0x3023f4?.['tracks']?.[_0x40889b(0x1d0)])throw _0x40889b(0x1ea);}else{if(_0x22deff['includes'](_0x40889b(0x1d5)))_0x3023f4={'tracks':[await spotifyTrack(_0x22deff)]};else{if(_0x22deff[_0x40889b(0x1ec)]()[_0x40889b(0x1f3)]('album')){_0x473a5e=!![],_0x3023f4=await spotifyAlbumSearch(_0x22deff);if(!_0x3023f4?.['tracks']?.[_0x40889b(0x1d0)])throw _0x40889b(0x1b2);}else{const _0x1fc5d6=await spotifyxv(_0x22deff);if(!_0x1fc5d6[_0x40889b(0x1d0)]||!_0x1fc5d6[0x0][_0x40889b(0x1a7)])throw _0x40889b(0x19b);_0x3023f4={'tracks':[_0x1fc5d6[0x0]]};}}}}}if(_0x473a5e||_0xd944d){let _0x2b2e48=[];for(let _0x3f7bfe=0x0;_0x3f7bfe<_0x3023f4[_0x40889b(0x1c7)][_0x40889b(0x1d0)];_0x3f7bfe++){const _0x2372fa=_0x3023f4[_0x40889b(0x1c7)][_0x3f7bfe],_0x59b66e=_0x2372fa[_0x40889b(0x1cb)]+'\x20('+(_0x3f7bfe+0x1)+'/'+_0x3023f4['tracks'][_0x40889b(0x1d0)]+')',_0x9aba5d=formatExtractionMessage(_0x59b66e,0x1,_0x40889b(0x1e2)),_0x27953c=await _0x505b19[_0x40889b(0x205)](_0x16c0bf[_0x40889b(0x1e9)],{'text':_0x9aba5d}),_0x29c8ef=await downloadWithRetries(_0x2372fa,_0x505b19,_0x16c0bf,_0x27953c,_0x59b66e);_0x29c8ef?(await _0x505b19[_0x40889b(0x205)](_0x16c0bf[_0x40889b(0x1e9)],{'delete':_0x27953c[_0x40889b(0x1bd)]}),await _0x505b19[_0x40889b(0x205)](_0x16c0bf['chat'],{'audio':{'url':_0x29c8ef[_0x40889b(0x1b8)]},'fileName':_0x29c8ef[_0x40889b(0x1aa)]+_0x40889b(0x1df),'mimetype':_0x40889b(0x1b0),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x29c8ef['title'],'body':_0x40889b(0x1ae)+_0x29c8ef[_0x40889b(0x19f)],'description':_0x40889b(0x1fb)+_0x29c8ef[_0x40889b(0x1c3)],'thumbnailUrl':_0x29c8ef[_0x40889b(0x1ac)]}}}),await new Promise(_0x306074=>setTimeout(_0x306074,0x7d0))):_0x2b2e48[_0x40889b(0x1d2)](_0x2372fa);}if(_0x2b2e48[_0x40889b(0x1d0)]>0x0){let _0x1c157c=_0x2b2e48[_0x40889b(0x1a9)](_0x73cad1=>_0x73cad1[_0x40889b(0x1cb)])['join']('\x0a');await _0x505b19[_0x40889b(0x205)](_0x16c0bf[_0x40889b(0x1e9)],{'text':_0x40889b(0x1ef)+_0x1c157c});let _0x7edb04=[];for(let _0x44c284 of _0x2b2e48){const _0x123dab=_0x44c284[_0x40889b(0x1cb)]+_0x40889b(0x1c2),_0x22f014=formatExtractionMessage(_0x123dab,0x1,'‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%'),_0x1c52a6=await _0x505b19[_0x40889b(0x205)](_0x16c0bf[_0x40889b(0x1e9)],{'text':_0x22f014}),_0x976bc=await downloadWithRetries(_0x44c284,_0x505b19,_0x16c0bf,_0x1c52a6,_0x123dab);_0x976bc?(await _0x505b19['sendMessage'](_0x16c0bf[_0x40889b(0x1e9)],{'delete':_0x1c52a6['key']}),await _0x505b19['sendMessage'](_0x16c0bf['chat'],{'audio':{'url':_0x976bc[_0x40889b(0x1b8)]},'fileName':_0x976bc['title']+_0x40889b(0x1df),'mimetype':_0x40889b(0x1b0),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x976bc[_0x40889b(0x1aa)],'body':_0x40889b(0x1ae)+_0x976bc['artist'],'description':_0x40889b(0x1fb)+_0x976bc['album'],'thumbnailUrl':_0x976bc[_0x40889b(0x1ac)]}}}),await new Promise(_0x5e1e95=>setTimeout(_0x5e1e95,0x7d0))):_0x7edb04[_0x40889b(0x1d2)](_0x44c284);}if(_0x7edb04[_0x40889b(0x1d0)]>0x0){let _0x19fc70=_0x7edb04['map'](_0x1dd44a=>_0x1dd44a[_0x40889b(0x1cb)])[_0x40889b(0x1ad)]('\x0a');await _0x505b19['sendMessage'](_0x16c0bf[_0x40889b(0x1e9)],{'text':'No\x20se\x20pudieron\x20extraer\x20las\x20siguientes\x20sombras:\x0a'+_0x19fc70});}}}else{const _0x19b076=_0x3023f4[_0x40889b(0x1c7)][0x0],_0xf00d98=_0x19b076[_0x40889b(0x1cb)]+_0x40889b(0x1a4),_0x4a1f2d=formatExtractionMessage(_0xf00d98,0x1,_0x40889b(0x1e2)),_0x2e398b=await _0x505b19[_0x40889b(0x205)](_0x16c0bf[_0x40889b(0x1e9)],{'text':_0x4a1f2d}),_0x3c6f10=await downloadWithRetries(_0x19b076,_0x505b19,_0x16c0bf,_0x2e398b,_0xf00d98);if(!_0x3c6f10){await _0x505b19[_0x40889b(0x205)](_0x16c0bf[_0x40889b(0x1e9)],{'text':_0x40889b(0x1ef)+_0x19b076[_0x40889b(0x1cb)]});const _0x17d7e9=formatExtractionMessage(_0xf00d98+'\x20(Reintento)',0x1,_0x40889b(0x1e2)),_0x522384=await _0x505b19[_0x40889b(0x205)](_0x16c0bf['chat'],{'text':_0x17d7e9}),_0x2006fd=await downloadWithRetries(_0x19b076,_0x505b19,_0x16c0bf,_0x522384,_0xf00d98+_0x40889b(0x1c2));!_0x2006fd?await _0x505b19[_0x40889b(0x205)](_0x16c0bf[_0x40889b(0x1e9)],{'text':_0x40889b(0x1a8)+_0x19b076[_0x40889b(0x1cb)]}):(await _0x505b19[_0x40889b(0x205)](_0x16c0bf[_0x40889b(0x1e9)],{'delete':_0x522384[_0x40889b(0x1bd)]}),await _0x505b19[_0x40889b(0x205)](_0x16c0bf[_0x40889b(0x1e9)],{'audio':{'url':_0x2006fd[_0x40889b(0x1b8)]},'fileName':_0x2006fd[_0x40889b(0x1aa)]+_0x40889b(0x1df),'mimetype':_0x40889b(0x1b0),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x2006fd['title'],'body':_0x40889b(0x1ae)+_0x2006fd[_0x40889b(0x19f)],'description':_0x40889b(0x1fb)+_0x2006fd[_0x40889b(0x1c3)],'thumbnailUrl':_0x2006fd[_0x40889b(0x1ac)]}}}),await new Promise(_0x5580b0=>setTimeout(_0x5580b0,0x7d0)));}else await _0x505b19[_0x40889b(0x205)](_0x16c0bf[_0x40889b(0x1e9)],{'delete':_0x2e398b['key']}),await _0x505b19[_0x40889b(0x205)](_0x16c0bf[_0x40889b(0x1e9)],{'audio':{'url':_0x3c6f10[_0x40889b(0x1b8)]},'fileName':_0x3c6f10[_0x40889b(0x1aa)]+_0x40889b(0x1df),'mimetype':_0x40889b(0x1b0),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x3c6f10['title'],'body':_0x40889b(0x1ae)+_0x3c6f10[_0x40889b(0x19f)],'description':_0x40889b(0x1fb)+_0x3c6f10[_0x40889b(0x1c3)],'thumbnailUrl':_0x3c6f10[_0x40889b(0x1ac)]}}}),await _0x16c0bf[_0x40889b(0x1e3)]('‚úÖ');}}catch(_0x17ea73){await _0x16c0bf['react']('‚ùå'),await _0x16c0bf[_0x40889b(0x203)]('‚ùå\x20*Error:*\x20'+(_0x17ea73[_0x40889b(0x19e)]||_0x17ea73)),console[_0x40889b(0x1a6)](_0x17ea73);}};handler[a0_0x3ce48f(0x1db)]=[a0_0x3ce48f(0x1e1),a0_0x3ce48f(0x1b8)],handler[a0_0x3ce48f(0x1f4)]=[a0_0x3ce48f(0x1d7)],handler[a0_0x3ce48f(0x19c)]=[a0_0x3ce48f(0x1e1),'music'],handler[a0_0x3ce48f(0x1da)]=![];function a0_0x3ea4(){const _0x4db23d=['\x0aüí†\x20Progreso:\x20','Bearer\x20','now','https://api.spotify.com/v1/search?q=','music','1312694OVntUe','open.spotify.com/album','acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20Fall√≥\x20la\x20extracci√≥n\x20de:\x20','key','albums','1MajJdZ','indexOf','post','\x20(Reintento)','album','https://accounts.spotify.com/api/token','expires_in','Error\x20al\x20obtener\x20la\x20imagen:\x20','tracks','data','\x0aüõ†Ô∏è\x20Intento:\x20','3XYCLHZ','name','then','https://api.spotify.com/v1/albums/','‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2010%','floor','length','2369935FdAHSe','push','from','expiresAt','spotify.com/track','1290iVGIax','downloader','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20de\x20la\x20playlist.','‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\x0a‚öîÔ∏è\x20Extracci√≥n\x20en\x20Curso\x0aüåü\x20Objetivo:\x20','group','help','14VhLFDC','\x20https://open.spotify.com/track/...\x0a‚Ä¢\x20','toString','.mp3','\x20Bellyache\x0a‚Ä¢\x20','spotify','‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%','react','&type=track','artists','\x20https://open.spotify.com/artist/...','https://api.spotify.com/v1/artists/','\x20https://open.spotify.com/playlist/...\x0a‚Ä¢\x20','chat','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20para\x20el\x20artista.','\x20https://open.spotify.com/album/...\x0a‚Ä¢\x20','toLowerCase','https://api.spotify.com/v1/tracks/','split','Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a','/top-tracks?market=US','buffer','images','includes','tags','open.spotify.com/playlist','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±\x2080%','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±\x2090%','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20¬°Descargado!','https://apis-starlights-team.koyeb.app/starlight/spotifydl?url=','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20la\x20playlist.','√Ålbum:\x20','2133XGhxsq','open.spotify.com/artist','base64','10985400DQPXjl','statusText','track','6GEviPG','reply','playlist','sendMessage','external_urls','items','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±\x2060%','48697VwEssk','get','1223608gVnlZq','‚ùå\x20*Error:*\x20No\x20se\x20encontraron\x20resultados.','command','3587556eomWVs','message','artist','Top\x20Tracks','&type=album','‚öîÔ∏è\x20Error:\x20No\x20ingresaste\x20ninguna\x20b√∫squeda\x20o\x20enlace.\x0a\x0aEjemplo:\x0a‚Ä¢\x20','token','\x20(1/1)','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2050%','error','url','No\x20se\x20pudo\x20extraer\x20la\x20sombra\x20de:\x20','map','title','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20√°lbum.','thumbnail','join','Artista:\x20','‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2030%','audio/mpeg','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2040%','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20el\x20√°lbum.','Basic\x20'];a0_0x3ea4=function(){return _0x4db23d;};return a0_0x3ea4();}export default handler;async function spotifyxv(_0x203df9){const _0xdc7fdc=a0_0x3ce48f,_0x4efc36=await getSpotifyToken();try{let _0x10b119=await a0_0x308c84({'method':'get','url':_0xdc7fdc(0x1b7)+encodeURIComponent(_0x203df9)+_0xdc7fdc(0x1e4),'headers':{'Authorization':'Bearer\x20'+_0x4efc36}});const _0x565fe1=_0x10b119[_0xdc7fdc(0x1c8)][_0xdc7fdc(0x1c7)][_0xdc7fdc(0x207)];return _0x565fe1[_0xdc7fdc(0x1a9)](_0x3bbb64=>({'name':_0x3bbb64[_0xdc7fdc(0x1cb)],'artist':_0x3bbb64[_0xdc7fdc(0x1e5)]['map'](_0x2d9189=>_0x2d9189[_0xdc7fdc(0x1cb)])['join'](',\x20'),'album':_0x3bbb64[_0xdc7fdc(0x1c3)][_0xdc7fdc(0x1cb)],'duration':timestamp(_0x3bbb64['duration_ms']),'url':_0x3bbb64[_0xdc7fdc(0x206)][_0xdc7fdc(0x1e1)],'thumbnail':_0x3bbb64[_0xdc7fdc(0x1c3)]['images'][0x0]?.[_0xdc7fdc(0x1a7)]||''}));}catch(_0x27977e){return console[_0xdc7fdc(0x1a6)](_0x27977e),[];}}async function spotifyAlbum(_0x4cceb8){const _0x38b2bd=a0_0x3ce48f;let _0x32c186;try{const _0x428b89=_0x4cceb8['split']('/');_0x32c186=_0x428b89[_0x428b89['indexOf']('album')+0x1][_0x38b2bd(0x1ee)]('?')[0x0];}catch(_0x3d14ca){throw new Error(_0x38b2bd(0x1ab));}const _0x27c134=await getSpotifyToken();let _0x3c34f0=await a0_0x308c84({'method':_0x38b2bd(0x20a),'url':_0x38b2bd(0x1cd)+_0x32c186,'headers':{'Authorization':_0x38b2bd(0x1b5)+_0x27c134}});const _0x42979f=_0x3c34f0[_0x38b2bd(0x1c8)],_0x3e374b=_0x42979f[_0x38b2bd(0x1c7)][_0x38b2bd(0x207)][_0x38b2bd(0x1a9)](_0x4ef612=>({'name':_0x4ef612[_0x38b2bd(0x1cb)],'artist':_0x4ef612['artists'][_0x38b2bd(0x1a9)](_0x3b1f81=>_0x3b1f81[_0x38b2bd(0x1cb)])[_0x38b2bd(0x1ad)](',\x20'),'album':_0x42979f[_0x38b2bd(0x1cb)],'url':_0x4ef612['external_urls'][_0x38b2bd(0x1e1)],'thumbnail':_0x42979f[_0x38b2bd(0x1f2)][0x0]?.['url']||''}));return{'album':_0x42979f,'tracks':_0x3e374b};}async function spotifyAlbumSearch(_0x10caf0){const _0x218913=a0_0x3ce48f,_0x538bc3=await getSpotifyToken();let _0x4a1bc4=await a0_0x308c84({'method':_0x218913(0x20a),'url':_0x218913(0x1b7)+encodeURIComponent(_0x10caf0)+_0x218913(0x1a1),'headers':{'Authorization':_0x218913(0x1b5)+_0x538bc3}});const _0x51a992=_0x4a1bc4[_0x218913(0x1c8)][_0x218913(0x1be)][_0x218913(0x207)];if(!_0x51a992['length'])return null;const _0x511af0=_0x51a992[0x0]['id'];let _0x9c24d6=await a0_0x308c84({'method':_0x218913(0x20a),'url':_0x218913(0x1cd)+_0x511af0,'headers':{'Authorization':_0x218913(0x1b5)+_0x538bc3}});const _0x1ce0e7=_0x9c24d6[_0x218913(0x1c8)],_0x56e0cd=_0x1ce0e7[_0x218913(0x1c7)][_0x218913(0x207)][_0x218913(0x1a9)](_0x47e9f3=>({'name':_0x47e9f3[_0x218913(0x1cb)],'artist':_0x47e9f3[_0x218913(0x1e5)][_0x218913(0x1a9)](_0x3d784c=>_0x3d784c[_0x218913(0x1cb)])[_0x218913(0x1ad)](',\x20'),'album':_0x1ce0e7[_0x218913(0x1cb)],'url':_0x47e9f3[_0x218913(0x206)]['spotify'],'thumbnail':_0x1ce0e7['images'][0x0]?.[_0x218913(0x1a7)]||''}));return{'album':_0x1ce0e7,'tracks':_0x56e0cd};}async function spotifyPlaylist(_0x205139){const _0x56b9ab=a0_0x3ce48f;let _0x12c526;try{const _0x1c21ff=_0x205139[_0x56b9ab(0x1ee)]('/');_0x12c526=_0x1c21ff[_0x1c21ff[_0x56b9ab(0x1c0)](_0x56b9ab(0x204))+0x1][_0x56b9ab(0x1ee)]('?')[0x0];}catch(_0x364e2e){throw new Error(_0x56b9ab(0x1d8));}const _0x3f4576=await getSpotifyToken();let _0x571602=await a0_0x308c84({'method':_0x56b9ab(0x20a),'url':'https://api.spotify.com/v1/playlists/'+_0x12c526,'headers':{'Authorization':'Bearer\x20'+_0x3f4576}});const _0x5c306b=_0x571602[_0x56b9ab(0x1c8)],_0x32836f=_0x5c306b[_0x56b9ab(0x1c7)]['items'][_0x56b9ab(0x1a9)](_0x365cfe=>{const _0x1fc9b5=_0x56b9ab,_0x1a21c7=_0x365cfe[_0x1fc9b5(0x201)];return{'name':_0x1a21c7[_0x1fc9b5(0x1cb)],'artist':_0x1a21c7[_0x1fc9b5(0x1e5)][_0x1fc9b5(0x1a9)](_0x290555=>_0x290555[_0x1fc9b5(0x1cb)])[_0x1fc9b5(0x1ad)](',\x20'),'album':_0x5c306b[_0x1fc9b5(0x1cb)],'url':_0x1a21c7[_0x1fc9b5(0x206)]['spotify'],'thumbnail':_0x1a21c7[_0x1fc9b5(0x1c3)][_0x1fc9b5(0x1f2)][0x0]?.['url']||''};});return{'album':{'name':_0x5c306b['name']},'tracks':_0x32836f};}async function spotifyArtist(_0x43a79d){const _0x11a999=a0_0x3ce48f;let _0x390a5c;try{const _0x20564c=_0x43a79d[_0x11a999(0x1ee)]('/');_0x390a5c=_0x20564c[_0x20564c['indexOf'](_0x11a999(0x19f))+0x1][_0x11a999(0x1ee)]('?')[0x0];}catch(_0x3581c8){throw new Error('No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20artista.');}const _0x51cf3b=await getSpotifyToken();let _0x4af8b9=await a0_0x308c84({'method':_0x11a999(0x20a),'url':_0x11a999(0x1e7)+_0x390a5c+_0x11a999(0x1f0),'headers':{'Authorization':'Bearer\x20'+_0x51cf3b}});const _0x43b3b6=_0x4af8b9['data'],_0x5b0014=_0x43b3b6[_0x11a999(0x1c7)][_0x11a999(0x1a9)](_0x457c83=>({'name':_0x457c83[_0x11a999(0x1cb)],'artist':_0x457c83[_0x11a999(0x1e5)]['map'](_0xb7d40b=>_0xb7d40b[_0x11a999(0x1cb)])[_0x11a999(0x1ad)](',\x20'),'album':_0x11a999(0x1a0),'url':_0x457c83[_0x11a999(0x206)]['spotify'],'thumbnail':_0x457c83[_0x11a999(0x1c3)][_0x11a999(0x1f2)][0x0]?.[_0x11a999(0x1a7)]||''}));return{'album':{'name':_0x11a999(0x1a0)},'tracks':_0x5b0014};}async function spotifyTrack(_0x9ead97){const _0x33f3a8=a0_0x3ce48f;let _0x5b018e;try{const _0x5ef1f4=_0x9ead97['split']('/');_0x5b018e=_0x5ef1f4[_0x5ef1f4[_0x33f3a8(0x1c0)](_0x33f3a8(0x201))+0x1][_0x33f3a8(0x1ee)]('?')[0x0];}catch(_0x3aa6bc){throw new Error('No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20track.');}const _0x4a5ea5=await getSpotifyToken();let _0x2486cf=await a0_0x308c84({'method':_0x33f3a8(0x20a),'url':_0x33f3a8(0x1ed)+_0x5b018e,'headers':{'Authorization':'Bearer\x20'+_0x4a5ea5}});const _0x373664=_0x2486cf[_0x33f3a8(0x1c8)];return{'name':_0x373664[_0x33f3a8(0x1cb)],'artist':_0x373664[_0x33f3a8(0x1e5)]['map'](_0x257208=>_0x257208['name'])[_0x33f3a8(0x1ad)](',\x20'),'album':_0x373664['album'][_0x33f3a8(0x1cb)],'url':_0x373664[_0x33f3a8(0x206)][_0x33f3a8(0x1e1)],'thumbnail':_0x373664['album'][_0x33f3a8(0x1f2)][0x0]?.[_0x33f3a8(0x1a7)]||''};}function timestamp(_0x2127f3){const _0x78fe4c=a0_0x3ce48f,_0x223178=Math['floor'](_0x2127f3/0xea60),_0xe499e2=Math[_0x78fe4c(0x1cf)](_0x2127f3%0xea60/0x3e8);return _0x223178+':'+(_0xe499e2<0xa?'0':'')+_0xe499e2;}