const a0_0x560d37=a0_0x1b3d;(function(_0x556c5f,_0x549932){const _0x2b8622=a0_0x1b3d,_0x14d537=_0x556c5f();while(!![]){try{const _0x5b0185=-parseInt(_0x2b8622(0x157))/0x1+-parseInt(_0x2b8622(0x16c))/0x2+parseInt(_0x2b8622(0x1a5))/0x3*(-parseInt(_0x2b8622(0x193))/0x4)+-parseInt(_0x2b8622(0x18e))/0x5*(parseInt(_0x2b8622(0x19e))/0x6)+-parseInt(_0x2b8622(0x16b))/0x7*(-parseInt(_0x2b8622(0x146))/0x8)+-parseInt(_0x2b8622(0x152))/0x9+parseInt(_0x2b8622(0x15a))/0xa*(parseInt(_0x2b8622(0x18f))/0xb);if(_0x5b0185===_0x549932)break;else _0x14d537['push'](_0x14d537['shift']());}catch(_0x5a8f9c){_0x14d537['push'](_0x14d537['shift']());}}}(a0_0x32b6,0x1e8f4));import a0_0x960b0e from'axios';import a0_0x5adac5 from'node-fetch';function a0_0x32b6(){const _0x588d5b=['spotify','‚ùå\x20*Error:*\x20No\x20se\x20encontraron\x20resultados.','join','expires_in','\x0aüõ†Ô∏è\x20Intento:\x20','expiresAt','&type=album','https://accounts.spotify.com/api/token','√Ålbum:\x20','downloader','Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a','434903ckLzrY','452972fGLGsI','help','buffer','sendMessage','duration_ms','open.spotify.com/artist','get','open.spotify.com/album','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20para\x20el\x20artista.','\x20https://open.spotify.com/track/...\x0a‚Ä¢\x20','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20artista.','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±\x2080%','url','Basic\x20','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±\x2070%','now','‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\x0a‚öîÔ∏è\x20Extracci√≥n\x20en\x20Curso\x0aüåü\x20Objetivo:\x20','&type=track','\x0a‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ','‚öîÔ∏è\x20Error:\x20No\x20ingresaste\x20ninguna\x20b√∫squeda\x20o\x20enlace.\x0a\x0aEjemplo:\x0a‚Ä¢\x20','/top-tracks?market=US','https://api.spotify.com/v1/search?q=','json','‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2010%','playlist','error','\x20(1/1)','\x20https://open.spotify.com/playlist/...\x0a‚Ä¢\x20','Artista:\x20','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2040%','data','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20la\x20playlist.','spotify.com/artist','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±\x2060%','3310oqvuDI','136169UUhzwt','‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2020%','https://apis-starlights-team.koyeb.app/starlight/spotifydl?url=','https://api.spotify.com/v1/playlists/','128796chSeFM','music','chat','Bearer\x20','\x20(Reintento)','No\x20se\x20pudo\x20obtener\x20el\x20enlace\x20de\x20descarga\x20para\x20','.mp3','length','No\x20se\x20pudo\x20extraer\x20la\x20sombra\x20de:\x20','spotify.com/track','token','696VXXOpp','floor','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20√°lbum.','artists','map','includes','‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%','3yyDhrT','albums','artist','external_urls','key','name','tracks','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20el\x20√°lbum.','thumbnail','toLowerCase','title','images','then','\x20Bellyache\x0a‚Ä¢\x20','push','grant_type=client_credentials','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2050%','indexOf','8tDnNZI','https://api.spotify.com/v1/albums/','acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009','album','tags','message','application/x-www-form-urlencoded','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20track.','base64','items','from','react','1171215WerDKY','https://api.spotify.com/v1/tracks/','post','audio/mpeg','‚ùå\x20*Error:*\x20','3642TAJSms','statusText','split','430dqjlhY','https://api.spotify.com/v1/artists/','Top\x20Tracks','\x20https://open.spotify.com/artist/...','track','access_token'];a0_0x32b6=function(){return _0x588d5b;};return a0_0x32b6();}let spotifyTokenCache={'token':null,'expiresAt':0x0};function a0_0x1b3d(_0x217a5b,_0x145140){const _0x32b639=a0_0x32b6();return a0_0x1b3d=function(_0x1b3dde,_0x5e0c7f){_0x1b3dde=_0x1b3dde-0x140;let _0x1622e4=_0x32b639[_0x1b3dde];return _0x1622e4;},a0_0x1b3d(_0x217a5b,_0x145140);}async function getSpotifyToken(){const _0x15df41=a0_0x1b3d,_0x4efd16=Date[_0x15df41(0x17b)]();if(spotifyTokenCache[_0x15df41(0x19d)]&&spotifyTokenCache[_0x15df41(0x165)]>_0x4efd16)return spotifyTokenCache['token'];const _0x3c460d=await a0_0x960b0e({'method':_0x15df41(0x154),'url':_0x15df41(0x167),'headers':{'Content-Type':_0x15df41(0x14c),'Authorization':_0x15df41(0x179)+Buffer[_0x15df41(0x150)](_0x15df41(0x148))['toString'](_0x15df41(0x14e))},'data':_0x15df41(0x143)}),_0x3ab104=_0x3c460d[_0x15df41(0x18a)][_0x15df41(0x15f)];return spotifyTokenCache[_0x15df41(0x19d)]=_0x3ab104,spotifyTokenCache[_0x15df41(0x165)]=_0x4efd16+_0x3c460d[_0x15df41(0x18a)][_0x15df41(0x163)]*0x3e8-0xea60,_0x3ab104;}async function getBuffer(_0x4990cf){const _0x54c9a8=a0_0x1b3d,_0x416177=await a0_0x5adac5(_0x4990cf);if(!_0x416177['ok'])throw new Error('Error\x20al\x20obtener\x20la\x20imagen:\x20'+_0x416177[_0x54c9a8(0x158)]);return await _0x416177[_0x54c9a8(0x16e)]();}function formatExtractionMessage(_0x502984,_0x14514c,_0x29856f){const _0x8dd531=a0_0x1b3d;return _0x8dd531(0x17c)+_0x502984+_0x8dd531(0x164)+_0x14514c+'\x0aüí†\x20Progreso:\x20'+_0x29856f+_0x8dd531(0x17e);}async function progressWithSync(_0x5f0d23,_0x4dc215,_0x10e9e7,_0x1f5736,{objective:_0x4de5f3,attempt:_0x46ff75,failedTrack:failedTrack=null}){const _0x76d358=a0_0x1b3d;let _0x4f81ce=![];const _0x5b780b=[_0x76d358(0x1a4),_0x76d358(0x183),_0x76d358(0x190),'‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2030%',_0x76d358(0x189),_0x76d358(0x144),_0x76d358(0x18d),_0x76d358(0x17a),_0x76d358(0x177),'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±\x2090%'];let _0x58f391=0x0;const _0x1afde3=0x12c,_0x587123=setInterval(async()=>{const _0x4e4a65=_0x76d358;if(_0x58f391<_0x5b780b[_0x4e4a65(0x19a)]){const _0x1b1b2c=formatExtractionMessage(_0x4de5f3,_0x46ff75,_0x5b780b[_0x58f391]);await _0x5f0d23['sendMessage'](_0x4dc215['chat'],{'text':_0x1b1b2c,'edit':_0x10e9e7[_0x4e4a65(0x1a9)]}),_0x58f391++;}},_0x1afde3);try{await _0x1f5736;}catch(_0x1b6e86){_0x4f81ce=!![];}clearInterval(_0x587123);const _0x318ab1=_0x4f81ce&&failedTrack?'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20Fall√≥\x20la\x20extracci√≥n\x20de:\x20'+failedTrack:'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20¬°Descargado!',_0xb11898=formatExtractionMessage(_0x4de5f3,_0x46ff75,_0x318ab1);await _0x5f0d23[_0x76d358(0x16f)](_0x4dc215[_0x76d358(0x195)],{'text':_0xb11898,'edit':_0x10e9e7[_0x76d358(0x1a9)]});}async function downloadWithRetries(_0x1db5df,_0x40849d,_0x53e311,_0xaec846,_0x3720f8){const _0x1cbae4=a0_0x1b3d;let _0x40d185=null;for(let _0x1b7277=0x1;_0x1b7277<=0x3;_0x1b7277++){try{const _0x224a8b=a0_0x5adac5(_0x1cbae4(0x191)+_0x1db5df[_0x1cbae4(0x178)])[_0x1cbae4(0x140)](_0x284280=>_0x284280[_0x1cbae4(0x182)]());await progressWithSync(_0x40849d,_0x53e311,_0xaec846,_0x224a8b,{'objective':_0x3720f8,'attempt':_0x1b7277,'failedTrack':_0x1b7277===0x3?_0x1db5df[_0x1cbae4(0x1aa)]:null}),_0x40d185=await _0x224a8b;if(!_0x40d185||!_0x40d185['music'])throw new Error(_0x1cbae4(0x198)+_0x1db5df[_0x1cbae4(0x1aa)]);return _0x40d185;}catch(_0x10901a){if(_0x1b7277===0x3)return null;await new Promise(_0x4e3174=>setTimeout(_0x4e3174,0x3e8));}}return null;}let handler=async(_0x458d57,{conn:_0x5e376e,text:_0x179d2a,usedPrefix:_0x166eaf,command:_0xc4ad2a})=>{const _0x366b2c=a0_0x1b3d;if(!_0x179d2a)throw _0x366b2c(0x17f)+(_0x166eaf+_0xc4ad2a)+_0x366b2c(0x141)+(_0x166eaf+_0xc4ad2a)+_0x366b2c(0x175)+(_0x166eaf+_0xc4ad2a)+'\x20https://open.spotify.com/album/...\x0a‚Ä¢\x20'+(_0x166eaf+_0xc4ad2a)+_0x366b2c(0x187)+(_0x166eaf+_0xc4ad2a)+_0x366b2c(0x15d);try{await _0x458d57[_0x366b2c(0x151)]('‚è≥');let _0x463f2e=![],_0x25a02b=![],_0x1098ca=![],_0x411da9;if(_0x179d2a[_0x366b2c(0x1a3)](_0x366b2c(0x173))){_0x463f2e=!![],_0x411da9=await spotifyAlbum(_0x179d2a);if(!_0x411da9?.[_0x366b2c(0x1ab)]?.[_0x366b2c(0x19a)])throw _0x366b2c(0x1ac);}else{if(_0x179d2a[_0x366b2c(0x1a3)]('open.spotify.com/playlist')){_0x25a02b=!![],_0x411da9=await spotifyPlaylist(_0x179d2a);if(!_0x411da9?.[_0x366b2c(0x1ab)]?.[_0x366b2c(0x19a)])throw _0x366b2c(0x18b);}else{if(_0x179d2a[_0x366b2c(0x1a3)](_0x366b2c(0x171))||_0x179d2a['includes'](_0x366b2c(0x18c))){_0x463f2e=!![],_0x1098ca=!![],_0x411da9=await spotifyArtist(_0x179d2a);if(!_0x411da9?.[_0x366b2c(0x1ab)]?.['length'])throw _0x366b2c(0x174);}else{if(_0x179d2a['includes'](_0x366b2c(0x19c)))_0x411da9={'tracks':[await spotifyTrack(_0x179d2a)]};else{if(_0x179d2a[_0x366b2c(0x1ae)]()['includes'](_0x366b2c(0x149))){_0x463f2e=!![],_0x411da9=await spotifyAlbumSearch(_0x179d2a);if(!_0x411da9?.[_0x366b2c(0x1ab)]?.[_0x366b2c(0x19a)])throw'‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20el\x20√°lbum.';}else{const _0x14448e=await spotifyxv(_0x179d2a);if(!_0x14448e['length']||!_0x14448e[0x0][_0x366b2c(0x178)])throw _0x366b2c(0x161);_0x411da9={'tracks':[_0x14448e[0x0]]};}}}}}if(_0x463f2e||_0x25a02b){let _0x183d99=[];for(let _0x52b272=0x0;_0x52b272<_0x411da9[_0x366b2c(0x1ab)][_0x366b2c(0x19a)];_0x52b272++){const _0x30a877=_0x411da9[_0x366b2c(0x1ab)][_0x52b272],_0x563b62=_0x30a877[_0x366b2c(0x1aa)]+'\x20('+(_0x52b272+0x1)+'/'+_0x411da9['tracks'][_0x366b2c(0x19a)]+')',_0x2b353c=formatExtractionMessage(_0x563b62,0x1,'‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%'),_0x56734e=await _0x5e376e[_0x366b2c(0x16f)](_0x458d57[_0x366b2c(0x195)],{'text':_0x2b353c}),_0x410f88=await downloadWithRetries(_0x30a877,_0x5e376e,_0x458d57,_0x56734e,_0x563b62);_0x410f88?(await _0x5e376e[_0x366b2c(0x16f)](_0x458d57['chat'],{'delete':_0x56734e[_0x366b2c(0x1a9)]}),await _0x5e376e['sendMessage'](_0x458d57[_0x366b2c(0x195)],{'audio':{'url':_0x410f88[_0x366b2c(0x194)]},'fileName':_0x410f88['title']+_0x366b2c(0x199),'mimetype':'audio/mpeg','contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x410f88['title'],'body':_0x366b2c(0x188)+_0x410f88[_0x366b2c(0x1a7)],'description':_0x366b2c(0x168)+_0x410f88[_0x366b2c(0x149)],'thumbnailUrl':_0x410f88[_0x366b2c(0x1ad)]}}}),await new Promise(_0x2269fc=>setTimeout(_0x2269fc,0x7d0))):_0x183d99['push'](_0x30a877);}if(_0x183d99[_0x366b2c(0x19a)]>0x0){let _0x33f119=_0x183d99[_0x366b2c(0x1a2)](_0x55a46e=>_0x55a46e[_0x366b2c(0x1aa)])[_0x366b2c(0x162)]('\x0a');await _0x5e376e[_0x366b2c(0x16f)](_0x458d57[_0x366b2c(0x195)],{'text':'Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a'+_0x33f119});let _0x14c310=[];for(let _0x2ab1ce of _0x183d99){const _0x4701fa=_0x2ab1ce[_0x366b2c(0x1aa)]+'\x20(Reintento)',_0x1e7d93=formatExtractionMessage(_0x4701fa,0x1,_0x366b2c(0x1a4)),_0x4715c6=await _0x5e376e[_0x366b2c(0x16f)](_0x458d57['chat'],{'text':_0x1e7d93}),_0x13e7ce=await downloadWithRetries(_0x2ab1ce,_0x5e376e,_0x458d57,_0x4715c6,_0x4701fa);_0x13e7ce?(await _0x5e376e[_0x366b2c(0x16f)](_0x458d57[_0x366b2c(0x195)],{'delete':_0x4715c6[_0x366b2c(0x1a9)]}),await _0x5e376e[_0x366b2c(0x16f)](_0x458d57[_0x366b2c(0x195)],{'audio':{'url':_0x13e7ce[_0x366b2c(0x194)]},'fileName':_0x13e7ce[_0x366b2c(0x1af)]+_0x366b2c(0x199),'mimetype':'audio/mpeg','contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x13e7ce[_0x366b2c(0x1af)],'body':'Artista:\x20'+_0x13e7ce[_0x366b2c(0x1a7)],'description':_0x366b2c(0x168)+_0x13e7ce[_0x366b2c(0x149)],'thumbnailUrl':_0x13e7ce[_0x366b2c(0x1ad)]}}}),await new Promise(_0x3e57bb=>setTimeout(_0x3e57bb,0x7d0))):_0x14c310[_0x366b2c(0x142)](_0x2ab1ce);}if(_0x14c310[_0x366b2c(0x19a)]>0x0){let _0x193b8e=_0x14c310[_0x366b2c(0x1a2)](_0x254c43=>_0x254c43[_0x366b2c(0x1aa)])[_0x366b2c(0x162)]('\x0a');await _0x5e376e[_0x366b2c(0x16f)](_0x458d57['chat'],{'text':'No\x20se\x20pudieron\x20extraer\x20las\x20siguientes\x20sombras:\x0a'+_0x193b8e});}}}else{const _0x308bc7=_0x411da9[_0x366b2c(0x1ab)][0x0],_0x1e1420=_0x308bc7[_0x366b2c(0x1aa)]+_0x366b2c(0x186),_0x3b469f=formatExtractionMessage(_0x1e1420,0x1,'‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%'),_0x4224da=await _0x5e376e[_0x366b2c(0x16f)](_0x458d57[_0x366b2c(0x195)],{'text':_0x3b469f}),_0x2184b0=await downloadWithRetries(_0x308bc7,_0x5e376e,_0x458d57,_0x4224da,_0x1e1420);if(!_0x2184b0){await _0x5e376e[_0x366b2c(0x16f)](_0x458d57[_0x366b2c(0x195)],{'text':_0x366b2c(0x16a)+_0x308bc7[_0x366b2c(0x1aa)]});const _0x5a424d=formatExtractionMessage(_0x1e1420+_0x366b2c(0x197),0x1,_0x366b2c(0x1a4)),_0x27b277=await _0x5e376e[_0x366b2c(0x16f)](_0x458d57[_0x366b2c(0x195)],{'text':_0x5a424d}),_0xdb9598=await downloadWithRetries(_0x308bc7,_0x5e376e,_0x458d57,_0x27b277,_0x1e1420+_0x366b2c(0x197));!_0xdb9598?await _0x5e376e[_0x366b2c(0x16f)](_0x458d57['chat'],{'text':_0x366b2c(0x19b)+_0x308bc7[_0x366b2c(0x1aa)]}):(await _0x5e376e[_0x366b2c(0x16f)](_0x458d57[_0x366b2c(0x195)],{'delete':_0x27b277['key']}),await _0x5e376e[_0x366b2c(0x16f)](_0x458d57[_0x366b2c(0x195)],{'audio':{'url':_0xdb9598[_0x366b2c(0x194)]},'fileName':_0xdb9598[_0x366b2c(0x1af)]+_0x366b2c(0x199),'mimetype':_0x366b2c(0x155),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0xdb9598[_0x366b2c(0x1af)],'body':_0x366b2c(0x188)+_0xdb9598[_0x366b2c(0x1a7)],'description':_0x366b2c(0x168)+_0xdb9598[_0x366b2c(0x149)],'thumbnailUrl':_0xdb9598['thumbnail']}}}),await new Promise(_0x25c2f9=>setTimeout(_0x25c2f9,0x7d0)));}else await _0x5e376e[_0x366b2c(0x16f)](_0x458d57[_0x366b2c(0x195)],{'delete':_0x4224da[_0x366b2c(0x1a9)]}),await _0x5e376e[_0x366b2c(0x16f)](_0x458d57['chat'],{'audio':{'url':_0x2184b0[_0x366b2c(0x194)]},'fileName':_0x2184b0[_0x366b2c(0x1af)]+_0x366b2c(0x199),'mimetype':_0x366b2c(0x155),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x2184b0[_0x366b2c(0x1af)],'body':_0x366b2c(0x188)+_0x2184b0[_0x366b2c(0x1a7)],'description':'√Ålbum:\x20'+_0x2184b0['album'],'thumbnailUrl':_0x2184b0['thumbnail']}}}),await _0x458d57[_0x366b2c(0x151)]('‚úÖ');}}catch(_0x5ec785){await _0x458d57[_0x366b2c(0x151)]('‚ùå'),await _0x458d57['reply'](_0x366b2c(0x156)+(_0x5ec785[_0x366b2c(0x14b)]||_0x5ec785)),console[_0x366b2c(0x185)](_0x5ec785);}};handler[a0_0x560d37(0x16d)]=['spotify','music'],handler[a0_0x560d37(0x14a)]=[a0_0x560d37(0x169)],handler['command']=[a0_0x560d37(0x160),'music'],handler['group']=![];export default handler;async function spotifyxv(_0x2b05d7){const _0x37cc5e=a0_0x560d37,_0x1054ed=await getSpotifyToken();try{let _0x4505e9=await a0_0x960b0e({'method':_0x37cc5e(0x172),'url':'https://api.spotify.com/v1/search?q='+encodeURIComponent(_0x2b05d7)+_0x37cc5e(0x17d),'headers':{'Authorization':_0x37cc5e(0x196)+_0x1054ed}});const _0x37f899=_0x4505e9[_0x37cc5e(0x18a)][_0x37cc5e(0x1ab)][_0x37cc5e(0x14f)];return _0x37f899[_0x37cc5e(0x1a2)](_0xd26739=>({'name':_0xd26739[_0x37cc5e(0x1aa)],'artist':_0xd26739[_0x37cc5e(0x1a1)][_0x37cc5e(0x1a2)](_0x4af5fe=>_0x4af5fe['name'])['join'](',\x20'),'album':_0xd26739[_0x37cc5e(0x149)][_0x37cc5e(0x1aa)],'duration':timestamp(_0xd26739[_0x37cc5e(0x170)]),'url':_0xd26739['external_urls']['spotify'],'thumbnail':_0xd26739[_0x37cc5e(0x149)][_0x37cc5e(0x1b0)][0x0]?.[_0x37cc5e(0x178)]||''}));}catch(_0x3d0532){return console['error'](_0x3d0532),[];}}async function spotifyAlbum(_0x31405b){const _0x3ef0ce=a0_0x560d37;let _0x28593f;try{const _0x356dd4=_0x31405b[_0x3ef0ce(0x159)]('/');_0x28593f=_0x356dd4[_0x356dd4[_0x3ef0ce(0x145)]('album')+0x1]['split']('?')[0x0];}catch(_0x5bb737){throw new Error(_0x3ef0ce(0x1a0));}const _0x25406e=await getSpotifyToken();let _0x5cd262=await a0_0x960b0e({'method':'get','url':_0x3ef0ce(0x147)+_0x28593f,'headers':{'Authorization':'Bearer\x20'+_0x25406e}});const _0x4f3a65=_0x5cd262['data'],_0xdc4e27=_0x4f3a65[_0x3ef0ce(0x1ab)][_0x3ef0ce(0x14f)][_0x3ef0ce(0x1a2)](_0x13b3d3=>({'name':_0x13b3d3[_0x3ef0ce(0x1aa)],'artist':_0x13b3d3[_0x3ef0ce(0x1a1)][_0x3ef0ce(0x1a2)](_0x3a1afb=>_0x3a1afb[_0x3ef0ce(0x1aa)])[_0x3ef0ce(0x162)](',\x20'),'album':_0x4f3a65[_0x3ef0ce(0x1aa)],'url':_0x13b3d3[_0x3ef0ce(0x1a8)][_0x3ef0ce(0x160)],'thumbnail':_0x4f3a65[_0x3ef0ce(0x1b0)][0x0]?.[_0x3ef0ce(0x178)]||''}));return{'album':_0x4f3a65,'tracks':_0xdc4e27};}async function spotifyAlbumSearch(_0x428326){const _0x43b711=a0_0x560d37,_0x264dc7=await getSpotifyToken();let _0x5c1c5a=await a0_0x960b0e({'method':_0x43b711(0x172),'url':_0x43b711(0x181)+encodeURIComponent(_0x428326)+_0x43b711(0x166),'headers':{'Authorization':_0x43b711(0x196)+_0x264dc7}});const _0x26b9a4=_0x5c1c5a['data'][_0x43b711(0x1a6)][_0x43b711(0x14f)];if(!_0x26b9a4[_0x43b711(0x19a)])return null;const _0x4bdaca=_0x26b9a4[0x0]['id'];let _0x1364c1=await a0_0x960b0e({'method':_0x43b711(0x172),'url':_0x43b711(0x147)+_0x4bdaca,'headers':{'Authorization':_0x43b711(0x196)+_0x264dc7}});const _0x42b8c0=_0x1364c1[_0x43b711(0x18a)],_0x15a20c=_0x42b8c0[_0x43b711(0x1ab)][_0x43b711(0x14f)]['map'](_0x4f8f7a=>({'name':_0x4f8f7a[_0x43b711(0x1aa)],'artist':_0x4f8f7a[_0x43b711(0x1a1)][_0x43b711(0x1a2)](_0x2c04bf=>_0x2c04bf[_0x43b711(0x1aa)])[_0x43b711(0x162)](',\x20'),'album':_0x42b8c0[_0x43b711(0x1aa)],'url':_0x4f8f7a['external_urls'][_0x43b711(0x160)],'thumbnail':_0x42b8c0[_0x43b711(0x1b0)][0x0]?.[_0x43b711(0x178)]||''}));return{'album':_0x42b8c0,'tracks':_0x15a20c};}async function spotifyPlaylist(_0x498d44){const _0x545e05=a0_0x560d37;let _0x56bdd2;try{const _0x3fb3f4=_0x498d44['split']('/');_0x56bdd2=_0x3fb3f4[_0x3fb3f4[_0x545e05(0x145)](_0x545e05(0x184))+0x1]['split']('?')[0x0];}catch(_0x21f73d){throw new Error('No\x20se\x20pudo\x20extraer\x20el\x20ID\x20de\x20la\x20playlist.');}const _0x3261ed=await getSpotifyToken();let _0x27003a=await a0_0x960b0e({'method':_0x545e05(0x172),'url':_0x545e05(0x192)+_0x56bdd2,'headers':{'Authorization':_0x545e05(0x196)+_0x3261ed}});const _0x4c5840=_0x27003a[_0x545e05(0x18a)],_0x14adc9=_0x4c5840[_0x545e05(0x1ab)]['items'][_0x545e05(0x1a2)](_0x44e794=>{const _0x5f1851=_0x545e05,_0x1a12d5=_0x44e794[_0x5f1851(0x15e)];return{'name':_0x1a12d5['name'],'artist':_0x1a12d5[_0x5f1851(0x1a1)][_0x5f1851(0x1a2)](_0xef6036=>_0xef6036[_0x5f1851(0x1aa)])[_0x5f1851(0x162)](',\x20'),'album':_0x4c5840[_0x5f1851(0x1aa)],'url':_0x1a12d5['external_urls']['spotify'],'thumbnail':_0x1a12d5['album'][_0x5f1851(0x1b0)][0x0]?.[_0x5f1851(0x178)]||''};});return{'album':{'name':_0x4c5840[_0x545e05(0x1aa)]},'tracks':_0x14adc9};}async function spotifyArtist(_0x3d70bb){const _0x4e8087=a0_0x560d37;let _0x2ba0eb;try{const _0x36241f=_0x3d70bb[_0x4e8087(0x159)]('/');_0x2ba0eb=_0x36241f[_0x36241f['indexOf'](_0x4e8087(0x1a7))+0x1][_0x4e8087(0x159)]('?')[0x0];}catch(_0x7f37a8){throw new Error(_0x4e8087(0x176));}const _0x461efa=await getSpotifyToken();let _0x172da0=await a0_0x960b0e({'method':_0x4e8087(0x172),'url':_0x4e8087(0x15b)+_0x2ba0eb+_0x4e8087(0x180),'headers':{'Authorization':_0x4e8087(0x196)+_0x461efa}});const _0x44cc4f=_0x172da0[_0x4e8087(0x18a)],_0x1ac4b5=_0x44cc4f[_0x4e8087(0x1ab)][_0x4e8087(0x1a2)](_0x39786b=>({'name':_0x39786b[_0x4e8087(0x1aa)],'artist':_0x39786b['artists']['map'](_0x4b2c9e=>_0x4b2c9e['name'])[_0x4e8087(0x162)](',\x20'),'album':_0x4e8087(0x15c),'url':_0x39786b[_0x4e8087(0x1a8)][_0x4e8087(0x160)],'thumbnail':_0x39786b['album'][_0x4e8087(0x1b0)][0x0]?.[_0x4e8087(0x178)]||''}));return{'album':{'name':_0x4e8087(0x15c)},'tracks':_0x1ac4b5};}async function spotifyTrack(_0x4873f1){const _0x31a234=a0_0x560d37;let _0x19cd6f;try{const _0x10f87d=_0x4873f1['split']('/');_0x19cd6f=_0x10f87d[_0x10f87d[_0x31a234(0x145)](_0x31a234(0x15e))+0x1][_0x31a234(0x159)]('?')[0x0];}catch(_0x5b7855){throw new Error(_0x31a234(0x14d));}const _0x4cb101=await getSpotifyToken();let _0x674e21=await a0_0x960b0e({'method':'get','url':_0x31a234(0x153)+_0x19cd6f,'headers':{'Authorization':_0x31a234(0x196)+_0x4cb101}});const _0x3fe923=_0x674e21[_0x31a234(0x18a)];return{'name':_0x3fe923[_0x31a234(0x1aa)],'artist':_0x3fe923[_0x31a234(0x1a1)][_0x31a234(0x1a2)](_0x446657=>_0x446657['name'])[_0x31a234(0x162)](',\x20'),'album':_0x3fe923[_0x31a234(0x149)][_0x31a234(0x1aa)],'url':_0x3fe923[_0x31a234(0x1a8)][_0x31a234(0x160)],'thumbnail':_0x3fe923[_0x31a234(0x149)][_0x31a234(0x1b0)][0x0]?.[_0x31a234(0x178)]||''};}function timestamp(_0x5d2f9e){const _0x436f69=a0_0x560d37,_0x48b709=Math[_0x436f69(0x19f)](_0x5d2f9e/0xea60),_0x2c46dc=Math[_0x436f69(0x19f)](_0x5d2f9e%0xea60/0x3e8);return _0x48b709+':'+(_0x2c46dc<0xa?'0':'')+_0x2c46dc;}