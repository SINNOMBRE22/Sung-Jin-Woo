const a0_0x194248=a0_0x5aa7;(function(_0x4a81b4,_0x4056a4){const _0xe290de=a0_0x5aa7,_0x37ffa9=_0x4a81b4();while(!![]){try{const _0x463357=-parseInt(_0xe290de(0x15f))/0x1*(parseInt(_0xe290de(0x128))/0x2)+-parseInt(_0xe290de(0x145))/0x3*(parseInt(_0xe290de(0x13c))/0x4)+parseInt(_0xe290de(0x148))/0x5+-parseInt(_0xe290de(0x110))/0x6*(parseInt(_0xe290de(0x118))/0x7)+-parseInt(_0xe290de(0x135))/0x8+parseInt(_0xe290de(0x12a))/0x9+-parseInt(_0xe290de(0x16c))/0xa*(-parseInt(_0xe290de(0x122))/0xb);if(_0x463357===_0x4056a4)break;else _0x37ffa9['push'](_0x37ffa9['shift']());}catch(_0x5cb133){_0x37ffa9['push'](_0x37ffa9['shift']());}}}(a0_0x1ec9,0xe5141));import a0_0x415844 from'axios';function a0_0x1ec9(){const _0x2d4ab9=['No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20√°lbum.','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20artista.','name','artist','\x20https://open.spotify.com/track/...\x0a‚Ä¢\x20','\x20https://open.spotify.com/album/...\x0a‚Ä¢\x20','229GDMzEX','group','Error\x20al\x20obtener\x20la\x20imagen:\x20','Top\x20Tracks','\x0aüí†\x20Progreso:\x20','\x20https://open.spotify.com/playlist/...\x0a‚Ä¢\x20','get','Bearer\x20','https://api.spotify.com/v1/artists/','artists','json','command','indexOf','11715140FKNPKP','.mp3','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±\x2080%','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±\x2090%','https://apis-starlights-team.koyeb.app/starlight/spotifydl?url=','chat','\x20(Reintento)','\x20(1/1)','Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a','&type=album','includes','url','images','637302DUsHHw','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±\x2070%','external_urls','expires_in','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2040%','join','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2050%','react','7EiKCDq','album','downloader','key','spotify.com/artist','Basic\x20','open.spotify.com/playlist','push','error','\x0aüõ†Ô∏è\x20Intento:\x20','11MNwicY','No\x20se\x20pudo\x20obtener\x20el\x20enlace\x20de\x20descarga\x20para\x20','track','tracks','‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2030%','open.spotify.com/album','5550BJTVYY','music','14957109yejLoM','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20el\x20√°lbum.','map','\x0a‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ','from','‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2010%','https://accounts.spotify.com/api/token','spotify','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20para\x20el\x20artista.','No\x20se\x20pudo\x20extraer\x20la\x20sombra\x20de:\x20','acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009','10781480iCjzgo','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±\x2060%','audio/mpeg','split','https://api.spotify.com/v1/search?q=','title','‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\x0a‚öîÔ∏è\x20Extracci√≥n\x20en\x20Curso\x0aüåü\x20Objetivo:\x20','42656TlgykY','help','‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%','thumbnail','statusText','then','\x20https://open.spotify.com/artist/...','spotify.com/track','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20la\x20playlist.','15FQhdUl','data','albums','1237935fhKmCl','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20Fall√≥\x20la\x20extracci√≥n\x20de:\x20','/top-tracks?market=US','No\x20se\x20pudieron\x20extraer\x20las\x20siguientes\x20sombras:\x0a','sendMessage','https://api.spotify.com/v1/albums/','‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2020%','floor','√Ålbum:\x20','tags','length','token','Artista:\x20','items','open.spotify.com/artist','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20track.','buffer'];a0_0x1ec9=function(){return _0x2d4ab9;};return a0_0x1ec9();}import a0_0x58e21c from'node-fetch';let spotifyTokenCache={'token':null,'expiresAt':0x0};async function getSpotifyToken(){const _0x42c91d=a0_0x5aa7,_0x560666=Date['now']();if(spotifyTokenCache[_0x42c91d(0x153)]&&spotifyTokenCache['expiresAt']>_0x560666)return spotifyTokenCache[_0x42c91d(0x153)];const _0x42f8be=await a0_0x415844({'method':'post','url':_0x42c91d(0x130),'headers':{'Content-Type':'application/x-www-form-urlencoded','Authorization':_0x42c91d(0x11d)+Buffer[_0x42c91d(0x12e)](_0x42c91d(0x134))['toString']('base64')},'data':'grant_type=client_credentials'}),_0x2afe74=_0x42f8be['data']['access_token'];return spotifyTokenCache[_0x42c91d(0x153)]=_0x2afe74,spotifyTokenCache['expiresAt']=_0x560666+_0x42f8be[_0x42c91d(0x146)][_0x42c91d(0x113)]*0x3e8-0xea60,_0x2afe74;}async function getBuffer(_0x2225e9){const _0x585b09=a0_0x5aa7,_0x38a571=await a0_0x58e21c(_0x2225e9);if(!_0x38a571['ok'])throw new Error(_0x585b09(0x161)+_0x38a571[_0x585b09(0x140)]);return await _0x38a571[_0x585b09(0x158)]();}function formatExtractionMessage(_0x3abcb2,_0x2a11b5,_0x5612d8){const _0x2b7264=a0_0x5aa7;return _0x2b7264(0x13b)+_0x3abcb2+_0x2b7264(0x121)+_0x2a11b5+_0x2b7264(0x163)+_0x5612d8+_0x2b7264(0x12d);}function a0_0x5aa7(_0x5ef071,_0x695761){const _0x1ec9d0=a0_0x1ec9();return a0_0x5aa7=function(_0x5aa74c,_0x577a56){_0x5aa74c=_0x5aa74c-0x10e;let _0x10766c=_0x1ec9d0[_0x5aa74c];return _0x10766c;},a0_0x5aa7(_0x5ef071,_0x695761);}async function progressWithSync(_0x10140f,_0x476001,_0x5cc618,_0x267ba2,{objective:_0x20f944,attempt:_0x1e805c,failedTrack:failedTrack=null}){const _0x1abb15=a0_0x5aa7;let _0x23d5d1=![];const _0x5d84d7=[_0x1abb15(0x13e),_0x1abb15(0x12f),_0x1abb15(0x14e),_0x1abb15(0x126),_0x1abb15(0x114),_0x1abb15(0x116),_0x1abb15(0x136),_0x1abb15(0x111),_0x1abb15(0x16e),_0x1abb15(0x16f)];let _0x58be30=0x0;const _0x345c49=0x12c,_0x1e9fae=setInterval(async()=>{const _0x257797=_0x1abb15;if(_0x58be30<_0x5d84d7[_0x257797(0x152)]){const _0x49f1a3=formatExtractionMessage(_0x20f944,_0x1e805c,_0x5d84d7[_0x58be30]);await _0x10140f[_0x257797(0x14c)](_0x476001[_0x257797(0x171)],{'text':_0x49f1a3,'edit':_0x5cc618['key']}),_0x58be30++;}},_0x345c49);try{await _0x267ba2;}catch(_0x571ccb){_0x23d5d1=!![];}clearInterval(_0x1e9fae);const _0x227196=_0x23d5d1&&failedTrack?_0x1abb15(0x149)+failedTrack:'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20¬°Descargado!',_0x1f5f00=formatExtractionMessage(_0x20f944,_0x1e805c,_0x227196);await _0x10140f['sendMessage'](_0x476001[_0x1abb15(0x171)],{'text':_0x1f5f00,'edit':_0x5cc618[_0x1abb15(0x11b)]});}async function downloadWithRetries(_0x228ddc,_0x43c300,_0x17350c,_0x392bab,_0x3205bf){const _0x5bf6f8=a0_0x5aa7;let _0x1ffc39=null;for(let _0xc0e551=0x1;_0xc0e551<=0x3;_0xc0e551++){try{const _0x400a62=a0_0x58e21c(_0x5bf6f8(0x170)+_0x228ddc[_0x5bf6f8(0x10e)])[_0x5bf6f8(0x141)](_0x3f18ea=>_0x3f18ea[_0x5bf6f8(0x169)]());await progressWithSync(_0x43c300,_0x17350c,_0x392bab,_0x400a62,{'objective':_0x3205bf,'attempt':_0xc0e551,'failedTrack':_0xc0e551===0x3?_0x228ddc[_0x5bf6f8(0x15b)]:null}),_0x1ffc39=await _0x400a62;if(!_0x1ffc39||!_0x1ffc39[_0x5bf6f8(0x129)])throw new Error(_0x5bf6f8(0x123)+_0x228ddc[_0x5bf6f8(0x15b)]);return _0x1ffc39;}catch(_0x4aec8b){if(_0xc0e551===0x3)return null;await new Promise(_0x3e95b0=>setTimeout(_0x3e95b0,0x3e8));}}return null;}let handler=async(_0x1d6ab4,{conn:_0x72fcb5,text:_0x1c65d7,usedPrefix:_0x89dfa4,command:_0x1913b8})=>{const _0x1d1f8b=a0_0x5aa7;if(!_0x1c65d7)throw'‚öîÔ∏è\x20Error:\x20No\x20ingresaste\x20ninguna\x20b√∫squeda\x20o\x20enlace.\x0a\x0aEjemplo:\x0a‚Ä¢\x20'+(_0x89dfa4+_0x1913b8)+'\x20Bellyache\x0a‚Ä¢\x20'+(_0x89dfa4+_0x1913b8)+_0x1d1f8b(0x15d)+(_0x89dfa4+_0x1913b8)+_0x1d1f8b(0x15e)+(_0x89dfa4+_0x1913b8)+_0x1d1f8b(0x164)+(_0x89dfa4+_0x1913b8)+_0x1d1f8b(0x142);try{await _0x1d6ab4['react']('‚è≥');let _0x57f723=![],_0x2512f7=![],_0x421e25=![],_0x4c9012;if(_0x1c65d7[_0x1d1f8b(0x176)](_0x1d1f8b(0x127))){_0x57f723=!![],_0x4c9012=await spotifyAlbum(_0x1c65d7);if(!_0x4c9012?.['tracks']?.[_0x1d1f8b(0x152)])throw _0x1d1f8b(0x12b);}else{if(_0x1c65d7[_0x1d1f8b(0x176)](_0x1d1f8b(0x11e))){_0x2512f7=!![],_0x4c9012=await spotifyPlaylist(_0x1c65d7);if(!_0x4c9012?.['tracks']?.[_0x1d1f8b(0x152)])throw _0x1d1f8b(0x144);}else{if(_0x1c65d7[_0x1d1f8b(0x176)](_0x1d1f8b(0x156))||_0x1c65d7[_0x1d1f8b(0x176)](_0x1d1f8b(0x11c))){_0x57f723=!![],_0x421e25=!![],_0x4c9012=await spotifyArtist(_0x1c65d7);if(!_0x4c9012?.[_0x1d1f8b(0x125)]?.[_0x1d1f8b(0x152)])throw _0x1d1f8b(0x132);}else{if(_0x1c65d7[_0x1d1f8b(0x176)](_0x1d1f8b(0x143)))_0x4c9012={'tracks':[await spotifyTrack(_0x1c65d7)]};else{if(_0x1c65d7['toLowerCase']()[_0x1d1f8b(0x176)](_0x1d1f8b(0x119))){_0x57f723=!![],_0x4c9012=await spotifyAlbumSearch(_0x1c65d7);if(!_0x4c9012?.[_0x1d1f8b(0x125)]?.[_0x1d1f8b(0x152)])throw _0x1d1f8b(0x12b);}else{const _0x1e9c3e=await spotifyxv(_0x1c65d7);if(!_0x1e9c3e['length']||!_0x1e9c3e[0x0][_0x1d1f8b(0x10e)])throw'‚ùå\x20*Error:*\x20No\x20se\x20encontraron\x20resultados.';_0x4c9012={'tracks':[_0x1e9c3e[0x0]]};}}}}}if(_0x57f723||_0x2512f7){let _0x55b4ce=[];for(let _0xde83ed=0x0;_0xde83ed<_0x4c9012['tracks'][_0x1d1f8b(0x152)];_0xde83ed++){const _0x5b372f=_0x4c9012[_0x1d1f8b(0x125)][_0xde83ed],_0xb1836e=_0x5b372f[_0x1d1f8b(0x15b)]+'\x20('+(_0xde83ed+0x1)+'/'+_0x4c9012[_0x1d1f8b(0x125)]['length']+')',_0x2fa088=formatExtractionMessage(_0xb1836e,0x1,_0x1d1f8b(0x13e)),_0x113cda=await _0x72fcb5['sendMessage'](_0x1d6ab4[_0x1d1f8b(0x171)],{'text':_0x2fa088}),_0x8f999=await downloadWithRetries(_0x5b372f,_0x72fcb5,_0x1d6ab4,_0x113cda,_0xb1836e);_0x8f999?(await _0x72fcb5[_0x1d1f8b(0x14c)](_0x1d6ab4[_0x1d1f8b(0x171)],{'delete':_0x113cda['key']}),await _0x72fcb5[_0x1d1f8b(0x14c)](_0x1d6ab4['chat'],{'audio':{'url':_0x8f999[_0x1d1f8b(0x129)]},'fileName':_0x8f999['title']+_0x1d1f8b(0x16d),'mimetype':_0x1d1f8b(0x137),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x8f999[_0x1d1f8b(0x13a)],'body':'Artista:\x20'+_0x8f999[_0x1d1f8b(0x15c)],'description':_0x1d1f8b(0x150)+_0x8f999['album'],'thumbnailUrl':_0x8f999[_0x1d1f8b(0x13f)]}}}),await new Promise(_0x50b6ae=>setTimeout(_0x50b6ae,0x7d0))):_0x55b4ce[_0x1d1f8b(0x11f)](_0x5b372f);}if(_0x55b4ce[_0x1d1f8b(0x152)]>0x0){let _0x464bd5=_0x55b4ce[_0x1d1f8b(0x12c)](_0xf7f62c=>_0xf7f62c[_0x1d1f8b(0x15b)])[_0x1d1f8b(0x115)]('\x0a');await _0x72fcb5['sendMessage'](_0x1d6ab4['chat'],{'text':_0x1d1f8b(0x174)+_0x464bd5});let _0x1c9347=[];for(let _0x3b8e92 of _0x55b4ce){const _0x1a5007=_0x3b8e92[_0x1d1f8b(0x15b)]+_0x1d1f8b(0x172),_0x947767=formatExtractionMessage(_0x1a5007,0x1,_0x1d1f8b(0x13e)),_0x2a63a5=await _0x72fcb5[_0x1d1f8b(0x14c)](_0x1d6ab4[_0x1d1f8b(0x171)],{'text':_0x947767}),_0x99eb3a=await downloadWithRetries(_0x3b8e92,_0x72fcb5,_0x1d6ab4,_0x2a63a5,_0x1a5007);_0x99eb3a?(await _0x72fcb5['sendMessage'](_0x1d6ab4['chat'],{'delete':_0x2a63a5['key']}),await _0x72fcb5[_0x1d1f8b(0x14c)](_0x1d6ab4[_0x1d1f8b(0x171)],{'audio':{'url':_0x99eb3a[_0x1d1f8b(0x129)]},'fileName':_0x99eb3a[_0x1d1f8b(0x13a)]+_0x1d1f8b(0x16d),'mimetype':_0x1d1f8b(0x137),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x99eb3a['title'],'body':_0x1d1f8b(0x154)+_0x99eb3a[_0x1d1f8b(0x15c)],'description':_0x1d1f8b(0x150)+_0x99eb3a[_0x1d1f8b(0x119)],'thumbnailUrl':_0x99eb3a[_0x1d1f8b(0x13f)]}}}),await new Promise(_0x15b893=>setTimeout(_0x15b893,0x7d0))):_0x1c9347['push'](_0x3b8e92);}if(_0x1c9347[_0x1d1f8b(0x152)]>0x0){let _0x4b8991=_0x1c9347[_0x1d1f8b(0x12c)](_0xd57f49=>_0xd57f49[_0x1d1f8b(0x15b)])['join']('\x0a');await _0x72fcb5[_0x1d1f8b(0x14c)](_0x1d6ab4[_0x1d1f8b(0x171)],{'text':_0x1d1f8b(0x14b)+_0x4b8991});}}}else{const _0x40b065=_0x4c9012[_0x1d1f8b(0x125)][0x0],_0xe869d9=_0x40b065[_0x1d1f8b(0x15b)]+_0x1d1f8b(0x173),_0x1aedee=formatExtractionMessage(_0xe869d9,0x1,_0x1d1f8b(0x13e)),_0x474540=await _0x72fcb5[_0x1d1f8b(0x14c)](_0x1d6ab4[_0x1d1f8b(0x171)],{'text':_0x1aedee}),_0x1f65b9=await downloadWithRetries(_0x40b065,_0x72fcb5,_0x1d6ab4,_0x474540,_0xe869d9);if(!_0x1f65b9){await _0x72fcb5[_0x1d1f8b(0x14c)](_0x1d6ab4['chat'],{'text':_0x1d1f8b(0x174)+_0x40b065[_0x1d1f8b(0x15b)]});const _0x1f38e1=formatExtractionMessage(_0xe869d9+_0x1d1f8b(0x172),0x1,_0x1d1f8b(0x13e)),_0x464bfb=await _0x72fcb5['sendMessage'](_0x1d6ab4[_0x1d1f8b(0x171)],{'text':_0x1f38e1}),_0x1aec92=await downloadWithRetries(_0x40b065,_0x72fcb5,_0x1d6ab4,_0x464bfb,_0xe869d9+_0x1d1f8b(0x172));!_0x1aec92?await _0x72fcb5[_0x1d1f8b(0x14c)](_0x1d6ab4[_0x1d1f8b(0x171)],{'text':_0x1d1f8b(0x133)+_0x40b065['name']}):(await _0x72fcb5[_0x1d1f8b(0x14c)](_0x1d6ab4[_0x1d1f8b(0x171)],{'delete':_0x464bfb[_0x1d1f8b(0x11b)]}),await _0x72fcb5['sendMessage'](_0x1d6ab4[_0x1d1f8b(0x171)],{'audio':{'url':_0x1aec92['music']},'fileName':_0x1aec92[_0x1d1f8b(0x13a)]+'.mp3','mimetype':_0x1d1f8b(0x137),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x1aec92[_0x1d1f8b(0x13a)],'body':_0x1d1f8b(0x154)+_0x1aec92[_0x1d1f8b(0x15c)],'description':_0x1d1f8b(0x150)+_0x1aec92['album'],'thumbnailUrl':_0x1aec92['thumbnail']}}}),await new Promise(_0x13d32b=>setTimeout(_0x13d32b,0x7d0)));}else await _0x72fcb5[_0x1d1f8b(0x14c)](_0x1d6ab4[_0x1d1f8b(0x171)],{'delete':_0x474540[_0x1d1f8b(0x11b)]}),await _0x72fcb5[_0x1d1f8b(0x14c)](_0x1d6ab4[_0x1d1f8b(0x171)],{'audio':{'url':_0x1f65b9[_0x1d1f8b(0x129)]},'fileName':_0x1f65b9[_0x1d1f8b(0x13a)]+_0x1d1f8b(0x16d),'mimetype':'audio/mpeg','contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x1f65b9['title'],'body':_0x1d1f8b(0x154)+_0x1f65b9[_0x1d1f8b(0x15c)],'description':'√Ålbum:\x20'+_0x1f65b9[_0x1d1f8b(0x119)],'thumbnailUrl':_0x1f65b9[_0x1d1f8b(0x13f)]}}}),await _0x1d6ab4['react']('‚úÖ');}}catch(_0x496da2){await _0x1d6ab4[_0x1d1f8b(0x117)]('‚ùå'),await _0x1d6ab4['reply']('‚ùå\x20*Error:*\x20'+(_0x496da2['message']||_0x496da2)),console[_0x1d1f8b(0x120)](_0x496da2);}};handler[a0_0x194248(0x13d)]=[a0_0x194248(0x131),'music'],handler[a0_0x194248(0x151)]=[a0_0x194248(0x11a)],handler[a0_0x194248(0x16a)]=[a0_0x194248(0x131),a0_0x194248(0x129)],handler[a0_0x194248(0x160)]=![];export default handler;async function spotifyxv(_0x26d7db){const _0x118c8f=a0_0x194248,_0x36529e=await getSpotifyToken();try{let _0xba95a4=await a0_0x415844({'method':_0x118c8f(0x165),'url':_0x118c8f(0x139)+encodeURIComponent(_0x26d7db)+'&type=track','headers':{'Authorization':_0x118c8f(0x166)+_0x36529e}});const _0x7f2628=_0xba95a4[_0x118c8f(0x146)][_0x118c8f(0x125)]['items'];return _0x7f2628['map'](_0xf0d72c=>({'name':_0xf0d72c[_0x118c8f(0x15b)],'artist':_0xf0d72c[_0x118c8f(0x168)][_0x118c8f(0x12c)](_0x2cc4ab=>_0x2cc4ab['name'])['join'](',\x20'),'album':_0xf0d72c['album'][_0x118c8f(0x15b)],'duration':timestamp(_0xf0d72c['duration_ms']),'url':_0xf0d72c[_0x118c8f(0x112)][_0x118c8f(0x131)],'thumbnail':_0xf0d72c[_0x118c8f(0x119)][_0x118c8f(0x10f)][0x0]?.['url']||''}));}catch(_0x4c53ef){return console[_0x118c8f(0x120)](_0x4c53ef),[];}}async function spotifyAlbum(_0x4aa41b){const _0x5ebd18=a0_0x194248;let _0x265a9f;try{const _0x544b16=_0x4aa41b[_0x5ebd18(0x138)]('/');_0x265a9f=_0x544b16[_0x544b16[_0x5ebd18(0x16b)](_0x5ebd18(0x119))+0x1][_0x5ebd18(0x138)]('?')[0x0];}catch(_0x1d1899){throw new Error(_0x5ebd18(0x159));}const _0x4662b8=await getSpotifyToken();let _0x5af171=await a0_0x415844({'method':_0x5ebd18(0x165),'url':_0x5ebd18(0x14d)+_0x265a9f,'headers':{'Authorization':_0x5ebd18(0x166)+_0x4662b8}});const _0x157f98=_0x5af171[_0x5ebd18(0x146)],_0x2e8158=_0x157f98['tracks'][_0x5ebd18(0x155)][_0x5ebd18(0x12c)](_0x5c058a=>({'name':_0x5c058a[_0x5ebd18(0x15b)],'artist':_0x5c058a[_0x5ebd18(0x168)][_0x5ebd18(0x12c)](_0x5f05ff=>_0x5f05ff['name'])[_0x5ebd18(0x115)](',\x20'),'album':_0x157f98[_0x5ebd18(0x15b)],'url':_0x5c058a[_0x5ebd18(0x112)][_0x5ebd18(0x131)],'thumbnail':_0x157f98['images'][0x0]?.[_0x5ebd18(0x10e)]||''}));return{'album':_0x157f98,'tracks':_0x2e8158};}async function spotifyAlbumSearch(_0x5e90ee){const _0x4ee1ba=a0_0x194248,_0x301cb7=await getSpotifyToken();let _0x18814b=await a0_0x415844({'method':_0x4ee1ba(0x165),'url':'https://api.spotify.com/v1/search?q='+encodeURIComponent(_0x5e90ee)+_0x4ee1ba(0x175),'headers':{'Authorization':'Bearer\x20'+_0x301cb7}});const _0x4679ce=_0x18814b[_0x4ee1ba(0x146)][_0x4ee1ba(0x147)]['items'];if(!_0x4679ce['length'])return null;const _0x505939=_0x4679ce[0x0]['id'];let _0x4f1708=await a0_0x415844({'method':_0x4ee1ba(0x165),'url':_0x4ee1ba(0x14d)+_0x505939,'headers':{'Authorization':_0x4ee1ba(0x166)+_0x301cb7}});const _0x6bdce3=_0x4f1708[_0x4ee1ba(0x146)],_0x287099=_0x6bdce3['tracks'][_0x4ee1ba(0x155)][_0x4ee1ba(0x12c)](_0x58b16b=>({'name':_0x58b16b[_0x4ee1ba(0x15b)],'artist':_0x58b16b['artists']['map'](_0x47b782=>_0x47b782[_0x4ee1ba(0x15b)])[_0x4ee1ba(0x115)](',\x20'),'album':_0x6bdce3['name'],'url':_0x58b16b[_0x4ee1ba(0x112)]['spotify'],'thumbnail':_0x6bdce3[_0x4ee1ba(0x10f)][0x0]?.[_0x4ee1ba(0x10e)]||''}));return{'album':_0x6bdce3,'tracks':_0x287099};}async function spotifyPlaylist(_0x51d304){const _0x20f706=a0_0x194248;let _0x5d7012;try{const _0x77944a=_0x51d304[_0x20f706(0x138)]('/');_0x5d7012=_0x77944a[_0x77944a[_0x20f706(0x16b)]('playlist')+0x1]['split']('?')[0x0];}catch(_0x44ecd6){throw new Error('No\x20se\x20pudo\x20extraer\x20el\x20ID\x20de\x20la\x20playlist.');}const _0x4a9648=await getSpotifyToken();let _0xc3a8de=await a0_0x415844({'method':_0x20f706(0x165),'url':'https://api.spotify.com/v1/playlists/'+_0x5d7012,'headers':{'Authorization':_0x20f706(0x166)+_0x4a9648}});const _0xdf3ef0=_0xc3a8de[_0x20f706(0x146)],_0x4cb05e=_0xdf3ef0[_0x20f706(0x125)][_0x20f706(0x155)][_0x20f706(0x12c)](_0x20b27f=>{const _0x622a92=_0x20f706,_0x430f48=_0x20b27f[_0x622a92(0x124)];return{'name':_0x430f48['name'],'artist':_0x430f48['artists'][_0x622a92(0x12c)](_0x16ddf1=>_0x16ddf1[_0x622a92(0x15b)])[_0x622a92(0x115)](',\x20'),'album':_0xdf3ef0[_0x622a92(0x15b)],'url':_0x430f48['external_urls'][_0x622a92(0x131)],'thumbnail':_0x430f48[_0x622a92(0x119)]['images'][0x0]?.['url']||''};});return{'album':{'name':_0xdf3ef0[_0x20f706(0x15b)]},'tracks':_0x4cb05e};}async function spotifyArtist(_0x301d3d){const _0x425a68=a0_0x194248;let _0x9034a2;try{const _0x35ec77=_0x301d3d['split']('/');_0x9034a2=_0x35ec77[_0x35ec77[_0x425a68(0x16b)](_0x425a68(0x15c))+0x1][_0x425a68(0x138)]('?')[0x0];}catch(_0x54af4b){throw new Error(_0x425a68(0x15a));}const _0x333eb1=await getSpotifyToken();let _0x232099=await a0_0x415844({'method':_0x425a68(0x165),'url':_0x425a68(0x167)+_0x9034a2+_0x425a68(0x14a),'headers':{'Authorization':_0x425a68(0x166)+_0x333eb1}});const _0x3e7b8a=_0x232099[_0x425a68(0x146)],_0x29c1ea=_0x3e7b8a[_0x425a68(0x125)][_0x425a68(0x12c)](_0x5b751e=>({'name':_0x5b751e['name'],'artist':_0x5b751e[_0x425a68(0x168)][_0x425a68(0x12c)](_0x29a6fc=>_0x29a6fc[_0x425a68(0x15b)])['join'](',\x20'),'album':'Top\x20Tracks','url':_0x5b751e[_0x425a68(0x112)][_0x425a68(0x131)],'thumbnail':_0x5b751e[_0x425a68(0x119)][_0x425a68(0x10f)][0x0]?.['url']||''}));return{'album':{'name':_0x425a68(0x162)},'tracks':_0x29c1ea};}async function spotifyTrack(_0x3ab7dc){const _0x1bd947=a0_0x194248;let _0x1fe9e4;try{const _0x25a58f=_0x3ab7dc[_0x1bd947(0x138)]('/');_0x1fe9e4=_0x25a58f[_0x25a58f['indexOf'](_0x1bd947(0x124))+0x1]['split']('?')[0x0];}catch(_0x201a89){throw new Error(_0x1bd947(0x157));}const _0x173834=await getSpotifyToken();let _0x40ebd9=await a0_0x415844({'method':_0x1bd947(0x165),'url':'https://api.spotify.com/v1/tracks/'+_0x1fe9e4,'headers':{'Authorization':'Bearer\x20'+_0x173834}});const _0x43adbc=_0x40ebd9['data'];return{'name':_0x43adbc[_0x1bd947(0x15b)],'artist':_0x43adbc[_0x1bd947(0x168)]['map'](_0x247751=>_0x247751[_0x1bd947(0x15b)])[_0x1bd947(0x115)](',\x20'),'album':_0x43adbc[_0x1bd947(0x119)][_0x1bd947(0x15b)],'url':_0x43adbc['external_urls'][_0x1bd947(0x131)],'thumbnail':_0x43adbc['album']['images'][0x0]?.[_0x1bd947(0x10e)]||''};}function timestamp(_0x27e37e){const _0x267b46=a0_0x194248,_0x49f73c=Math[_0x267b46(0x14f)](_0x27e37e/0xea60),_0x1c4229=Math[_0x267b46(0x14f)](_0x27e37e%0xea60/0x3e8);return _0x49f73c+':'+(_0x1c4229<0xa?'0':'')+_0x1c4229;}