const a0_0x20d569=a0_0x192a;(function(_0x2202a6,_0x13e4c5){const _0x1e1634=a0_0x192a,_0x1179b8=_0x2202a6();while(!![]){try{const _0x2e4800=-parseInt(_0x1e1634(0xd4))/0x1*(-parseInt(_0x1e1634(0x11f))/0x2)+-parseInt(_0x1e1634(0xca))/0x3+-parseInt(_0x1e1634(0xfe))/0x4*(-parseInt(_0x1e1634(0xc2))/0x5)+-parseInt(_0x1e1634(0x107))/0x6*(parseInt(_0x1e1634(0xeb))/0x7)+-parseInt(_0x1e1634(0xd1))/0x8+parseInt(_0x1e1634(0xd7))/0x9+-parseInt(_0x1e1634(0x116))/0xa;if(_0x2e4800===_0x13e4c5)break;else _0x1179b8['push'](_0x1179b8['shift']());}catch(_0x2a32c1){_0x1179b8['push'](_0x1179b8['shift']());}}}(a0_0xc5c1,0x30864));import a0_0x4b0d43 from'axios';import a0_0x22b0d3 from'node-fetch';let spotifyTokenCache={'token':null,'expiresAt':0x0};function a0_0xc5c1(){const _0x2b36a8=['key','26UfGfrm','chat','spotify.com/track','‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2030%','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±\x2080%','items','length','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20el\x20√°lbum.','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2040%','\x20(Reintento)','music','acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009','√Ålbum:\x20','https://api.spotify.com/v1/search?q=','\x0a‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ','post','token','statusText','open.spotify.com/album','join','1283885HwtRvm','toString','https://api.spotify.com/v1/artists/','application/x-www-form-urlencoded','‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2010%','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2050%','Error\x20al\x20obtener\x20la\x20imagen:\x20','&type=track','278616CQArzK','audio/mpeg','thumbnail','https://api.spotify.com/v1/albums/','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20para\x20el\x20artista.','downloader','albums','1045392NeqFTo','.mp3','floor','2aSKvLS','artists','\x20https://open.spotify.com/artist/...','2696220MPYLIC','Artista:\x20','split','base64','Basic\x20','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20artista.','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±\x2060%','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20de\x20la\x20playlist.','https://api.spotify.com/v1/tracks/','command','now','access_token','tags','\x0aüõ†Ô∏è\x20Intento:\x20','group','playlist','expires_in','includes','sendMessage','external_urls','763iUUngd','\x20Bellyache\x0a‚Ä¢\x20','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20track.','data','‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±\x2090%','No\x20se\x20pudieron\x20extraer\x20las\x20siguientes\x20sombras:\x0a','title','images','album','\x20https://open.spotify.com/album/...\x0a‚Ä¢\x20','spotify','push','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±\x2070%','open.spotify.com/playlist','json','‚ùå\x20*Error:*\x20','‚ùå\x20*Error:*\x20No\x20se\x20encontraron\x20resultados.','/top-tracks?market=US','4Gccpou','get','buffer','url','artist','reply','\x0aüí†\x20Progreso:\x20','No\x20se\x20pudo\x20obtener\x20el\x20enlace\x20de\x20descarga\x20para\x20','‚öîÔ∏è\x20Error:\x20No\x20ingresaste\x20ninguna\x20b√∫squeda\x20o\x20enlace.\x0a\x0aEjemplo:\x0a‚Ä¢\x20','5958sOaEQh','react','expiresAt','indexOf','https://api.spotify.com/v1/playlists/','name','error','track','https://accounts.spotify.com/api/token','\x20https://open.spotify.com/track/...\x0a‚Ä¢\x20','‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2020%','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20¬°Descargado!','Bearer\x20','tracks','No\x20se\x20pudo\x20extraer\x20la\x20sombra\x20de:\x20','258440ymhvcR','Top\x20Tracks','map','message','spotify.com/artist','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20la\x20playlist.','open.spotify.com/artist','from'];a0_0xc5c1=function(){return _0x2b36a8;};return a0_0xc5c1();}async function getSpotifyToken(){const _0x22b48a=a0_0x192a,_0x2dd8f3=Date[_0x22b48a(0xe1)]();if(spotifyTokenCache[_0x22b48a(0xbe)]&&spotifyTokenCache[_0x22b48a(0x109)]>_0x2dd8f3)return spotifyTokenCache[_0x22b48a(0xbe)];const _0x459e65=await a0_0x4b0d43({'method':_0x22b48a(0xbd),'url':_0x22b48a(0x10f),'headers':{'Content-Type':_0x22b48a(0xc5),'Authorization':_0x22b48a(0xdb)+Buffer[_0x22b48a(0x11d)](_0x22b48a(0xb9))[_0x22b48a(0xc3)](_0x22b48a(0xda))},'data':'grant_type=client_credentials'}),_0x73ac32=_0x459e65[_0x22b48a(0xee)][_0x22b48a(0xe2)];return spotifyTokenCache[_0x22b48a(0xbe)]=_0x73ac32,spotifyTokenCache[_0x22b48a(0x109)]=_0x2dd8f3+_0x459e65['data'][_0x22b48a(0xe7)]*0x3e8-0xea60,_0x73ac32;}async function getBuffer(_0xf445f0){const _0x1ad34f=a0_0x192a,_0x5b29ce=await a0_0x22b0d3(_0xf445f0);if(!_0x5b29ce['ok'])throw new Error(_0x1ad34f(0xc8)+_0x5b29ce[_0x1ad34f(0xbf)]);return await _0x5b29ce[_0x1ad34f(0x100)]();}function formatExtractionMessage(_0x270aba,_0x496e53,_0x1cd328){const _0x5642ad=a0_0x192a;return'‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\x0a‚öîÔ∏è\x20Extracci√≥n\x20en\x20Curso\x0aüåü\x20Objetivo:\x20'+_0x270aba+_0x5642ad(0xe4)+_0x496e53+_0x5642ad(0x104)+_0x1cd328+_0x5642ad(0xbc);}async function progressWithSync(_0x426dc0,_0x781f8e,_0x1829d2,_0x2fc44d,{objective:_0x32a7c1,attempt:_0x4d5993,failedTrack:failedTrack=null}){const _0x266214=a0_0x192a;let _0x52b658=![];const _0x302fa5=[_0x266214(0xef),_0x266214(0xc6),_0x266214(0x111),_0x266214(0x122),_0x266214(0x127),_0x266214(0xc7),_0x266214(0xdd),_0x266214(0xf8),_0x266214(0x123),_0x266214(0xf0)];let _0x5e95b1=0x0;const _0x4ede48=0x12c,_0x5aeba6=setInterval(async()=>{const _0xfd346e=_0x266214;if(_0x5e95b1<_0x302fa5[_0xfd346e(0x125)]){const _0x2c8a62=formatExtractionMessage(_0x32a7c1,_0x4d5993,_0x302fa5[_0x5e95b1]);await _0x426dc0['sendMessage'](_0x781f8e[_0xfd346e(0x120)],{'text':_0x2c8a62,'edit':_0x1829d2[_0xfd346e(0x11e)]}),_0x5e95b1++;}},_0x4ede48);try{await _0x2fc44d;}catch(_0x2a8717){_0x52b658=!![];}clearInterval(_0x5aeba6);const _0x2ace6a=_0x52b658&&failedTrack?'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20Fall√≥\x20la\x20extracci√≥n\x20de:\x20'+failedTrack:_0x266214(0x112),_0x2934d8=formatExtractionMessage(_0x32a7c1,_0x4d5993,_0x2ace6a);await _0x426dc0[_0x266214(0xe9)](_0x781f8e[_0x266214(0x120)],{'text':_0x2934d8,'edit':_0x1829d2[_0x266214(0x11e)]});}async function downloadWithRetries(_0x34242d,_0x2baaeb,_0xad0c69,_0x53a4b2,_0x4affc3){const _0x1a4b4a=a0_0x192a;let _0x3924e0=null;for(let _0x32d691=0x1;_0x32d691<=0x3;_0x32d691++){try{const _0xfc677d=a0_0x22b0d3('https://apis-starlights-team.koyeb.app/starlight/spotifydl?url='+_0x34242d[_0x1a4b4a(0x101)])['then'](_0x5e1b3f=>_0x5e1b3f[_0x1a4b4a(0xfa)]());await progressWithSync(_0x2baaeb,_0xad0c69,_0x53a4b2,_0xfc677d,{'objective':_0x4affc3,'attempt':_0x32d691,'failedTrack':_0x32d691===0x3?_0x34242d['name']:null}),_0x3924e0=await _0xfc677d;if(!_0x3924e0||!_0x3924e0[_0x1a4b4a(0xb8)])throw new Error(_0x1a4b4a(0x105)+_0x34242d[_0x1a4b4a(0x10c)]);return _0x3924e0;}catch(_0x445610){if(_0x32d691===0x3)return null;await new Promise(_0x30d418=>setTimeout(_0x30d418,0x3e8));}}return null;}let handler=async(_0x3aea58,{conn:_0x438083,text:_0x5d5ce6,usedPrefix:_0xb2f25b,command:_0x4eb780})=>{const _0x119e19=a0_0x192a;if(!_0x5d5ce6)throw _0x119e19(0x106)+(_0xb2f25b+_0x4eb780)+_0x119e19(0xec)+(_0xb2f25b+_0x4eb780)+_0x119e19(0x110)+(_0xb2f25b+_0x4eb780)+_0x119e19(0xf5)+(_0xb2f25b+_0x4eb780)+'\x20https://open.spotify.com/playlist/...\x0a‚Ä¢\x20'+(_0xb2f25b+_0x4eb780)+_0x119e19(0xd6);try{await _0x3aea58[_0x119e19(0x108)]('‚è≥');let _0x38063f=![],_0x551207=![],_0x5b30f7=![],_0x270922;if(_0x5d5ce6[_0x119e19(0xe8)](_0x119e19(0xc0))){_0x38063f=!![],_0x270922=await spotifyAlbum(_0x5d5ce6);if(!_0x270922?.['tracks']?.[_0x119e19(0x125)])throw _0x119e19(0x126);}else{if(_0x5d5ce6[_0x119e19(0xe8)](_0x119e19(0xf9))){_0x551207=!![],_0x270922=await spotifyPlaylist(_0x5d5ce6);if(!_0x270922?.[_0x119e19(0x114)]?.[_0x119e19(0x125)])throw _0x119e19(0x11b);}else{if(_0x5d5ce6[_0x119e19(0xe8)](_0x119e19(0x11c))||_0x5d5ce6[_0x119e19(0xe8)](_0x119e19(0x11a))){_0x38063f=!![],_0x5b30f7=!![],_0x270922=await spotifyArtist(_0x5d5ce6);if(!_0x270922?.['tracks']?.[_0x119e19(0x125)])throw _0x119e19(0xce);}else{if(_0x5d5ce6[_0x119e19(0xe8)](_0x119e19(0x121)))_0x270922={'tracks':[await spotifyTrack(_0x5d5ce6)]};else{if(_0x5d5ce6['toLowerCase']()[_0x119e19(0xe8)](_0x119e19(0xf4))){_0x38063f=!![],_0x270922=await spotifyAlbumSearch(_0x5d5ce6);if(!_0x270922?.[_0x119e19(0x114)]?.[_0x119e19(0x125)])throw _0x119e19(0x126);}else{const _0x38f229=await spotifyxv(_0x5d5ce6);if(!_0x38f229['length']||!_0x38f229[0x0][_0x119e19(0x101)])throw _0x119e19(0xfc);_0x270922={'tracks':[_0x38f229[0x0]]};}}}}}if(_0x38063f||_0x551207){let _0x2bb337=[];for(let _0x511f63=0x0;_0x511f63<_0x270922[_0x119e19(0x114)][_0x119e19(0x125)];_0x511f63++){const _0x5cdd2d=_0x270922['tracks'][_0x511f63],_0xa40f10=_0x5cdd2d[_0x119e19(0x10c)]+'\x20('+(_0x511f63+0x1)+'/'+_0x270922['tracks'][_0x119e19(0x125)]+')',_0x66afe=formatExtractionMessage(_0xa40f10,0x1,_0x119e19(0xef)),_0x1acb64=await _0x438083[_0x119e19(0xe9)](_0x3aea58[_0x119e19(0x120)],{'text':_0x66afe}),_0x1993c3=await downloadWithRetries(_0x5cdd2d,_0x438083,_0x3aea58,_0x1acb64,_0xa40f10);_0x1993c3?(await _0x438083[_0x119e19(0xe9)](_0x3aea58['chat'],{'delete':_0x1acb64[_0x119e19(0x11e)]}),await _0x438083[_0x119e19(0xe9)](_0x3aea58['chat'],{'audio':{'url':_0x1993c3['music']},'fileName':_0x1993c3[_0x119e19(0xf2)]+'.mp3','mimetype':_0x119e19(0xcb),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x1993c3['title'],'body':_0x119e19(0xd8)+_0x1993c3[_0x119e19(0x102)],'description':_0x119e19(0xba)+_0x1993c3[_0x119e19(0xf4)],'thumbnailUrl':_0x1993c3[_0x119e19(0xcc)]}}}),await new Promise(_0x1a5074=>setTimeout(_0x1a5074,0x7d0))):_0x2bb337[_0x119e19(0xf7)](_0x5cdd2d);}if(_0x2bb337[_0x119e19(0x125)]>0x0){let _0x1fec0a=_0x2bb337['map'](_0x108004=>_0x108004[_0x119e19(0x10c)])[_0x119e19(0xc1)]('\x0a');await _0x438083['sendMessage'](_0x3aea58[_0x119e19(0x120)],{'text':'Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a'+_0x1fec0a});let _0x37452b=[];for(let _0x472cb4 of _0x2bb337){const _0x4b4899=_0x472cb4['name']+_0x119e19(0x128),_0x3f0f79=formatExtractionMessage(_0x4b4899,0x1,_0x119e19(0xef)),_0x4d4922=await _0x438083[_0x119e19(0xe9)](_0x3aea58[_0x119e19(0x120)],{'text':_0x3f0f79}),_0x33f373=await downloadWithRetries(_0x472cb4,_0x438083,_0x3aea58,_0x4d4922,_0x4b4899);_0x33f373?(await _0x438083[_0x119e19(0xe9)](_0x3aea58[_0x119e19(0x120)],{'delete':_0x4d4922[_0x119e19(0x11e)]}),await _0x438083[_0x119e19(0xe9)](_0x3aea58[_0x119e19(0x120)],{'audio':{'url':_0x33f373[_0x119e19(0xb8)]},'fileName':_0x33f373[_0x119e19(0xf2)]+_0x119e19(0xd2),'mimetype':_0x119e19(0xcb),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x33f373['title'],'body':_0x119e19(0xd8)+_0x33f373[_0x119e19(0x102)],'description':'√Ålbum:\x20'+_0x33f373['album'],'thumbnailUrl':_0x33f373[_0x119e19(0xcc)]}}}),await new Promise(_0x2ac4e0=>setTimeout(_0x2ac4e0,0x7d0))):_0x37452b['push'](_0x472cb4);}if(_0x37452b[_0x119e19(0x125)]>0x0){let _0x4c851e=_0x37452b[_0x119e19(0x118)](_0xb1a019=>_0xb1a019['name'])[_0x119e19(0xc1)]('\x0a');await _0x438083[_0x119e19(0xe9)](_0x3aea58[_0x119e19(0x120)],{'text':_0x119e19(0xf1)+_0x4c851e});}}}else{const _0x4304a2=_0x270922[_0x119e19(0x114)][0x0],_0x360485=_0x4304a2[_0x119e19(0x10c)]+'\x20(1/1)',_0x11ecb2=formatExtractionMessage(_0x360485,0x1,_0x119e19(0xef)),_0x53e1b1=await _0x438083['sendMessage'](_0x3aea58[_0x119e19(0x120)],{'text':_0x11ecb2}),_0x2c3017=await downloadWithRetries(_0x4304a2,_0x438083,_0x3aea58,_0x53e1b1,_0x360485);if(!_0x2c3017){await _0x438083[_0x119e19(0xe9)](_0x3aea58[_0x119e19(0x120)],{'text':'Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a'+_0x4304a2[_0x119e19(0x10c)]});const _0x22ef9=formatExtractionMessage(_0x360485+'\x20(Reintento)',0x1,'‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%'),_0x4d8d0d=await _0x438083[_0x119e19(0xe9)](_0x3aea58[_0x119e19(0x120)],{'text':_0x22ef9}),_0x395db7=await downloadWithRetries(_0x4304a2,_0x438083,_0x3aea58,_0x4d8d0d,_0x360485+_0x119e19(0x128));!_0x395db7?await _0x438083[_0x119e19(0xe9)](_0x3aea58[_0x119e19(0x120)],{'text':_0x119e19(0x115)+_0x4304a2[_0x119e19(0x10c)]}):(await _0x438083[_0x119e19(0xe9)](_0x3aea58[_0x119e19(0x120)],{'delete':_0x4d8d0d[_0x119e19(0x11e)]}),await _0x438083[_0x119e19(0xe9)](_0x3aea58['chat'],{'audio':{'url':_0x395db7['music']},'fileName':_0x395db7[_0x119e19(0xf2)]+_0x119e19(0xd2),'mimetype':_0x119e19(0xcb),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x395db7[_0x119e19(0xf2)],'body':_0x119e19(0xd8)+_0x395db7['artist'],'description':_0x119e19(0xba)+_0x395db7[_0x119e19(0xf4)],'thumbnailUrl':_0x395db7[_0x119e19(0xcc)]}}}),await new Promise(_0x10e800=>setTimeout(_0x10e800,0x7d0)));}else await _0x438083[_0x119e19(0xe9)](_0x3aea58[_0x119e19(0x120)],{'delete':_0x53e1b1[_0x119e19(0x11e)]}),await _0x438083['sendMessage'](_0x3aea58[_0x119e19(0x120)],{'audio':{'url':_0x2c3017[_0x119e19(0xb8)]},'fileName':_0x2c3017['title']+_0x119e19(0xd2),'mimetype':'audio/mpeg','contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x2c3017[_0x119e19(0xf2)],'body':_0x119e19(0xd8)+_0x2c3017[_0x119e19(0x102)],'description':_0x119e19(0xba)+_0x2c3017['album'],'thumbnailUrl':_0x2c3017[_0x119e19(0xcc)]}}}),await _0x3aea58[_0x119e19(0x108)]('‚úÖ');}}catch(_0x7c689e){await _0x3aea58[_0x119e19(0x108)]('‚ùå'),await _0x3aea58[_0x119e19(0x103)](_0x119e19(0xfb)+(_0x7c689e[_0x119e19(0x119)]||_0x7c689e)),console[_0x119e19(0x10d)](_0x7c689e);}};handler['help']=[a0_0x20d569(0xf6),a0_0x20d569(0xb8)],handler[a0_0x20d569(0xe3)]=[a0_0x20d569(0xcf)],handler[a0_0x20d569(0xe0)]=[a0_0x20d569(0xf6),a0_0x20d569(0xb8)],handler[a0_0x20d569(0xe5)]=![];export default handler;async function spotifyxv(_0x3f8a38){const _0x1b8b1a=a0_0x20d569,_0x160031=await getSpotifyToken();try{let _0x2ebf78=await a0_0x4b0d43({'method':_0x1b8b1a(0xff),'url':_0x1b8b1a(0xbb)+encodeURIComponent(_0x3f8a38)+_0x1b8b1a(0xc9),'headers':{'Authorization':_0x1b8b1a(0x113)+_0x160031}});const _0x3e2e36=_0x2ebf78[_0x1b8b1a(0xee)]['tracks'][_0x1b8b1a(0x124)];return _0x3e2e36['map'](_0xaa7ea4=>({'name':_0xaa7ea4[_0x1b8b1a(0x10c)],'artist':_0xaa7ea4[_0x1b8b1a(0xd5)][_0x1b8b1a(0x118)](_0x47700e=>_0x47700e[_0x1b8b1a(0x10c)])[_0x1b8b1a(0xc1)](',\x20'),'album':_0xaa7ea4[_0x1b8b1a(0xf4)]['name'],'duration':timestamp(_0xaa7ea4['duration_ms']),'url':_0xaa7ea4[_0x1b8b1a(0xea)][_0x1b8b1a(0xf6)],'thumbnail':_0xaa7ea4[_0x1b8b1a(0xf4)][_0x1b8b1a(0xf3)][0x0]?.[_0x1b8b1a(0x101)]||''}));}catch(_0x25b03d){return console['error'](_0x25b03d),[];}}async function spotifyAlbum(_0x300d59){const _0x5d87e9=a0_0x20d569;let _0x46b3a3;try{const _0x31d0c7=_0x300d59[_0x5d87e9(0xd9)]('/');_0x46b3a3=_0x31d0c7[_0x31d0c7[_0x5d87e9(0x10a)]('album')+0x1]['split']('?')[0x0];}catch(_0x7010d6){throw new Error('No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20√°lbum.');}const _0x414610=await getSpotifyToken();let _0x22b44f=await a0_0x4b0d43({'method':'get','url':_0x5d87e9(0xcd)+_0x46b3a3,'headers':{'Authorization':_0x5d87e9(0x113)+_0x414610}});const _0x1fb4f2=_0x22b44f[_0x5d87e9(0xee)],_0xd0e08e=_0x1fb4f2[_0x5d87e9(0x114)][_0x5d87e9(0x124)][_0x5d87e9(0x118)](_0x583d6b=>({'name':_0x583d6b['name'],'artist':_0x583d6b['artists'][_0x5d87e9(0x118)](_0x1350b7=>_0x1350b7[_0x5d87e9(0x10c)])[_0x5d87e9(0xc1)](',\x20'),'album':_0x1fb4f2[_0x5d87e9(0x10c)],'url':_0x583d6b[_0x5d87e9(0xea)][_0x5d87e9(0xf6)],'thumbnail':_0x1fb4f2[_0x5d87e9(0xf3)][0x0]?.[_0x5d87e9(0x101)]||''}));return{'album':_0x1fb4f2,'tracks':_0xd0e08e};}async function spotifyAlbumSearch(_0x33d1b2){const _0x174a2b=a0_0x20d569,_0x574b9d=await getSpotifyToken();let _0x5092c0=await a0_0x4b0d43({'method':_0x174a2b(0xff),'url':_0x174a2b(0xbb)+encodeURIComponent(_0x33d1b2)+'&type=album','headers':{'Authorization':_0x174a2b(0x113)+_0x574b9d}});const _0x3b9c1e=_0x5092c0['data'][_0x174a2b(0xd0)][_0x174a2b(0x124)];if(!_0x3b9c1e[_0x174a2b(0x125)])return null;const _0x5c15df=_0x3b9c1e[0x0]['id'];let _0x4cf4d6=await a0_0x4b0d43({'method':_0x174a2b(0xff),'url':_0x174a2b(0xcd)+_0x5c15df,'headers':{'Authorization':'Bearer\x20'+_0x574b9d}});const _0x114c23=_0x4cf4d6[_0x174a2b(0xee)],_0x1da665=_0x114c23[_0x174a2b(0x114)][_0x174a2b(0x124)][_0x174a2b(0x118)](_0x4a8816=>({'name':_0x4a8816[_0x174a2b(0x10c)],'artist':_0x4a8816[_0x174a2b(0xd5)][_0x174a2b(0x118)](_0x17f055=>_0x17f055['name'])[_0x174a2b(0xc1)](',\x20'),'album':_0x114c23['name'],'url':_0x4a8816['external_urls']['spotify'],'thumbnail':_0x114c23[_0x174a2b(0xf3)][0x0]?.[_0x174a2b(0x101)]||''}));return{'album':_0x114c23,'tracks':_0x1da665};}function a0_0x192a(_0x41cbd9,_0x51843a){const _0xc5c12=a0_0xc5c1();return a0_0x192a=function(_0x192a40,_0x2247a1){_0x192a40=_0x192a40-0xb8;let _0x42457c=_0xc5c12[_0x192a40];return _0x42457c;},a0_0x192a(_0x41cbd9,_0x51843a);}async function spotifyPlaylist(_0x114373){const _0x12f875=a0_0x20d569;let _0x3ce24a;try{const _0x5db6b7=_0x114373[_0x12f875(0xd9)]('/');_0x3ce24a=_0x5db6b7[_0x5db6b7[_0x12f875(0x10a)](_0x12f875(0xe6))+0x1]['split']('?')[0x0];}catch(_0x1b8e51){throw new Error(_0x12f875(0xde));}const _0x1173d4=await getSpotifyToken();let _0x562c9c=await a0_0x4b0d43({'method':_0x12f875(0xff),'url':_0x12f875(0x10b)+_0x3ce24a,'headers':{'Authorization':_0x12f875(0x113)+_0x1173d4}});const _0x2e1185=_0x562c9c[_0x12f875(0xee)],_0x5ea5a3=_0x2e1185[_0x12f875(0x114)][_0x12f875(0x124)][_0x12f875(0x118)](_0x407024=>{const _0x1e5d82=_0x12f875,_0x2a7062=_0x407024[_0x1e5d82(0x10e)];return{'name':_0x2a7062[_0x1e5d82(0x10c)],'artist':_0x2a7062[_0x1e5d82(0xd5)]['map'](_0x18ecd2=>_0x18ecd2[_0x1e5d82(0x10c)])[_0x1e5d82(0xc1)](',\x20'),'album':_0x2e1185[_0x1e5d82(0x10c)],'url':_0x2a7062[_0x1e5d82(0xea)][_0x1e5d82(0xf6)],'thumbnail':_0x2a7062[_0x1e5d82(0xf4)][_0x1e5d82(0xf3)][0x0]?.[_0x1e5d82(0x101)]||''};});return{'album':{'name':_0x2e1185[_0x12f875(0x10c)]},'tracks':_0x5ea5a3};}async function spotifyArtist(_0x119ffa){const _0x44e6fb=a0_0x20d569;let _0x33fc66;try{const _0x1ea484=_0x119ffa[_0x44e6fb(0xd9)]('/');_0x33fc66=_0x1ea484[_0x1ea484['indexOf'](_0x44e6fb(0x102))+0x1][_0x44e6fb(0xd9)]('?')[0x0];}catch(_0x1a9513){throw new Error(_0x44e6fb(0xdc));}const _0x516e83=await getSpotifyToken();let _0x24810f=await a0_0x4b0d43({'method':_0x44e6fb(0xff),'url':_0x44e6fb(0xc4)+_0x33fc66+_0x44e6fb(0xfd),'headers':{'Authorization':_0x44e6fb(0x113)+_0x516e83}});const _0x5e1b15=_0x24810f[_0x44e6fb(0xee)],_0x38c488=_0x5e1b15['tracks']['map'](_0x388bcc=>({'name':_0x388bcc[_0x44e6fb(0x10c)],'artist':_0x388bcc['artists'][_0x44e6fb(0x118)](_0x58a793=>_0x58a793[_0x44e6fb(0x10c)])['join'](',\x20'),'album':_0x44e6fb(0x117),'url':_0x388bcc[_0x44e6fb(0xea)][_0x44e6fb(0xf6)],'thumbnail':_0x388bcc[_0x44e6fb(0xf4)][_0x44e6fb(0xf3)][0x0]?.[_0x44e6fb(0x101)]||''}));return{'album':{'name':_0x44e6fb(0x117)},'tracks':_0x38c488};}async function spotifyTrack(_0x4ddffe){const _0x93493c=a0_0x20d569;let _0x15434e;try{const _0x2b7220=_0x4ddffe['split']('/');_0x15434e=_0x2b7220[_0x2b7220[_0x93493c(0x10a)](_0x93493c(0x10e))+0x1][_0x93493c(0xd9)]('?')[0x0];}catch(_0x292df7){throw new Error(_0x93493c(0xed));}const _0x2a334c=await getSpotifyToken();let _0x723d49=await a0_0x4b0d43({'method':_0x93493c(0xff),'url':_0x93493c(0xdf)+_0x15434e,'headers':{'Authorization':_0x93493c(0x113)+_0x2a334c}});const _0x2389c0=_0x723d49['data'];return{'name':_0x2389c0[_0x93493c(0x10c)],'artist':_0x2389c0[_0x93493c(0xd5)][_0x93493c(0x118)](_0x20c6dd=>_0x20c6dd[_0x93493c(0x10c)])['join'](',\x20'),'album':_0x2389c0[_0x93493c(0xf4)][_0x93493c(0x10c)],'url':_0x2389c0[_0x93493c(0xea)][_0x93493c(0xf6)],'thumbnail':_0x2389c0[_0x93493c(0xf4)][_0x93493c(0xf3)][0x0]?.[_0x93493c(0x101)]||''};}function timestamp(_0x156b4a){const _0x1ff0ee=a0_0x20d569,_0x3ec2a1=Math['floor'](_0x156b4a/0xea60),_0x313958=Math[_0x1ff0ee(0xd3)](_0x156b4a%0xea60/0x3e8);return _0x3ec2a1+':'+(_0x313958<0xa?'0':'')+_0x313958;}