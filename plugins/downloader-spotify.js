const a0_0x46375c=a0_0x4148;(function(_0x5e4e89,_0x4464f1){const _0x58afb4=a0_0x4148,_0x52284a=_0x5e4e89();while(!![]){try{const _0x275b5c=parseInt(_0x58afb4(0xfc))/0x1*(parseInt(_0x58afb4(0x111))/0x2)+-parseInt(_0x58afb4(0x106))/0x3+parseInt(_0x58afb4(0xfe))/0x4+parseInt(_0x58afb4(0xfa))/0x5+-parseInt(_0x58afb4(0x131))/0x6+parseInt(_0x58afb4(0x10f))/0x7*(parseInt(_0x58afb4(0x144))/0x8)+parseInt(_0x58afb4(0x120))/0x9*(-parseInt(_0x58afb4(0x139))/0xa);if(_0x275b5c===_0x4464f1)break;else _0x52284a['push'](_0x52284a['shift']());}catch(_0x2195b1){_0x52284a['push'](_0x52284a['shift']());}}}(a0_0x5a96,0x9e560));import a0_0x2f4b3e from'axios';import a0_0x2664a6 from'node-fetch';let spotifyTokenCache={'token':null,'expiresAt':0x0};async function getSpotifyToken(){const _0x2277b1=a0_0x4148,_0x3f7bd1=Date[_0x2277b1(0x12e)]();if(spotifyTokenCache[_0x2277b1(0x10e)]&&spotifyTokenCache[_0x2277b1(0x11e)]>_0x3f7bd1)return spotifyTokenCache[_0x2277b1(0x10e)];const _0x3c9343=await a0_0x2f4b3e({'method':_0x2277b1(0xea),'url':_0x2277b1(0x12c),'headers':{'Content-Type':_0x2277b1(0x145),'Authorization':_0x2277b1(0x11a)+Buffer[_0x2277b1(0x113)](_0x2277b1(0xe4))[_0x2277b1(0xfb)](_0x2277b1(0xf2))},'data':_0x2277b1(0x117)}),_0x3b37e7=_0x3c9343[_0x2277b1(0xe9)][_0x2277b1(0xe2)];return spotifyTokenCache[_0x2277b1(0x10e)]=_0x3b37e7,spotifyTokenCache[_0x2277b1(0x11e)]=_0x3f7bd1+_0x3c9343[_0x2277b1(0xe9)][_0x2277b1(0x142)]*0x3e8-0xea60,_0x3b37e7;}async function getBuffer(_0x1bc09c){const _0x2046c8=a0_0x4148,_0x129d49=await a0_0x2664a6(_0x1bc09c);if(!_0x129d49['ok'])throw new Error(_0x2046c8(0x115)+_0x129d49[_0x2046c8(0x137)]);return await _0x129d49['buffer']();}function formatExtractionMessage(_0x5c2ca4,_0x2d6078,_0x3f3a9d){const _0x18c8cf=a0_0x4148;return _0x18c8cf(0xe7)+_0x5c2ca4+_0x18c8cf(0xe3)+_0x2d6078+'\x0aüí†\x20Progreso:\x20'+_0x3f3a9d+_0x18c8cf(0x13a);}async function progressWithSync(_0x49f3cd,_0x166bee,_0x2e2328,_0x5c1644,{objective:_0x491e0b,attempt:_0x2c7219,failedTrack:failedTrack=null}){const _0x165f2b=a0_0x4148;let _0x52393a=![];const _0x4b505a=[_0x165f2b(0x148),_0x165f2b(0x11c),_0x165f2b(0x100),_0x165f2b(0xe1),'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2040%',_0x165f2b(0x11f),_0x165f2b(0x13f),_0x165f2b(0xdf),_0x165f2b(0x12b),'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±\x2090%'];let _0x4e183a=0x0;const _0x4c084a=0x12c,_0x3bb85c=setInterval(async()=>{const _0x2db169=_0x165f2b;if(_0x4e183a<_0x4b505a[_0x2db169(0xf7)]){const _0x3cf21f=formatExtractionMessage(_0x491e0b,_0x2c7219,_0x4b505a[_0x4e183a]);await _0x49f3cd[_0x2db169(0xee)](_0x166bee['chat'],{'text':_0x3cf21f,'edit':_0x2e2328[_0x2db169(0x136)]}),_0x4e183a++;}},_0x4c084a);try{await _0x5c1644;}catch(_0x5d4b67){_0x52393a=!![];}clearInterval(_0x3bb85c);const _0x14a6da=_0x52393a&&failedTrack?'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20Fall√≥\x20la\x20extracci√≥n\x20de:\x20'+failedTrack:_0x165f2b(0xef),_0x18e11c=formatExtractionMessage(_0x491e0b,_0x2c7219,_0x14a6da);await _0x49f3cd[_0x165f2b(0xee)](_0x166bee['chat'],{'text':_0x18e11c,'edit':_0x2e2328[_0x165f2b(0x136)]});}async function downloadWithRetries(_0x3e5002,_0x39bc13,_0x5df80d,_0x48f099,_0x13364e){const _0x4715c8=a0_0x4148;let _0x2c877d=null;for(let _0x5b19fe=0x1;_0x5b19fe<=0x3;_0x5b19fe++){try{const _0x5cf53f=a0_0x2664a6('https://apis-starlights-team.koyeb.app/starlight/spotifydl?url='+_0x3e5002[_0x4715c8(0xed)])[_0x4715c8(0x140)](_0x5b67fb=>_0x5b67fb[_0x4715c8(0x146)]());await progressWithSync(_0x39bc13,_0x5df80d,_0x48f099,_0x5cf53f,{'objective':_0x13364e,'attempt':_0x5b19fe,'failedTrack':_0x5b19fe===0x3?_0x3e5002[_0x4715c8(0x107)]:null}),_0x2c877d=await _0x5cf53f;if(!_0x2c877d||!_0x2c877d[_0x4715c8(0x126)])throw new Error(_0x4715c8(0x112)+_0x3e5002[_0x4715c8(0x107)]);return _0x2c877d;}catch(_0x375357){if(_0x5b19fe===0x3)return null;await new Promise(_0x58cf36=>setTimeout(_0x58cf36,0x3e8));}}return null;}let handler=async(_0x1aab61,{conn:_0x20aa34,text:_0x5ef0ae,usedPrefix:_0x54775e,command:_0x2bf801})=>{const _0x2accc6=a0_0x4148;if(!_0x5ef0ae)throw _0x2accc6(0xeb)+(_0x54775e+_0x2bf801)+'\x20Bellyache\x0a‚Ä¢\x20'+(_0x54775e+_0x2bf801)+_0x2accc6(0xe8)+(_0x54775e+_0x2bf801)+'\x20https://open.spotify.com/album/...\x0a‚Ä¢\x20'+(_0x54775e+_0x2bf801)+_0x2accc6(0xff)+(_0x54775e+_0x2bf801)+_0x2accc6(0x103);try{await _0x1aab61['react']('‚è≥');let _0xf0c5e5=![],_0x448883=![],_0xf32653=![],_0x2c19a1;if(_0x5ef0ae['includes'](_0x2accc6(0x108))){_0xf0c5e5=!![],_0x2c19a1=await spotifyAlbum(_0x5ef0ae);if(!_0x2c19a1?.[_0x2accc6(0x130)]?.[_0x2accc6(0xf7)])throw _0x2accc6(0x132);}else{if(_0x5ef0ae[_0x2accc6(0xf9)](_0x2accc6(0x141))){_0x448883=!![],_0x2c19a1=await spotifyPlaylist(_0x5ef0ae);if(!_0x2c19a1?.[_0x2accc6(0x130)]?.[_0x2accc6(0xf7)])throw _0x2accc6(0x11b);}else{if(_0x5ef0ae['includes'](_0x2accc6(0x127))||_0x5ef0ae[_0x2accc6(0xf9)](_0x2accc6(0xfd))){_0xf0c5e5=!![],_0xf32653=!![],_0x2c19a1=await spotifyArtist(_0x5ef0ae);if(!_0x2c19a1?.[_0x2accc6(0x130)]?.[_0x2accc6(0xf7)])throw _0x2accc6(0x114);}else{if(_0x5ef0ae[_0x2accc6(0xf9)](_0x2accc6(0x109)))_0x2c19a1={'tracks':[await spotifyTrack(_0x5ef0ae)]};else{if(_0x5ef0ae['toLowerCase']()['includes'](_0x2accc6(0x134))){_0xf0c5e5=!![],_0x2c19a1=await spotifyAlbumSearch(_0x5ef0ae);if(!_0x2c19a1?.[_0x2accc6(0x130)]?.[_0x2accc6(0xf7)])throw _0x2accc6(0x132);}else{const _0x3d67f9=await spotifyxv(_0x5ef0ae);if(!_0x3d67f9[_0x2accc6(0xf7)]||!_0x3d67f9[0x0][_0x2accc6(0xed)])throw _0x2accc6(0x105);_0x2c19a1={'tracks':[_0x3d67f9[0x0]]};}}}}}if(_0xf0c5e5||_0x448883){let _0x13125e=[];for(let _0x441667=0x0;_0x441667<_0x2c19a1[_0x2accc6(0x130)][_0x2accc6(0xf7)];_0x441667++){const _0x5213b9=_0x2c19a1[_0x2accc6(0x130)][_0x441667],_0x1b8075=_0x5213b9[_0x2accc6(0x107)]+'\x20('+(_0x441667+0x1)+'/'+_0x2c19a1[_0x2accc6(0x130)][_0x2accc6(0xf7)]+')',_0x5cafcc=formatExtractionMessage(_0x1b8075,0x1,_0x2accc6(0x148)),_0x58f3cf=await _0x20aa34['sendMessage'](_0x1aab61[_0x2accc6(0xf1)],{'text':_0x5cafcc}),_0x14a404=await downloadWithRetries(_0x5213b9,_0x20aa34,_0x1aab61,_0x58f3cf,_0x1b8075);_0x14a404?(await _0x20aa34['sendMessage'](_0x1aab61[_0x2accc6(0xf1)],{'delete':_0x58f3cf[_0x2accc6(0x136)]}),await _0x20aa34[_0x2accc6(0xee)](_0x1aab61[_0x2accc6(0xf1)],{'audio':{'url':_0x14a404[_0x2accc6(0x126)]},'fileName':_0x14a404[_0x2accc6(0x13c)]+_0x2accc6(0x13e),'mimetype':_0x2accc6(0x10b),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x14a404[_0x2accc6(0x13c)],'body':_0x2accc6(0x12a)+_0x14a404[_0x2accc6(0x116)],'description':'√Ålbum:\x20'+_0x14a404[_0x2accc6(0x134)],'thumbnailUrl':_0x14a404[_0x2accc6(0x121)]}}}),await new Promise(_0x379b6d=>setTimeout(_0x379b6d,0x7d0))):_0x13125e[_0x2accc6(0x11d)](_0x5213b9);}if(_0x13125e[_0x2accc6(0xf7)]>0x0){let _0x532d23=_0x13125e['map'](_0x92091e=>_0x92091e[_0x2accc6(0x107)])[_0x2accc6(0x119)]('\x0a');await _0x20aa34['sendMessage'](_0x1aab61[_0x2accc6(0xf1)],{'text':_0x2accc6(0x110)+_0x532d23});let _0x51f5e7=[];for(let _0x1ca617 of _0x13125e){const _0xc00ad4=_0x1ca617[_0x2accc6(0x107)]+'\x20(Reintento)',_0x5056a2=formatExtractionMessage(_0xc00ad4,0x1,_0x2accc6(0x148)),_0x5e0f07=await _0x20aa34['sendMessage'](_0x1aab61[_0x2accc6(0xf1)],{'text':_0x5056a2}),_0x5a665c=await downloadWithRetries(_0x1ca617,_0x20aa34,_0x1aab61,_0x5e0f07,_0xc00ad4);_0x5a665c?(await _0x20aa34[_0x2accc6(0xee)](_0x1aab61[_0x2accc6(0xf1)],{'delete':_0x5e0f07[_0x2accc6(0x136)]}),await _0x20aa34[_0x2accc6(0xee)](_0x1aab61[_0x2accc6(0xf1)],{'audio':{'url':_0x5a665c[_0x2accc6(0x126)]},'fileName':_0x5a665c[_0x2accc6(0x13c)]+_0x2accc6(0x13e),'mimetype':_0x2accc6(0x10b),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x5a665c[_0x2accc6(0x13c)],'body':'Artista:\x20'+_0x5a665c[_0x2accc6(0x116)],'description':_0x2accc6(0x14a)+_0x5a665c[_0x2accc6(0x134)],'thumbnailUrl':_0x5a665c[_0x2accc6(0x121)]}}}),await new Promise(_0x4eb49a=>setTimeout(_0x4eb49a,0x7d0))):_0x51f5e7[_0x2accc6(0x11d)](_0x1ca617);}if(_0x51f5e7['length']>0x0){let _0x1a8ed9=_0x51f5e7[_0x2accc6(0x138)](_0x3136e3=>_0x3136e3[_0x2accc6(0x107)])[_0x2accc6(0x119)]('\x0a');await _0x20aa34[_0x2accc6(0xee)](_0x1aab61[_0x2accc6(0xf1)],{'text':_0x2accc6(0xf6)+_0x1a8ed9});}}}else{const _0x40e16b=_0x2c19a1['tracks'][0x0],_0x22be4f=_0x40e16b[_0x2accc6(0x107)]+_0x2accc6(0x10d),_0x544f19=formatExtractionMessage(_0x22be4f,0x1,_0x2accc6(0x148)),_0x4bab16=await _0x20aa34[_0x2accc6(0xee)](_0x1aab61['chat'],{'text':_0x544f19}),_0x1e6b0b=await downloadWithRetries(_0x40e16b,_0x20aa34,_0x1aab61,_0x4bab16,_0x22be4f);if(!_0x1e6b0b){await _0x20aa34['sendMessage'](_0x1aab61['chat'],{'text':'Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a'+_0x40e16b[_0x2accc6(0x107)]});const _0x3ab27e=formatExtractionMessage(_0x22be4f+'\x20(Reintento)',0x1,_0x2accc6(0x148)),_0x37e6a4=await _0x20aa34[_0x2accc6(0xee)](_0x1aab61[_0x2accc6(0xf1)],{'text':_0x3ab27e}),_0x3ccefe=await downloadWithRetries(_0x40e16b,_0x20aa34,_0x1aab61,_0x37e6a4,_0x22be4f+'\x20(Reintento)');!_0x3ccefe?await _0x20aa34[_0x2accc6(0xee)](_0x1aab61[_0x2accc6(0xf1)],{'text':_0x2accc6(0x143)+_0x40e16b['name']}):(await _0x20aa34[_0x2accc6(0xee)](_0x1aab61[_0x2accc6(0xf1)],{'delete':_0x37e6a4[_0x2accc6(0x136)]}),await _0x20aa34[_0x2accc6(0xee)](_0x1aab61[_0x2accc6(0xf1)],{'audio':{'url':_0x3ccefe[_0x2accc6(0x126)]},'fileName':_0x3ccefe[_0x2accc6(0x13c)]+_0x2accc6(0x13e),'mimetype':'audio/mpeg','contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x3ccefe[_0x2accc6(0x13c)],'body':'Artista:\x20'+_0x3ccefe[_0x2accc6(0x116)],'description':'√Ålbum:\x20'+_0x3ccefe[_0x2accc6(0x134)],'thumbnailUrl':_0x3ccefe[_0x2accc6(0x121)]}}}),await new Promise(_0x4c3838=>setTimeout(_0x4c3838,0x7d0)));}else await _0x20aa34['sendMessage'](_0x1aab61[_0x2accc6(0xf1)],{'delete':_0x4bab16[_0x2accc6(0x136)]}),await _0x20aa34['sendMessage'](_0x1aab61[_0x2accc6(0xf1)],{'audio':{'url':_0x1e6b0b[_0x2accc6(0x126)]},'fileName':_0x1e6b0b[_0x2accc6(0x13c)]+_0x2accc6(0x13e),'mimetype':_0x2accc6(0x10b),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x1e6b0b[_0x2accc6(0x13c)],'body':_0x2accc6(0x12a)+_0x1e6b0b[_0x2accc6(0x116)],'description':_0x2accc6(0x14a)+_0x1e6b0b[_0x2accc6(0x134)],'thumbnailUrl':_0x1e6b0b[_0x2accc6(0x121)]}}}),await _0x1aab61['react']('‚úÖ');}}catch(_0x1caf38){await _0x1aab61['react']('‚ùå'),await _0x1aab61[_0x2accc6(0xf8)](_0x2accc6(0x12f)+(_0x1caf38['message']||_0x1caf38)),console[_0x2accc6(0xe0)](_0x1caf38);}};handler[a0_0x46375c(0x129)]=[a0_0x46375c(0xf4),'play'],handler['tags']=[a0_0x46375c(0x13d)],handler[a0_0x46375c(0xec)]=['spotify',a0_0x46375c(0xe6)],handler['group']=![];export default handler;function a0_0x5a96(){const _0x1b5b1e=['‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±\x2080%','https://accounts.spotify.com/api/token','duration_ms','now','‚ùå\x20*Error:*\x20','tracks','5285706SxuoGU','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20el\x20√°lbum.','&type=album','album','get','key','statusText','map','2722940EUbaKY','\x0a‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ','items','title','downloader','.mp3','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±\x2060%','then','open.spotify.com/playlist','expires_in','No\x20se\x20pudo\x20extraer\x20la\x20sombra\x20de:\x20','14664LnUFoQ','application/x-www-form-urlencoded','json','external_urls','‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%','albums','√Ålbum:\x20','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±\x2070%','error','‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2030%','access_token','\x0aüõ†Ô∏è\x20Intento:\x20','acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009','Top\x20Tracks','play','‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\x0a‚öîÔ∏è\x20Extracci√≥n\x20en\x20Curso\x0aüåü\x20Objetivo:\x20','\x20https://open.spotify.com/track/...\x0a‚Ä¢\x20','data','post','‚öîÔ∏è\x20Error:\x20No\x20ingresaste\x20ninguna\x20b√∫squeda\x20o\x20enlace.\x0a\x0aEjemplo:\x0a‚Ä¢\x20','command','url','sendMessage','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20¬°Descargado!','track','chat','base64','https://api.spotify.com/v1/artists/','spotify','&type=track','No\x20se\x20pudieron\x20extraer\x20las\x20siguientes\x20sombras:\x0a','length','reply','includes','3309245HxdFNC','toString','19242IDPiEX','spotify.com/artist','4724108FZWPDs','\x20https://open.spotify.com/playlist/...\x0a‚Ä¢\x20','‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2020%','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20de\x20la\x20playlist.','artists','\x20https://open.spotify.com/artist/...','split','‚ùå\x20*Error:*\x20No\x20se\x20encontraron\x20resultados.','271386lPbHeR','name','open.spotify.com/album','spotify.com/track','floor','audio/mpeg','https://api.spotify.com/v1/search?q=','\x20(1/1)','token','861YgSKDW','Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a','10TINpyt','No\x20se\x20pudo\x20obtener\x20el\x20enlace\x20de\x20descarga\x20para\x20','from','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20para\x20el\x20artista.','Error\x20al\x20obtener\x20la\x20imagen:\x20','artist','grant_type=client_credentials','playlist','join','Basic\x20','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20la\x20playlist.','‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2010%','push','expiresAt','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2050%','18bsfDaE','thumbnail','https://api.spotify.com/v1/albums/','images','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20track.','indexOf','music','open.spotify.com/artist','Bearer\x20','help','Artista:\x20'];a0_0x5a96=function(){return _0x1b5b1e;};return a0_0x5a96();}async function spotifyxv(_0x5c992c){const _0x30685b=a0_0x46375c,_0x361258=await getSpotifyToken();try{let _0x50567c=await a0_0x2f4b3e({'method':'get','url':_0x30685b(0x10c)+encodeURIComponent(_0x5c992c)+_0x30685b(0xf5),'headers':{'Authorization':_0x30685b(0x128)+_0x361258}});const _0x4a8b32=_0x50567c[_0x30685b(0xe9)][_0x30685b(0x130)][_0x30685b(0x13b)];return _0x4a8b32['map'](_0x2f182f=>({'name':_0x2f182f[_0x30685b(0x107)],'artist':_0x2f182f[_0x30685b(0x102)][_0x30685b(0x138)](_0x4ca151=>_0x4ca151[_0x30685b(0x107)])['join'](',\x20'),'album':_0x2f182f['album'][_0x30685b(0x107)],'duration':timestamp(_0x2f182f[_0x30685b(0x12d)]),'url':_0x2f182f[_0x30685b(0x147)]['spotify'],'thumbnail':_0x2f182f[_0x30685b(0x134)]['images'][0x0]?.[_0x30685b(0xed)]||''}));}catch(_0x4b8e19){return console['error'](_0x4b8e19),[];}}function a0_0x4148(_0x4b8afb,_0x338901){const _0x5a962f=a0_0x5a96();return a0_0x4148=function(_0x4148ab,_0x11670b){_0x4148ab=_0x4148ab-0xdf;let _0x1c6089=_0x5a962f[_0x4148ab];return _0x1c6089;},a0_0x4148(_0x4b8afb,_0x338901);}async function spotifyAlbum(_0x2b9f58){const _0x1e528c=a0_0x46375c;let _0x46e7f1;try{const _0x54b806=_0x2b9f58['split']('/');_0x46e7f1=_0x54b806[_0x54b806[_0x1e528c(0x125)]('album')+0x1][_0x1e528c(0x104)]('?')[0x0];}catch(_0x6551c7){throw new Error('No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20√°lbum.');}const _0x473429=await getSpotifyToken();let _0x10d861=await a0_0x2f4b3e({'method':_0x1e528c(0x135),'url':_0x1e528c(0x122)+_0x46e7f1,'headers':{'Authorization':_0x1e528c(0x128)+_0x473429}});const _0x1f298e=_0x10d861[_0x1e528c(0xe9)],_0x35013f=_0x1f298e['tracks'][_0x1e528c(0x13b)]['map'](_0x152f1d=>({'name':_0x152f1d[_0x1e528c(0x107)],'artist':_0x152f1d[_0x1e528c(0x102)][_0x1e528c(0x138)](_0x3244fb=>_0x3244fb['name'])[_0x1e528c(0x119)](',\x20'),'album':_0x1f298e['name'],'url':_0x152f1d[_0x1e528c(0x147)][_0x1e528c(0xf4)],'thumbnail':_0x1f298e[_0x1e528c(0x123)][0x0]?.[_0x1e528c(0xed)]||''}));return{'album':_0x1f298e,'tracks':_0x35013f};}async function spotifyAlbumSearch(_0x19055c){const _0x33aed2=a0_0x46375c,_0x1bbe19=await getSpotifyToken();let _0xf314d3=await a0_0x2f4b3e({'method':'get','url':'https://api.spotify.com/v1/search?q='+encodeURIComponent(_0x19055c)+_0x33aed2(0x133),'headers':{'Authorization':_0x33aed2(0x128)+_0x1bbe19}});const _0x5af87f=_0xf314d3[_0x33aed2(0xe9)][_0x33aed2(0x149)]['items'];if(!_0x5af87f[_0x33aed2(0xf7)])return null;const _0xa0cf02=_0x5af87f[0x0]['id'];let _0x406bc6=await a0_0x2f4b3e({'method':_0x33aed2(0x135),'url':_0x33aed2(0x122)+_0xa0cf02,'headers':{'Authorization':_0x33aed2(0x128)+_0x1bbe19}});const _0x472d71=_0x406bc6[_0x33aed2(0xe9)],_0x425b81=_0x472d71[_0x33aed2(0x130)][_0x33aed2(0x13b)]['map'](_0x4dd8bc=>({'name':_0x4dd8bc[_0x33aed2(0x107)],'artist':_0x4dd8bc[_0x33aed2(0x102)][_0x33aed2(0x138)](_0x2bb0ca=>_0x2bb0ca[_0x33aed2(0x107)])[_0x33aed2(0x119)](',\x20'),'album':_0x472d71[_0x33aed2(0x107)],'url':_0x4dd8bc[_0x33aed2(0x147)][_0x33aed2(0xf4)],'thumbnail':_0x472d71[_0x33aed2(0x123)][0x0]?.[_0x33aed2(0xed)]||''}));return{'album':_0x472d71,'tracks':_0x425b81};}async function spotifyPlaylist(_0x1b51c3){const _0x24c1e8=a0_0x46375c;let _0x2407ee;try{const _0x3e45c3=_0x1b51c3[_0x24c1e8(0x104)]('/');_0x2407ee=_0x3e45c3[_0x3e45c3['indexOf'](_0x24c1e8(0x118))+0x1][_0x24c1e8(0x104)]('?')[0x0];}catch(_0x4078c3){throw new Error(_0x24c1e8(0x101));}const _0x35d0e3=await getSpotifyToken();let _0x169f62=await a0_0x2f4b3e({'method':'get','url':'https://api.spotify.com/v1/playlists/'+_0x2407ee,'headers':{'Authorization':_0x24c1e8(0x128)+_0x35d0e3}});const _0x3578d4=_0x169f62[_0x24c1e8(0xe9)],_0x2964bb=_0x3578d4[_0x24c1e8(0x130)][_0x24c1e8(0x13b)][_0x24c1e8(0x138)](_0xa953e2=>{const _0x5cdbe4=_0x24c1e8,_0x1599b5=_0xa953e2['track'];return{'name':_0x1599b5[_0x5cdbe4(0x107)],'artist':_0x1599b5[_0x5cdbe4(0x102)][_0x5cdbe4(0x138)](_0x53277a=>_0x53277a[_0x5cdbe4(0x107)])['join'](',\x20'),'album':_0x3578d4[_0x5cdbe4(0x107)],'url':_0x1599b5[_0x5cdbe4(0x147)][_0x5cdbe4(0xf4)],'thumbnail':_0x1599b5['album'][_0x5cdbe4(0x123)][0x0]?.[_0x5cdbe4(0xed)]||''};});return{'album':{'name':_0x3578d4[_0x24c1e8(0x107)]},'tracks':_0x2964bb};}async function spotifyArtist(_0x4cf9b5){const _0x40bfa3=a0_0x46375c;let _0x45bf71;try{const _0x4002bf=_0x4cf9b5[_0x40bfa3(0x104)]('/');_0x45bf71=_0x4002bf[_0x4002bf[_0x40bfa3(0x125)]('artist')+0x1][_0x40bfa3(0x104)]('?')[0x0];}catch(_0x4cda5f){throw new Error('No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20artista.');}const _0x3c1649=await getSpotifyToken();let _0x57e708=await a0_0x2f4b3e({'method':_0x40bfa3(0x135),'url':_0x40bfa3(0xf3)+_0x45bf71+'/top-tracks?market=US','headers':{'Authorization':_0x40bfa3(0x128)+_0x3c1649}});const _0x20bbb1=_0x57e708[_0x40bfa3(0xe9)],_0x522d85=_0x20bbb1[_0x40bfa3(0x130)][_0x40bfa3(0x138)](_0x4f52ea=>({'name':_0x4f52ea[_0x40bfa3(0x107)],'artist':_0x4f52ea[_0x40bfa3(0x102)][_0x40bfa3(0x138)](_0x410d93=>_0x410d93[_0x40bfa3(0x107)])['join'](',\x20'),'album':_0x40bfa3(0xe5),'url':_0x4f52ea['external_urls'][_0x40bfa3(0xf4)],'thumbnail':_0x4f52ea['album'][_0x40bfa3(0x123)][0x0]?.['url']||''}));return{'album':{'name':_0x40bfa3(0xe5)},'tracks':_0x522d85};}async function spotifyTrack(_0x394f35){const _0x210773=a0_0x46375c;let _0x40ce0b;try{const _0x4147a9=_0x394f35[_0x210773(0x104)]('/');_0x40ce0b=_0x4147a9[_0x4147a9[_0x210773(0x125)](_0x210773(0xf0))+0x1]['split']('?')[0x0];}catch(_0x489534){throw new Error(_0x210773(0x124));}const _0x2223b5=await getSpotifyToken();let _0xcfdb85=await a0_0x2f4b3e({'method':_0x210773(0x135),'url':'https://api.spotify.com/v1/tracks/'+_0x40ce0b,'headers':{'Authorization':_0x210773(0x128)+_0x2223b5}});const _0x479600=_0xcfdb85[_0x210773(0xe9)];return{'name':_0x479600[_0x210773(0x107)],'artist':_0x479600[_0x210773(0x102)][_0x210773(0x138)](_0x59dae3=>_0x59dae3[_0x210773(0x107)])['join'](',\x20'),'album':_0x479600['album'][_0x210773(0x107)],'url':_0x479600[_0x210773(0x147)][_0x210773(0xf4)],'thumbnail':_0x479600[_0x210773(0x134)][_0x210773(0x123)][0x0]?.['url']||''};}function timestamp(_0xbe261c){const _0x4ad9d7=a0_0x46375c,_0x1ec0ad=Math['floor'](_0xbe261c/0xea60),_0x2b5670=Math[_0x4ad9d7(0x10a)](_0xbe261c%0xea60/0x3e8);return _0x1ec0ad+':'+(_0x2b5670<0xa?'0':'')+_0x2b5670;}