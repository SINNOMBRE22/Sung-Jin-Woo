const a0_0x42e8cb=a0_0x2ac2;(function(_0xfd6124,_0x2df396){const _0x26057c=a0_0x2ac2,_0x2faf76=_0xfd6124();while(!![]){try{const _0x44cff2=-parseInt(_0x26057c(0x16a))/0x1+-parseInt(_0x26057c(0x19f))/0x2+parseInt(_0x26057c(0x15a))/0x3*(parseInt(_0x26057c(0x190))/0x4)+parseInt(_0x26057c(0x17c))/0x5*(parseInt(_0x26057c(0x178))/0x6)+parseInt(_0x26057c(0x15d))/0x7+parseInt(_0x26057c(0x1a7))/0x8*(parseInt(_0x26057c(0x1a4))/0x9)+-parseInt(_0x26057c(0x182))/0xa*(parseInt(_0x26057c(0x170))/0xb);if(_0x44cff2===_0x2df396)break;else _0x2faf76['push'](_0x2faf76['shift']());}catch(_0xc66760){_0x2faf76['push'](_0x2faf76['shift']());}}}(a0_0x56e7,0x9f6e0));import a0_0x5b00ca from'axios';import a0_0x1fbc3 from'node-fetch';let spotifyTokenCache={'token':null,'expiresAt':0x0};async function getSpotifyToken(){const _0x57b184=a0_0x2ac2,_0x4da37b=Date['now']();if(spotifyTokenCache[_0x57b184(0x1b2)]&&spotifyTokenCache[_0x57b184(0x194)]>_0x4da37b)return spotifyTokenCache[_0x57b184(0x1b2)];const _0x4287f9=await a0_0x5b00ca({'method':_0x57b184(0x16d),'url':_0x57b184(0x174),'headers':{'Content-Type':_0x57b184(0x167),'Authorization':_0x57b184(0x1ac)+Buffer[_0x57b184(0x192)]('acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009')['toString'](_0x57b184(0x15f))},'data':_0x57b184(0x18e)}),_0x3b200d=_0x4287f9[_0x57b184(0x1af)]['access_token'];return spotifyTokenCache['token']=_0x3b200d,spotifyTokenCache['expiresAt']=_0x4da37b+_0x4287f9[_0x57b184(0x1af)][_0x57b184(0x187)]*0x3e8-0xea60,_0x3b200d;}function a0_0x56e7(){const _0x5b5226=['Basic\x20','No\x20se\x20pudo\x20obtener\x20el\x20enlace\x20de\x20descarga\x20para\x20','Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a','data','join','https://api.spotify.com/v1/playlists/','token','artists','items','spotify.com/artist','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20de\x20la\x20playlist.','https://apis-starlights-team.koyeb.app/starlight/spotifydl?url=','Top\x20Tracks','Bearer\x20','No\x20se\x20pudieron\x20extraer\x20las\x20siguientes\x20sombras:\x0a','artist','chat','spotify','floor','open.spotify.com/playlist','images','171LNFzol','track','Artista:\x20','4119430YdedHf','\x20https://open.spotify.com/album/...\x0a‚Ä¢\x20','base64','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20track.','‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2020%','https://api.spotify.com/v1/tracks/','get','length','sendMessage','url','application/x-www-form-urlencoded','\x20https://open.spotify.com/playlist/...\x0a‚Ä¢\x20','\x20(Reintento)','1040171BoeYpy','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±\x2090%','help','post','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20el\x20√°lbum.','\x20https://open.spotify.com/track/...\x0a‚Ä¢\x20','4653WlIajd','includes','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20Fall√≥\x20la\x20extracci√≥n\x20de:\x20','group','https://accounts.spotify.com/api/token','\x20Bellyache\x0a‚Ä¢\x20','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2040%','‚ùå\x20*Error:*\x20','5076aFHYhW','key','\x0aüõ†Ô∏è\x20Intento:\x20','‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%','6135SwpATm','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±\x2070%','\x20(1/1)','/top-tracks?market=US','audio/mpeg','duration_ms','12970iScEYP','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20la\x20playlist.','external_urls','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±\x2080%','\x20https://open.spotify.com/artist/...','expires_in','react','split','push','thumbnail','.mp3','\x0aüí†\x20Progreso:\x20','grant_type=client_credentials','&type=track','52868YqCSpU','error','from','buffer','expiresAt','https://api.spotify.com/v1/artists/','command','open.spotify.com/album','open.spotify.com/artist','‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\x0a‚öîÔ∏è\x20Extracci√≥n\x20en\x20Curso\x0aüåü\x20Objetivo:\x20','tracks','√Ålbum:\x20','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20artista.','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20¬°Descargado!','‚ùå\x20*Error:*\x20No\x20se\x20encontraron\x20resultados.','321112fIMVjr','spotify.com/track','&type=album','album','map','9DRsLXX','music','name','179848bfcWyR','indexOf','message','title','https://api.spotify.com/v1/search?q='];a0_0x56e7=function(){return _0x5b5226;};return a0_0x56e7();}async function getBuffer(_0x5f1642){const _0x24946f=a0_0x2ac2,_0x30476b=await a0_0x1fbc3(_0x5f1642);if(!_0x30476b['ok'])throw new Error('Error\x20al\x20obtener\x20la\x20imagen:\x20'+_0x30476b['statusText']);return await _0x30476b[_0x24946f(0x193)]();}function formatExtractionMessage(_0x300e99,_0x128d5c,_0x26c8b3){const _0xfadb9d=a0_0x2ac2;return _0xfadb9d(0x199)+_0x300e99+_0xfadb9d(0x17a)+_0x128d5c+_0xfadb9d(0x18d)+_0x26c8b3+'\x0a‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ';}function a0_0x2ac2(_0x58f733,_0x5c8b33){const _0x56e784=a0_0x56e7();return a0_0x2ac2=function(_0x2ac255,_0x1a630b){_0x2ac255=_0x2ac255-0x152;let _0x18d4d8=_0x56e784[_0x2ac255];return _0x18d4d8;},a0_0x2ac2(_0x58f733,_0x5c8b33);}async function progressWithSync(_0x587d66,_0x37533d,_0x4732fe,_0x38682a,{objective:_0x2da1f8,attempt:_0x6b1a7f,failedTrack:failedTrack=null}){const _0x3b2319=a0_0x2ac2;let _0xa2efef=![];const _0x1e38bf=[_0x3b2319(0x17b),'‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2010%',_0x3b2319(0x161),'‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2030%',_0x3b2319(0x176),'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2050%','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±\x2060%',_0x3b2319(0x17d),_0x3b2319(0x185),_0x3b2319(0x16b)];let _0x37096c=0x0;const _0x14291f=0x12c,_0x5461ba=setInterval(async()=>{const _0x412812=_0x3b2319;if(_0x37096c<_0x1e38bf[_0x412812(0x164)]){const _0x5bef98=formatExtractionMessage(_0x2da1f8,_0x6b1a7f,_0x1e38bf[_0x37096c]);await _0x587d66[_0x412812(0x165)](_0x37533d[_0x412812(0x155)],{'text':_0x5bef98,'edit':_0x4732fe[_0x412812(0x179)]}),_0x37096c++;}},_0x14291f);try{await _0x38682a;}catch(_0x33d310){_0xa2efef=!![];}clearInterval(_0x5461ba);const _0x3c523f=_0xa2efef&&failedTrack?_0x3b2319(0x172)+failedTrack:_0x3b2319(0x19d),_0x519d3e=formatExtractionMessage(_0x2da1f8,_0x6b1a7f,_0x3c523f);await _0x587d66[_0x3b2319(0x165)](_0x37533d[_0x3b2319(0x155)],{'text':_0x519d3e,'edit':_0x4732fe[_0x3b2319(0x179)]});}async function downloadWithRetries(_0x14fb5a,_0x58aa42,_0x44c313,_0x3c14f4,_0x231cb7){const _0x528a73=a0_0x2ac2;let _0x3d8206=null;for(let _0x56c456=0x1;_0x56c456<=0x3;_0x56c456++){try{const _0x34a11f=a0_0x1fbc3(_0x528a73(0x1b7)+_0x14fb5a[_0x528a73(0x166)])['then'](_0x271db7=>_0x271db7['json']());await progressWithSync(_0x58aa42,_0x44c313,_0x3c14f4,_0x34a11f,{'objective':_0x231cb7,'attempt':_0x56c456,'failedTrack':_0x56c456===0x3?_0x14fb5a[_0x528a73(0x1a6)]:null}),_0x3d8206=await _0x34a11f;if(!_0x3d8206||!_0x3d8206['music'])throw new Error(_0x528a73(0x1ad)+_0x14fb5a['name']);return _0x3d8206;}catch(_0x38ce11){if(_0x56c456===0x3)return null;await new Promise(_0x594870=>setTimeout(_0x594870,0x3e8));}}return null;}let handler=async(_0x226d6b,{conn:_0x4f4e25,text:_0xe5ea13,usedPrefix:_0x167ae4,command:_0x5ba64b})=>{const _0x604995=a0_0x2ac2;if(!_0xe5ea13)throw'‚öîÔ∏è\x20Error:\x20No\x20ingresaste\x20ninguna\x20b√∫squeda\x20o\x20enlace.\x0a\x0aEjemplo:\x0a‚Ä¢\x20'+(_0x167ae4+_0x5ba64b)+_0x604995(0x175)+(_0x167ae4+_0x5ba64b)+_0x604995(0x16f)+(_0x167ae4+_0x5ba64b)+_0x604995(0x15e)+(_0x167ae4+_0x5ba64b)+_0x604995(0x168)+(_0x167ae4+_0x5ba64b)+_0x604995(0x186);try{await _0x226d6b[_0x604995(0x188)]('‚è≥');let _0x50f450=![],_0x3a250a=![],_0x528e15=![],_0x48b212;if(_0xe5ea13['includes'](_0x604995(0x197))){_0x50f450=!![],_0x48b212=await spotifyAlbum(_0xe5ea13);if(!_0x48b212?.[_0x604995(0x19a)]?.[_0x604995(0x164)])throw _0x604995(0x16e);}else{if(_0xe5ea13['includes'](_0x604995(0x158))){_0x3a250a=!![],_0x48b212=await spotifyPlaylist(_0xe5ea13);if(!_0x48b212?.[_0x604995(0x19a)]?.['length'])throw _0x604995(0x183);}else{if(_0xe5ea13[_0x604995(0x171)](_0x604995(0x198))||_0xe5ea13[_0x604995(0x171)](_0x604995(0x1b5))){_0x50f450=!![],_0x528e15=!![],_0x48b212=await spotifyArtist(_0xe5ea13);if(!_0x48b212?.[_0x604995(0x19a)]?.[_0x604995(0x164)])throw'‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20para\x20el\x20artista.';}else{if(_0xe5ea13[_0x604995(0x171)](_0x604995(0x1a0)))_0x48b212={'tracks':[await spotifyTrack(_0xe5ea13)]};else{if(_0xe5ea13['toLowerCase']()[_0x604995(0x171)]('album')){_0x50f450=!![],_0x48b212=await spotifyAlbumSearch(_0xe5ea13);if(!_0x48b212?.['tracks']?.[_0x604995(0x164)])throw _0x604995(0x16e);}else{const _0x27b403=await spotifyxv(_0xe5ea13);if(!_0x27b403['length']||!_0x27b403[0x0]['url'])throw _0x604995(0x19e);_0x48b212={'tracks':[_0x27b403[0x0]]};}}}}}if(_0x50f450||_0x3a250a){let _0x5f11ab=[];for(let _0x8e7c9b=0x0;_0x8e7c9b<_0x48b212[_0x604995(0x19a)][_0x604995(0x164)];_0x8e7c9b++){const _0x2931cb=_0x48b212[_0x604995(0x19a)][_0x8e7c9b],_0x13b291=_0x2931cb[_0x604995(0x1a6)]+'\x20('+(_0x8e7c9b+0x1)+'/'+_0x48b212[_0x604995(0x19a)][_0x604995(0x164)]+')',_0x152af4=formatExtractionMessage(_0x13b291,0x1,_0x604995(0x17b)),_0x5d0bac=await _0x4f4e25[_0x604995(0x165)](_0x226d6b[_0x604995(0x155)],{'text':_0x152af4}),_0x2baf8b=await downloadWithRetries(_0x2931cb,_0x4f4e25,_0x226d6b,_0x5d0bac,_0x13b291);_0x2baf8b?(await _0x4f4e25['sendMessage'](_0x226d6b[_0x604995(0x155)],{'delete':_0x5d0bac['key']}),await _0x4f4e25[_0x604995(0x165)](_0x226d6b[_0x604995(0x155)],{'audio':{'url':_0x2baf8b['music']},'fileName':_0x2baf8b[_0x604995(0x1aa)]+_0x604995(0x18c),'mimetype':_0x604995(0x180),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x2baf8b[_0x604995(0x1aa)],'body':_0x604995(0x15c)+_0x2baf8b[_0x604995(0x154)],'description':_0x604995(0x19b)+_0x2baf8b[_0x604995(0x1a2)],'thumbnailUrl':_0x2baf8b[_0x604995(0x18b)]}}}),await new Promise(_0x132106=>setTimeout(_0x132106,0x7d0))):_0x5f11ab[_0x604995(0x18a)](_0x2931cb);}if(_0x5f11ab[_0x604995(0x164)]>0x0){let _0x10e6f9=_0x5f11ab[_0x604995(0x1a3)](_0x4f8eaa=>_0x4f8eaa[_0x604995(0x1a6)])[_0x604995(0x1b0)]('\x0a');await _0x4f4e25[_0x604995(0x165)](_0x226d6b[_0x604995(0x155)],{'text':_0x604995(0x1ae)+_0x10e6f9});let _0x38e436=[];for(let _0x29965a of _0x5f11ab){const _0x55214c=_0x29965a[_0x604995(0x1a6)]+'\x20(Reintento)',_0x5ca59e=formatExtractionMessage(_0x55214c,0x1,_0x604995(0x17b)),_0x9af5cb=await _0x4f4e25['sendMessage'](_0x226d6b['chat'],{'text':_0x5ca59e}),_0x24e61d=await downloadWithRetries(_0x29965a,_0x4f4e25,_0x226d6b,_0x9af5cb,_0x55214c);_0x24e61d?(await _0x4f4e25[_0x604995(0x165)](_0x226d6b['chat'],{'delete':_0x9af5cb[_0x604995(0x179)]}),await _0x4f4e25[_0x604995(0x165)](_0x226d6b[_0x604995(0x155)],{'audio':{'url':_0x24e61d[_0x604995(0x1a5)]},'fileName':_0x24e61d[_0x604995(0x1aa)]+_0x604995(0x18c),'mimetype':_0x604995(0x180),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x24e61d['title'],'body':_0x604995(0x15c)+_0x24e61d[_0x604995(0x154)],'description':'√Ålbum:\x20'+_0x24e61d[_0x604995(0x1a2)],'thumbnailUrl':_0x24e61d[_0x604995(0x18b)]}}}),await new Promise(_0x36584a=>setTimeout(_0x36584a,0x7d0))):_0x38e436[_0x604995(0x18a)](_0x29965a);}if(_0x38e436[_0x604995(0x164)]>0x0){let _0x1fe62c=_0x38e436[_0x604995(0x1a3)](_0x26538f=>_0x26538f['name'])[_0x604995(0x1b0)]('\x0a');await _0x4f4e25[_0x604995(0x165)](_0x226d6b[_0x604995(0x155)],{'text':_0x604995(0x153)+_0x1fe62c});}}}else{const _0x3c7b4=_0x48b212[_0x604995(0x19a)][0x0],_0x57ce07=_0x3c7b4[_0x604995(0x1a6)]+_0x604995(0x17e),_0xa0c6cf=formatExtractionMessage(_0x57ce07,0x1,_0x604995(0x17b)),_0x274401=await _0x4f4e25[_0x604995(0x165)](_0x226d6b['chat'],{'text':_0xa0c6cf}),_0x289d54=await downloadWithRetries(_0x3c7b4,_0x4f4e25,_0x226d6b,_0x274401,_0x57ce07);if(!_0x289d54){await _0x4f4e25['sendMessage'](_0x226d6b['chat'],{'text':_0x604995(0x1ae)+_0x3c7b4['name']});const _0x95fb5d=formatExtractionMessage(_0x57ce07+_0x604995(0x169),0x1,_0x604995(0x17b)),_0x4bb480=await _0x4f4e25[_0x604995(0x165)](_0x226d6b[_0x604995(0x155)],{'text':_0x95fb5d}),_0x155c23=await downloadWithRetries(_0x3c7b4,_0x4f4e25,_0x226d6b,_0x4bb480,_0x57ce07+_0x604995(0x169));!_0x155c23?await _0x4f4e25[_0x604995(0x165)](_0x226d6b[_0x604995(0x155)],{'text':'No\x20se\x20pudo\x20extraer\x20la\x20sombra\x20de:\x20'+_0x3c7b4[_0x604995(0x1a6)]}):(await _0x4f4e25[_0x604995(0x165)](_0x226d6b[_0x604995(0x155)],{'delete':_0x4bb480[_0x604995(0x179)]}),await _0x4f4e25['sendMessage'](_0x226d6b[_0x604995(0x155)],{'audio':{'url':_0x155c23[_0x604995(0x1a5)]},'fileName':_0x155c23['title']+_0x604995(0x18c),'mimetype':'audio/mpeg','contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x155c23[_0x604995(0x1aa)],'body':_0x604995(0x15c)+_0x155c23['artist'],'description':'√Ålbum:\x20'+_0x155c23[_0x604995(0x1a2)],'thumbnailUrl':_0x155c23[_0x604995(0x18b)]}}}),await new Promise(_0xe8d541=>setTimeout(_0xe8d541,0x7d0)));}else await _0x4f4e25['sendMessage'](_0x226d6b['chat'],{'delete':_0x274401[_0x604995(0x179)]}),await _0x4f4e25[_0x604995(0x165)](_0x226d6b['chat'],{'audio':{'url':_0x289d54['music']},'fileName':_0x289d54['title']+_0x604995(0x18c),'mimetype':_0x604995(0x180),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x289d54[_0x604995(0x1aa)],'body':_0x604995(0x15c)+_0x289d54[_0x604995(0x154)],'description':_0x604995(0x19b)+_0x289d54[_0x604995(0x1a2)],'thumbnailUrl':_0x289d54[_0x604995(0x18b)]}}}),await _0x226d6b['react']('‚úÖ');}}catch(_0x56a82b){await _0x226d6b[_0x604995(0x188)]('‚ùå'),await _0x226d6b['reply'](_0x604995(0x177)+(_0x56a82b[_0x604995(0x1a9)]||_0x56a82b)),console[_0x604995(0x191)](_0x56a82b);}};handler[a0_0x42e8cb(0x16c)]=['spotify',a0_0x42e8cb(0x1a5)],handler['tags']=['downloader'],handler[a0_0x42e8cb(0x196)]=['spotify',a0_0x42e8cb(0x1a5)],handler[a0_0x42e8cb(0x173)]=![];export default handler;async function spotifyxv(_0x3d57cb){const _0x96e8c2=a0_0x42e8cb,_0x275d5c=await getSpotifyToken();try{let _0x5cdb38=await a0_0x5b00ca({'method':'get','url':'https://api.spotify.com/v1/search?q='+encodeURIComponent(_0x3d57cb)+_0x96e8c2(0x18f),'headers':{'Authorization':'Bearer\x20'+_0x275d5c}});const _0x31c92d=_0x5cdb38[_0x96e8c2(0x1af)][_0x96e8c2(0x19a)]['items'];return _0x31c92d['map'](_0x479a62=>({'name':_0x479a62['name'],'artist':_0x479a62[_0x96e8c2(0x1b3)][_0x96e8c2(0x1a3)](_0x43499a=>_0x43499a[_0x96e8c2(0x1a6)])['join'](',\x20'),'album':_0x479a62[_0x96e8c2(0x1a2)][_0x96e8c2(0x1a6)],'duration':timestamp(_0x479a62[_0x96e8c2(0x181)]),'url':_0x479a62[_0x96e8c2(0x184)]['spotify'],'thumbnail':_0x479a62[_0x96e8c2(0x1a2)][_0x96e8c2(0x159)][0x0]?.[_0x96e8c2(0x166)]||''}));}catch(_0x25374d){return console[_0x96e8c2(0x191)](_0x25374d),[];}}async function spotifyAlbum(_0x2098a7){const _0x40d36b=a0_0x42e8cb;let _0x5b7311;try{const _0x1681df=_0x2098a7[_0x40d36b(0x189)]('/');_0x5b7311=_0x1681df[_0x1681df[_0x40d36b(0x1a8)](_0x40d36b(0x1a2))+0x1][_0x40d36b(0x189)]('?')[0x0];}catch(_0x4d51bc){throw new Error('No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20√°lbum.');}const _0x2539c3=await getSpotifyToken();let _0x493552=await a0_0x5b00ca({'method':_0x40d36b(0x163),'url':'https://api.spotify.com/v1/albums/'+_0x5b7311,'headers':{'Authorization':_0x40d36b(0x152)+_0x2539c3}});const _0x2b3d47=_0x493552[_0x40d36b(0x1af)],_0x358130=_0x2b3d47[_0x40d36b(0x19a)][_0x40d36b(0x1b4)]['map'](_0x836908=>({'name':_0x836908['name'],'artist':_0x836908[_0x40d36b(0x1b3)]['map'](_0x4733a2=>_0x4733a2[_0x40d36b(0x1a6)])['join'](',\x20'),'album':_0x2b3d47[_0x40d36b(0x1a6)],'url':_0x836908[_0x40d36b(0x184)][_0x40d36b(0x156)],'thumbnail':_0x2b3d47[_0x40d36b(0x159)][0x0]?.['url']||''}));return{'album':_0x2b3d47,'tracks':_0x358130};}async function spotifyAlbumSearch(_0x31b201){const _0xa9ae7a=a0_0x42e8cb,_0x4d6485=await getSpotifyToken();let _0x4d43a0=await a0_0x5b00ca({'method':_0xa9ae7a(0x163),'url':_0xa9ae7a(0x1ab)+encodeURIComponent(_0x31b201)+_0xa9ae7a(0x1a1),'headers':{'Authorization':_0xa9ae7a(0x152)+_0x4d6485}});const _0x173569=_0x4d43a0[_0xa9ae7a(0x1af)]['albums'][_0xa9ae7a(0x1b4)];if(!_0x173569['length'])return null;const _0x225b1c=_0x173569[0x0]['id'];let _0x474009=await a0_0x5b00ca({'method':'get','url':'https://api.spotify.com/v1/albums/'+_0x225b1c,'headers':{'Authorization':_0xa9ae7a(0x152)+_0x4d6485}});const _0xb85e71=_0x474009[_0xa9ae7a(0x1af)],_0x5efb7=_0xb85e71[_0xa9ae7a(0x19a)][_0xa9ae7a(0x1b4)][_0xa9ae7a(0x1a3)](_0x4c9575=>({'name':_0x4c9575[_0xa9ae7a(0x1a6)],'artist':_0x4c9575[_0xa9ae7a(0x1b3)][_0xa9ae7a(0x1a3)](_0x5cb7c6=>_0x5cb7c6['name'])[_0xa9ae7a(0x1b0)](',\x20'),'album':_0xb85e71['name'],'url':_0x4c9575['external_urls'][_0xa9ae7a(0x156)],'thumbnail':_0xb85e71[_0xa9ae7a(0x159)][0x0]?.[_0xa9ae7a(0x166)]||''}));return{'album':_0xb85e71,'tracks':_0x5efb7};}async function spotifyPlaylist(_0x3f417c){const _0x191108=a0_0x42e8cb;let _0x45f7c3;try{const _0x4b270e=_0x3f417c[_0x191108(0x189)]('/');_0x45f7c3=_0x4b270e[_0x4b270e['indexOf']('playlist')+0x1]['split']('?')[0x0];}catch(_0x10c121){throw new Error(_0x191108(0x1b6));}const _0x532c09=await getSpotifyToken();let _0x410be2=await a0_0x5b00ca({'method':_0x191108(0x163),'url':_0x191108(0x1b1)+_0x45f7c3,'headers':{'Authorization':_0x191108(0x152)+_0x532c09}});const _0xbc2296=_0x410be2[_0x191108(0x1af)],_0x5bdeec=_0xbc2296[_0x191108(0x19a)]['items'][_0x191108(0x1a3)](_0x2f3bc6=>{const _0x4bdfca=_0x191108,_0x2b5fbf=_0x2f3bc6['track'];return{'name':_0x2b5fbf[_0x4bdfca(0x1a6)],'artist':_0x2b5fbf[_0x4bdfca(0x1b3)]['map'](_0x152aa5=>_0x152aa5[_0x4bdfca(0x1a6)])['join'](',\x20'),'album':_0xbc2296['name'],'url':_0x2b5fbf[_0x4bdfca(0x184)][_0x4bdfca(0x156)],'thumbnail':_0x2b5fbf[_0x4bdfca(0x1a2)][_0x4bdfca(0x159)][0x0]?.[_0x4bdfca(0x166)]||''};});return{'album':{'name':_0xbc2296[_0x191108(0x1a6)]},'tracks':_0x5bdeec};}async function spotifyArtist(_0x5e304a){const _0x3acac8=a0_0x42e8cb;let _0x5c0a90;try{const _0x1f6ddd=_0x5e304a[_0x3acac8(0x189)]('/');_0x5c0a90=_0x1f6ddd[_0x1f6ddd[_0x3acac8(0x1a8)]('artist')+0x1]['split']('?')[0x0];}catch(_0x332ef2){throw new Error(_0x3acac8(0x19c));}const _0x3c821a=await getSpotifyToken();let _0x321329=await a0_0x5b00ca({'method':_0x3acac8(0x163),'url':_0x3acac8(0x195)+_0x5c0a90+_0x3acac8(0x17f),'headers':{'Authorization':_0x3acac8(0x152)+_0x3c821a}});const _0x40813b=_0x321329[_0x3acac8(0x1af)],_0xaefaec=_0x40813b[_0x3acac8(0x19a)][_0x3acac8(0x1a3)](_0x4d00d6=>({'name':_0x4d00d6[_0x3acac8(0x1a6)],'artist':_0x4d00d6['artists'][_0x3acac8(0x1a3)](_0x169ba7=>_0x169ba7[_0x3acac8(0x1a6)])[_0x3acac8(0x1b0)](',\x20'),'album':_0x3acac8(0x1b8),'url':_0x4d00d6[_0x3acac8(0x184)][_0x3acac8(0x156)],'thumbnail':_0x4d00d6[_0x3acac8(0x1a2)]['images'][0x0]?.[_0x3acac8(0x166)]||''}));return{'album':{'name':'Top\x20Tracks'},'tracks':_0xaefaec};}async function spotifyTrack(_0x412d57){const _0x1fda0c=a0_0x42e8cb;let _0x47e7bb;try{const _0x5a982f=_0x412d57['split']('/');_0x47e7bb=_0x5a982f[_0x5a982f['indexOf'](_0x1fda0c(0x15b))+0x1]['split']('?')[0x0];}catch(_0x22ca48){throw new Error(_0x1fda0c(0x160));}const _0xd00ecd=await getSpotifyToken();let _0x36fe0b=await a0_0x5b00ca({'method':_0x1fda0c(0x163),'url':_0x1fda0c(0x162)+_0x47e7bb,'headers':{'Authorization':_0x1fda0c(0x152)+_0xd00ecd}});const _0x5dccfe=_0x36fe0b[_0x1fda0c(0x1af)];return{'name':_0x5dccfe[_0x1fda0c(0x1a6)],'artist':_0x5dccfe[_0x1fda0c(0x1b3)][_0x1fda0c(0x1a3)](_0x2c5faa=>_0x2c5faa[_0x1fda0c(0x1a6)])[_0x1fda0c(0x1b0)](',\x20'),'album':_0x5dccfe[_0x1fda0c(0x1a2)][_0x1fda0c(0x1a6)],'url':_0x5dccfe['external_urls'][_0x1fda0c(0x156)],'thumbnail':_0x5dccfe['album'][_0x1fda0c(0x159)][0x0]?.[_0x1fda0c(0x166)]||''};}function timestamp(_0xfe8e05){const _0x432a0a=a0_0x42e8cb,_0xfa6f5c=Math[_0x432a0a(0x157)](_0xfe8e05/0xea60),_0x1266ed=Math[_0x432a0a(0x157)](_0xfe8e05%0xea60/0x3e8);return _0xfa6f5c+':'+(_0x1266ed<0xa?'0':'')+_0x1266ed;}