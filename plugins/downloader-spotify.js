const a0_0x1d5a1b=a0_0x19bd;(function(_0x44bb34,_0x308f6a){const _0xb2c6a9=a0_0x19bd,_0x92cc3d=_0x44bb34();while(!![]){try{const _0x4c397f=parseInt(_0xb2c6a9(0x9e))/0x1*(-parseInt(_0xb2c6a9(0xd1))/0x2)+-parseInt(_0xb2c6a9(0x85))/0x3*(parseInt(_0xb2c6a9(0xcc))/0x4)+parseInt(_0xb2c6a9(0xba))/0x5*(-parseInt(_0xb2c6a9(0x72))/0x6)+parseInt(_0xb2c6a9(0xc5))/0x7+-parseInt(_0xb2c6a9(0xb8))/0x8*(parseInt(_0xb2c6a9(0xcf))/0x9)+-parseInt(_0xb2c6a9(0xc0))/0xa+parseInt(_0xb2c6a9(0xc1))/0xb;if(_0x4c397f===_0x308f6a)break;else _0x92cc3d['push'](_0x92cc3d['shift']());}catch(_0x219cf7){_0x92cc3d['push'](_0x92cc3d['shift']());}}}(a0_0x1b36,0x86b89));import a0_0x385477 from'axios';import a0_0x1ebfd8 from'node-fetch';function a0_0x1b36(){const _0x4446fb=['key','\x20https://open.spotify.com/artist/...','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20el\x20√°lbum.','open.spotify.com/artist','floor','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20√°lbum.','‚ùå\x20*Error:*\x20No\x20se\x20encontraron\x20resultados.','data','expires_in','https://accounts.spotify.com/api/token','join','external_urls','No\x20se\x20pudieron\x20extraer\x20las\x20siguientes\x20sombras:\x0a','√Ålbum:\x20','Basic\x20','‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\x0a‚öîÔ∏è\x20Extracci√≥n\x20en\x20Curso\x0aüåü\x20Objetivo:\x20','\x20https://open.spotify.com/playlist/...\x0a‚Ä¢\x20','No\x20se\x20pudo\x20obtener\x20el\x20enlace\x20de\x20descarga\x20para\x20','message','101944LPngTV','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±\x2080%','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±\x2070%','‚öîÔ∏è\x20Error:\x20No\x20ingresaste\x20ninguna\x20b√∫squeda\x20o\x20enlace.\x0a\x0aEjemplo:\x0a‚Ä¢\x20','downloader','Bearer\x20','length','base64','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20de\x20la\x20playlist.','name','expiresAt','.mp3','acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±\x2060%','split','https://api.spotify.com/v1/search?q=','/top-tracks?market=US','https://api.spotify.com/v1/artists/','‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2050%','buffer','url','then','duration_ms','track','token','8CGQZbL','spotify','1018180TJwhYL','get','includes','Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a','command','indexOf','9881140IIEkcI','28635409hataDi','&type=track','tags','help','1752310WQEaLK','tracks','\x20Bellyache\x0a‚Ä¢\x20','post','spotify.com/track','\x0aüí†\x20Progreso:\x20','open.spotify.com/album','852LtBYJa','Artista:\x20','https://api.spotify.com/v1/playlists/','3007953kBNBOV','statusText','10KRcvbv','artist','title','‚ùå\x20*Error:*\x20','sendMessage','https://api.spotify.com/v1/albums/','album','music','Top\x20Tracks','12SqLBwc','‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2020%','\x20(Reintento)','react','\x0aüõ†Ô∏è\x20Intento:\x20','images','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±\x2090%','&type=album','https://apis-starlights-team.koyeb.app/starlight/spotifydl?url=','\x20(1/1)','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20artista.','items','artists','\x0a‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ','group','toString','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20¬°Descargado!','\x20https://open.spotify.com/album/...\x0a‚Ä¢\x20','chat','879YdbCiX','thumbnail','audio/mpeg','error','toLowerCase','map'];a0_0x1b36=function(){return _0x4446fb;};return a0_0x1b36();}let spotifyTokenCache={'token':null,'expiresAt':0x0};async function getSpotifyToken(){const _0x64093e=a0_0x19bd,_0x19816d=Date['now']();if(spotifyTokenCache[_0x64093e(0xb7)]&&spotifyTokenCache[_0x64093e(0xa8)]>_0x19816d)return spotifyTokenCache['token'];const _0x3b298d=await a0_0x385477({'method':_0x64093e(0xc8),'url':_0x64093e(0x94),'headers':{'Content-Type':'application/x-www-form-urlencoded','Authorization':_0x64093e(0x99)+Buffer['from'](_0x64093e(0xaa))[_0x64093e(0x81)](_0x64093e(0xa5))},'data':'grant_type=client_credentials'}),_0x18aa71=_0x3b298d[_0x64093e(0x92)]['access_token'];return spotifyTokenCache[_0x64093e(0xb7)]=_0x18aa71,spotifyTokenCache['expiresAt']=_0x19816d+_0x3b298d[_0x64093e(0x92)][_0x64093e(0x93)]*0x3e8-0xea60,_0x18aa71;}async function getBuffer(_0x449126){const _0x59a194=a0_0x19bd,_0x110e9e=await a0_0x1ebfd8(_0x449126);if(!_0x110e9e['ok'])throw new Error('Error\x20al\x20obtener\x20la\x20imagen:\x20'+_0x110e9e[_0x59a194(0xd0)]);return await _0x110e9e[_0x59a194(0xb2)]();}function formatExtractionMessage(_0x3a380c,_0x31c33b,_0x11b0e1){const _0x3271fa=a0_0x19bd;return _0x3271fa(0x9a)+_0x3a380c+_0x3271fa(0x76)+_0x31c33b+_0x3271fa(0xca)+_0x11b0e1+_0x3271fa(0x7f);}async function progressWithSync(_0x2c70c7,_0x3992a8,_0x53dbd9,_0x540aad,{objective:_0xcc3b0b,attempt:_0x4e939b,failedTrack:failedTrack=null}){const _0x5043b1=a0_0x19bd;let _0x5e8c6f=![];const _0x430df1=[_0x5043b1(0xb0),'‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2010%',_0x5043b1(0x73),'‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2030%','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2040%',_0x5043b1(0xb1),_0x5043b1(0xab),_0x5043b1(0xa0),_0x5043b1(0x9f),_0x5043b1(0x78)];let _0x24362a=0x0;const _0x1fb490=0x12c,_0x3e72d8=setInterval(async()=>{const _0x8392ba=_0x5043b1;if(_0x24362a<_0x430df1[_0x8392ba(0xa4)]){const _0xaa0c89=formatExtractionMessage(_0xcc3b0b,_0x4e939b,_0x430df1[_0x24362a]);await _0x2c70c7[_0x8392ba(0x6d)](_0x3992a8[_0x8392ba(0x84)],{'text':_0xaa0c89,'edit':_0x53dbd9[_0x8392ba(0x8b)]}),_0x24362a++;}},_0x1fb490);try{await _0x540aad;}catch(_0x5b4536){_0x5e8c6f=!![];}clearInterval(_0x3e72d8);const _0x455db9=_0x5e8c6f&&failedTrack?'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20Fall√≥\x20la\x20extracci√≥n\x20de:\x20'+failedTrack:_0x5043b1(0x82),_0x3a4362=formatExtractionMessage(_0xcc3b0b,_0x4e939b,_0x455db9);await _0x2c70c7['sendMessage'](_0x3992a8[_0x5043b1(0x84)],{'text':_0x3a4362,'edit':_0x53dbd9[_0x5043b1(0x8b)]});}async function downloadWithRetries(_0x15f341,_0x48b24d,_0x4174af,_0x26ee2e,_0x35e14e){const _0x4ccebc=a0_0x19bd;let _0x132953=null;for(let _0x4e078f=0x1;_0x4e078f<=0x3;_0x4e078f++){try{const _0x23a898=a0_0x1ebfd8(_0x4ccebc(0x7a)+_0x15f341['url'])[_0x4ccebc(0xb4)](_0x3af891=>_0x3af891['json']());await progressWithSync(_0x48b24d,_0x4174af,_0x26ee2e,_0x23a898,{'objective':_0x35e14e,'attempt':_0x4e078f,'failedTrack':_0x4e078f===0x3?_0x15f341[_0x4ccebc(0xa7)]:null}),_0x132953=await _0x23a898;if(!_0x132953||!_0x132953['music'])throw new Error(_0x4ccebc(0x9c)+_0x15f341[_0x4ccebc(0xa7)]);return _0x132953;}catch(_0x5eb172){if(_0x4e078f===0x3)return null;await new Promise(_0x1b451f=>setTimeout(_0x1b451f,0x3e8));}}return null;}let handler=async(_0x383246,{conn:_0x8924a4,text:_0x3fd59c,usedPrefix:_0x488cbc,command:_0x1e67d4})=>{const _0xae9bf2=a0_0x19bd;if(!_0x3fd59c)throw _0xae9bf2(0xa1)+(_0x488cbc+_0x1e67d4)+_0xae9bf2(0xc7)+(_0x488cbc+_0x1e67d4)+'\x20https://open.spotify.com/track/...\x0a‚Ä¢\x20'+(_0x488cbc+_0x1e67d4)+_0xae9bf2(0x83)+(_0x488cbc+_0x1e67d4)+_0xae9bf2(0x9b)+(_0x488cbc+_0x1e67d4)+_0xae9bf2(0x8c);try{await _0x383246[_0xae9bf2(0x75)]('‚è≥');let _0x39b347=![],_0x4a71fe=![],_0x518847=![],_0x4da77d;if(_0x3fd59c[_0xae9bf2(0xbc)](_0xae9bf2(0xcb))){_0x39b347=!![],_0x4da77d=await spotifyAlbum(_0x3fd59c);if(!_0x4da77d?.[_0xae9bf2(0xc6)]?.['length'])throw _0xae9bf2(0x8d);}else{if(_0x3fd59c[_0xae9bf2(0xbc)]('open.spotify.com/playlist')){_0x4a71fe=!![],_0x4da77d=await spotifyPlaylist(_0x3fd59c);if(!_0x4da77d?.[_0xae9bf2(0xc6)]?.[_0xae9bf2(0xa4)])throw'‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20la\x20playlist.';}else{if(_0x3fd59c[_0xae9bf2(0xbc)](_0xae9bf2(0x8e))||_0x3fd59c[_0xae9bf2(0xbc)]('spotify.com/artist')){_0x39b347=!![],_0x518847=!![],_0x4da77d=await spotifyArtist(_0x3fd59c);if(!_0x4da77d?.[_0xae9bf2(0xc6)]?.[_0xae9bf2(0xa4)])throw'‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20para\x20el\x20artista.';}else{if(_0x3fd59c[_0xae9bf2(0xbc)](_0xae9bf2(0xc9)))_0x4da77d={'tracks':[await spotifyTrack(_0x3fd59c)]};else{if(_0x3fd59c[_0xae9bf2(0x89)]()[_0xae9bf2(0xbc)](_0xae9bf2(0x6f))){_0x39b347=!![],_0x4da77d=await spotifyAlbumSearch(_0x3fd59c);if(!_0x4da77d?.[_0xae9bf2(0xc6)]?.[_0xae9bf2(0xa4)])throw _0xae9bf2(0x8d);}else{const _0x222e79=await spotifyxv(_0x3fd59c);if(!_0x222e79[_0xae9bf2(0xa4)]||!_0x222e79[0x0][_0xae9bf2(0xb3)])throw _0xae9bf2(0x91);_0x4da77d={'tracks':[_0x222e79[0x0]]};}}}}}if(_0x39b347||_0x4a71fe){let _0x2b38ff=[];for(let _0x1edc3c=0x0;_0x1edc3c<_0x4da77d['tracks'][_0xae9bf2(0xa4)];_0x1edc3c++){const _0x258ee6=_0x4da77d[_0xae9bf2(0xc6)][_0x1edc3c],_0x4cb9c4=_0x258ee6[_0xae9bf2(0xa7)]+'\x20('+(_0x1edc3c+0x1)+'/'+_0x4da77d[_0xae9bf2(0xc6)]['length']+')',_0x2bf960=formatExtractionMessage(_0x4cb9c4,0x1,'‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%'),_0x3643e4=await _0x8924a4['sendMessage'](_0x383246[_0xae9bf2(0x84)],{'text':_0x2bf960}),_0x55d56e=await downloadWithRetries(_0x258ee6,_0x8924a4,_0x383246,_0x3643e4,_0x4cb9c4);_0x55d56e?(await _0x8924a4[_0xae9bf2(0x6d)](_0x383246[_0xae9bf2(0x84)],{'delete':_0x3643e4[_0xae9bf2(0x8b)]}),await _0x8924a4[_0xae9bf2(0x6d)](_0x383246[_0xae9bf2(0x84)],{'audio':{'url':_0x55d56e[_0xae9bf2(0x70)]},'fileName':_0x55d56e[_0xae9bf2(0x6b)]+'.mp3','mimetype':_0xae9bf2(0x87),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x55d56e[_0xae9bf2(0x6b)],'body':_0xae9bf2(0xcd)+_0x55d56e[_0xae9bf2(0xd2)],'description':_0xae9bf2(0x98)+_0x55d56e['album'],'thumbnailUrl':_0x55d56e['thumbnail']}}}),await new Promise(_0x4ac38b=>setTimeout(_0x4ac38b,0x7d0))):_0x2b38ff['push'](_0x258ee6);}if(_0x2b38ff['length']>0x0){let _0x4ce84a=_0x2b38ff['map'](_0xded46=>_0xded46[_0xae9bf2(0xa7)])[_0xae9bf2(0x95)]('\x0a');await _0x8924a4[_0xae9bf2(0x6d)](_0x383246[_0xae9bf2(0x84)],{'text':'Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a'+_0x4ce84a});let _0x8226ba=[];for(let _0x1fd74c of _0x2b38ff){const _0x592703=_0x1fd74c[_0xae9bf2(0xa7)]+_0xae9bf2(0x74),_0x5a9245=formatExtractionMessage(_0x592703,0x1,'‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%'),_0x52784e=await _0x8924a4[_0xae9bf2(0x6d)](_0x383246[_0xae9bf2(0x84)],{'text':_0x5a9245}),_0x58a35c=await downloadWithRetries(_0x1fd74c,_0x8924a4,_0x383246,_0x52784e,_0x592703);_0x58a35c?(await _0x8924a4[_0xae9bf2(0x6d)](_0x383246[_0xae9bf2(0x84)],{'delete':_0x52784e[_0xae9bf2(0x8b)]}),await _0x8924a4[_0xae9bf2(0x6d)](_0x383246[_0xae9bf2(0x84)],{'audio':{'url':_0x58a35c[_0xae9bf2(0x70)]},'fileName':_0x58a35c[_0xae9bf2(0x6b)]+_0xae9bf2(0xa9),'mimetype':_0xae9bf2(0x87),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x58a35c['title'],'body':'Artista:\x20'+_0x58a35c[_0xae9bf2(0xd2)],'description':_0xae9bf2(0x98)+_0x58a35c[_0xae9bf2(0x6f)],'thumbnailUrl':_0x58a35c['thumbnail']}}}),await new Promise(_0x44c2e2=>setTimeout(_0x44c2e2,0x7d0))):_0x8226ba['push'](_0x1fd74c);}if(_0x8226ba['length']>0x0){let _0x36b4e0=_0x8226ba[_0xae9bf2(0x8a)](_0x4670e3=>_0x4670e3['name'])[_0xae9bf2(0x95)]('\x0a');await _0x8924a4[_0xae9bf2(0x6d)](_0x383246[_0xae9bf2(0x84)],{'text':_0xae9bf2(0x97)+_0x36b4e0});}}}else{const _0x336b13=_0x4da77d[_0xae9bf2(0xc6)][0x0],_0xb81c6c=_0x336b13[_0xae9bf2(0xa7)]+_0xae9bf2(0x7b),_0x27c70d=formatExtractionMessage(_0xb81c6c,0x1,_0xae9bf2(0xb0)),_0x2541f1=await _0x8924a4[_0xae9bf2(0x6d)](_0x383246[_0xae9bf2(0x84)],{'text':_0x27c70d}),_0x2812a2=await downloadWithRetries(_0x336b13,_0x8924a4,_0x383246,_0x2541f1,_0xb81c6c);if(!_0x2812a2){await _0x8924a4[_0xae9bf2(0x6d)](_0x383246[_0xae9bf2(0x84)],{'text':_0xae9bf2(0xbd)+_0x336b13[_0xae9bf2(0xa7)]});const _0x509485=formatExtractionMessage(_0xb81c6c+_0xae9bf2(0x74),0x1,'‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%'),_0x5c8f17=await _0x8924a4[_0xae9bf2(0x6d)](_0x383246['chat'],{'text':_0x509485}),_0xcecfe7=await downloadWithRetries(_0x336b13,_0x8924a4,_0x383246,_0x5c8f17,_0xb81c6c+_0xae9bf2(0x74));!_0xcecfe7?await _0x8924a4[_0xae9bf2(0x6d)](_0x383246[_0xae9bf2(0x84)],{'text':'No\x20se\x20pudo\x20extraer\x20la\x20sombra\x20de:\x20'+_0x336b13['name']}):(await _0x8924a4[_0xae9bf2(0x6d)](_0x383246[_0xae9bf2(0x84)],{'delete':_0x5c8f17[_0xae9bf2(0x8b)]}),await _0x8924a4[_0xae9bf2(0x6d)](_0x383246['chat'],{'audio':{'url':_0xcecfe7['music']},'fileName':_0xcecfe7[_0xae9bf2(0x6b)]+_0xae9bf2(0xa9),'mimetype':_0xae9bf2(0x87),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0xcecfe7[_0xae9bf2(0x6b)],'body':_0xae9bf2(0xcd)+_0xcecfe7['artist'],'description':_0xae9bf2(0x98)+_0xcecfe7[_0xae9bf2(0x6f)],'thumbnailUrl':_0xcecfe7[_0xae9bf2(0x86)]}}}),await new Promise(_0xb1b606=>setTimeout(_0xb1b606,0x7d0)));}else await _0x8924a4[_0xae9bf2(0x6d)](_0x383246[_0xae9bf2(0x84)],{'delete':_0x2541f1[_0xae9bf2(0x8b)]}),await _0x8924a4[_0xae9bf2(0x6d)](_0x383246[_0xae9bf2(0x84)],{'audio':{'url':_0x2812a2[_0xae9bf2(0x70)]},'fileName':_0x2812a2[_0xae9bf2(0x6b)]+_0xae9bf2(0xa9),'mimetype':'audio/mpeg','contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x2812a2[_0xae9bf2(0x6b)],'body':_0xae9bf2(0xcd)+_0x2812a2[_0xae9bf2(0xd2)],'description':'√Ålbum:\x20'+_0x2812a2[_0xae9bf2(0x6f)],'thumbnailUrl':_0x2812a2[_0xae9bf2(0x86)]}}}),await _0x383246[_0xae9bf2(0x75)]('‚úÖ');}}catch(_0x5b802c){await _0x383246['react']('‚ùå'),await _0x383246['reply'](_0xae9bf2(0x6c)+(_0x5b802c[_0xae9bf2(0x9d)]||_0x5b802c)),console[_0xae9bf2(0x88)](_0x5b802c);}};handler[a0_0x1d5a1b(0xc4)]=[a0_0x1d5a1b(0xb9),a0_0x1d5a1b(0x70)],handler[a0_0x1d5a1b(0xc3)]=[a0_0x1d5a1b(0xa2)],handler[a0_0x1d5a1b(0xbe)]=[a0_0x1d5a1b(0xb9),a0_0x1d5a1b(0x70)],handler[a0_0x1d5a1b(0x80)]=![];export default handler;async function spotifyxv(_0x2f1f20){const _0x217ce9=a0_0x1d5a1b,_0x46684f=await getSpotifyToken();try{let _0x42c852=await a0_0x385477({'method':_0x217ce9(0xbb),'url':_0x217ce9(0xad)+encodeURIComponent(_0x2f1f20)+_0x217ce9(0xc2),'headers':{'Authorization':_0x217ce9(0xa3)+_0x46684f}});const _0x35340d=_0x42c852[_0x217ce9(0x92)]['tracks']['items'];return _0x35340d[_0x217ce9(0x8a)](_0x40f17b=>({'name':_0x40f17b[_0x217ce9(0xa7)],'artist':_0x40f17b[_0x217ce9(0x7e)]['map'](_0xaa1211=>_0xaa1211[_0x217ce9(0xa7)])[_0x217ce9(0x95)](',\x20'),'album':_0x40f17b[_0x217ce9(0x6f)][_0x217ce9(0xa7)],'duration':timestamp(_0x40f17b[_0x217ce9(0xb5)]),'url':_0x40f17b[_0x217ce9(0x96)][_0x217ce9(0xb9)],'thumbnail':_0x40f17b[_0x217ce9(0x6f)][_0x217ce9(0x77)][0x0]?.[_0x217ce9(0xb3)]||''}));}catch(_0x144edf){return console[_0x217ce9(0x88)](_0x144edf),[];}}function a0_0x19bd(_0xfd8156,_0x593414){const _0x1b36e6=a0_0x1b36();return a0_0x19bd=function(_0x19bd58,_0x20eb27){_0x19bd58=_0x19bd58-0x6b;let _0x2024da=_0x1b36e6[_0x19bd58];return _0x2024da;},a0_0x19bd(_0xfd8156,_0x593414);}async function spotifyAlbum(_0x1e4135){const _0x475c09=a0_0x1d5a1b;let _0x528bdc;try{const _0x1044e3=_0x1e4135[_0x475c09(0xac)]('/');_0x528bdc=_0x1044e3[_0x1044e3[_0x475c09(0xbf)](_0x475c09(0x6f))+0x1][_0x475c09(0xac)]('?')[0x0];}catch(_0x54b55c){throw new Error(_0x475c09(0x90));}const _0x1efb6e=await getSpotifyToken();let _0x5238da=await a0_0x385477({'method':'get','url':'https://api.spotify.com/v1/albums/'+_0x528bdc,'headers':{'Authorization':_0x475c09(0xa3)+_0x1efb6e}});const _0x251e60=_0x5238da[_0x475c09(0x92)],_0x3fcbab=_0x251e60[_0x475c09(0xc6)][_0x475c09(0x7d)]['map'](_0xbb4863=>({'name':_0xbb4863['name'],'artist':_0xbb4863[_0x475c09(0x7e)]['map'](_0x5ea7d2=>_0x5ea7d2['name'])['join'](',\x20'),'album':_0x251e60['name'],'url':_0xbb4863[_0x475c09(0x96)][_0x475c09(0xb9)],'thumbnail':_0x251e60['images'][0x0]?.['url']||''}));return{'album':_0x251e60,'tracks':_0x3fcbab};}async function spotifyAlbumSearch(_0x414f62){const _0x50c8ff=a0_0x1d5a1b,_0x4dd54e=await getSpotifyToken();let _0x2429e7=await a0_0x385477({'method':_0x50c8ff(0xbb),'url':'https://api.spotify.com/v1/search?q='+encodeURIComponent(_0x414f62)+_0x50c8ff(0x79),'headers':{'Authorization':_0x50c8ff(0xa3)+_0x4dd54e}});const _0x143f03=_0x2429e7['data']['albums']['items'];if(!_0x143f03[_0x50c8ff(0xa4)])return null;const _0x27ce42=_0x143f03[0x0]['id'];let _0x55fa25=await a0_0x385477({'method':_0x50c8ff(0xbb),'url':_0x50c8ff(0x6e)+_0x27ce42,'headers':{'Authorization':'Bearer\x20'+_0x4dd54e}});const _0x26efed=_0x55fa25['data'],_0x488ead=_0x26efed['tracks'][_0x50c8ff(0x7d)][_0x50c8ff(0x8a)](_0x1af299=>({'name':_0x1af299[_0x50c8ff(0xa7)],'artist':_0x1af299[_0x50c8ff(0x7e)]['map'](_0x696f7b=>_0x696f7b[_0x50c8ff(0xa7)])[_0x50c8ff(0x95)](',\x20'),'album':_0x26efed[_0x50c8ff(0xa7)],'url':_0x1af299[_0x50c8ff(0x96)][_0x50c8ff(0xb9)],'thumbnail':_0x26efed['images'][0x0]?.['url']||''}));return{'album':_0x26efed,'tracks':_0x488ead};}async function spotifyPlaylist(_0x3f5a39){const _0x4a70cd=a0_0x1d5a1b;let _0x17d32c;try{const _0xdc31f4=_0x3f5a39[_0x4a70cd(0xac)]('/');_0x17d32c=_0xdc31f4[_0xdc31f4[_0x4a70cd(0xbf)]('playlist')+0x1][_0x4a70cd(0xac)]('?')[0x0];}catch(_0x304fa8){throw new Error(_0x4a70cd(0xa6));}const _0x18ef09=await getSpotifyToken();let _0x32bc18=await a0_0x385477({'method':_0x4a70cd(0xbb),'url':_0x4a70cd(0xce)+_0x17d32c,'headers':{'Authorization':_0x4a70cd(0xa3)+_0x18ef09}});const _0x12076e=_0x32bc18[_0x4a70cd(0x92)],_0x59602f=_0x12076e[_0x4a70cd(0xc6)][_0x4a70cd(0x7d)]['map'](_0x2e3802=>{const _0x5ab1b5=_0x4a70cd,_0x2a87ae=_0x2e3802['track'];return{'name':_0x2a87ae[_0x5ab1b5(0xa7)],'artist':_0x2a87ae[_0x5ab1b5(0x7e)][_0x5ab1b5(0x8a)](_0x154c52=>_0x154c52['name'])[_0x5ab1b5(0x95)](',\x20'),'album':_0x12076e[_0x5ab1b5(0xa7)],'url':_0x2a87ae[_0x5ab1b5(0x96)][_0x5ab1b5(0xb9)],'thumbnail':_0x2a87ae[_0x5ab1b5(0x6f)][_0x5ab1b5(0x77)][0x0]?.[_0x5ab1b5(0xb3)]||''};});return{'album':{'name':_0x12076e[_0x4a70cd(0xa7)]},'tracks':_0x59602f};}async function spotifyArtist(_0x4f6920){const _0x4a4297=a0_0x1d5a1b;let _0x47e3f5;try{const _0x5dae7c=_0x4f6920[_0x4a4297(0xac)]('/');_0x47e3f5=_0x5dae7c[_0x5dae7c[_0x4a4297(0xbf)](_0x4a4297(0xd2))+0x1][_0x4a4297(0xac)]('?')[0x0];}catch(_0x34101b){throw new Error(_0x4a4297(0x7c));}const _0x2879ba=await getSpotifyToken();let _0x3adcbd=await a0_0x385477({'method':_0x4a4297(0xbb),'url':_0x4a4297(0xaf)+_0x47e3f5+_0x4a4297(0xae),'headers':{'Authorization':_0x4a4297(0xa3)+_0x2879ba}});const _0x1659d9=_0x3adcbd[_0x4a4297(0x92)],_0x102b88=_0x1659d9[_0x4a4297(0xc6)][_0x4a4297(0x8a)](_0x5d2e33=>({'name':_0x5d2e33[_0x4a4297(0xa7)],'artist':_0x5d2e33['artists'][_0x4a4297(0x8a)](_0x28ed87=>_0x28ed87[_0x4a4297(0xa7)])[_0x4a4297(0x95)](',\x20'),'album':_0x4a4297(0x71),'url':_0x5d2e33[_0x4a4297(0x96)][_0x4a4297(0xb9)],'thumbnail':_0x5d2e33[_0x4a4297(0x6f)][_0x4a4297(0x77)][0x0]?.[_0x4a4297(0xb3)]||''}));return{'album':{'name':_0x4a4297(0x71)},'tracks':_0x102b88};}async function spotifyTrack(_0x4a4fca){const _0x3412f7=a0_0x1d5a1b;let _0x3c53f9;try{const _0x31365d=_0x4a4fca[_0x3412f7(0xac)]('/');_0x3c53f9=_0x31365d[_0x31365d[_0x3412f7(0xbf)](_0x3412f7(0xb6))+0x1][_0x3412f7(0xac)]('?')[0x0];}catch(_0x5ce4aa){throw new Error('No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20track.');}const _0x3dd55c=await getSpotifyToken();let _0x2f91a0=await a0_0x385477({'method':_0x3412f7(0xbb),'url':'https://api.spotify.com/v1/tracks/'+_0x3c53f9,'headers':{'Authorization':_0x3412f7(0xa3)+_0x3dd55c}});const _0x1b99f3=_0x2f91a0[_0x3412f7(0x92)];return{'name':_0x1b99f3['name'],'artist':_0x1b99f3[_0x3412f7(0x7e)][_0x3412f7(0x8a)](_0xae81b=>_0xae81b['name'])[_0x3412f7(0x95)](',\x20'),'album':_0x1b99f3[_0x3412f7(0x6f)][_0x3412f7(0xa7)],'url':_0x1b99f3[_0x3412f7(0x96)][_0x3412f7(0xb9)],'thumbnail':_0x1b99f3[_0x3412f7(0x6f)]['images'][0x0]?.[_0x3412f7(0xb3)]||''};}function timestamp(_0x5842b7){const _0x45c3e9=a0_0x1d5a1b,_0xb95ff5=Math['floor'](_0x5842b7/0xea60),_0x16116c=Math[_0x45c3e9(0x8f)](_0x5842b7%0xea60/0x3e8);return _0xb95ff5+':'+(_0x16116c<0xa?'0':'')+_0x16116c;}