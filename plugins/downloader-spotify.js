const a0_0x526f45=a0_0xc6bb;(function(_0x20dfa6,_0x8fab09){const _0x204ccf=a0_0xc6bb,_0xc58e06=_0x20dfa6();while(!![]){try{const _0x2a6b69=-parseInt(_0x204ccf(0x180))/0x1+-parseInt(_0x204ccf(0x1c3))/0x2*(-parseInt(_0x204ccf(0x1c4))/0x3)+parseInt(_0x204ccf(0x179))/0x4*(parseInt(_0x204ccf(0x1a0))/0x5)+-parseInt(_0x204ccf(0x1bb))/0x6+parseInt(_0x204ccf(0x198))/0x7+parseInt(_0x204ccf(0x173))/0x8*(-parseInt(_0x204ccf(0x196))/0x9)+parseInt(_0x204ccf(0x16f))/0xa;if(_0x2a6b69===_0x8fab09)break;else _0xc58e06['push'](_0xc58e06['shift']());}catch(_0x1a00c3){_0xc58e06['push'](_0xc58e06['shift']());}}}(a0_0x5237,0xb3121));import a0_0x4b2419 from'axios';import a0_0x4cedd0 from'node-fetch';let spotifyTokenCache={'token':null,'expiresAt':0x0};async function getSpotifyToken(){const _0x632e03=a0_0xc6bb,_0x19218d=Date['now']();if(spotifyTokenCache['token']&&spotifyTokenCache[_0x632e03(0x189)]>_0x19218d)return spotifyTokenCache[_0x632e03(0x184)];const _0x2eb91f=await a0_0x4b2419({'method':_0x632e03(0x17b),'url':_0x632e03(0x18d),'headers':{'Content-Type':'application/x-www-form-urlencoded','Authorization':'Basic\x20'+Buffer[_0x632e03(0x1be)]('acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009')[_0x632e03(0x1d2)](_0x632e03(0x187))},'data':'grant_type=client_credentials'}),_0x2f62fa=_0x2eb91f[_0x632e03(0x197)][_0x632e03(0x1d1)];return spotifyTokenCache['token']=_0x2f62fa,spotifyTokenCache[_0x632e03(0x189)]=_0x19218d+_0x2eb91f[_0x632e03(0x197)][_0x632e03(0x18a)]*0x3e8-0xea60,_0x2f62fa;}async function getBuffer(_0x123ea3){const _0x1e7008=a0_0xc6bb,_0x1c90a3=await a0_0x4cedd0(_0x123ea3);if(!_0x1c90a3['ok'])throw new Error('Error\x20al\x20obtener\x20la\x20imagen:\x20'+_0x1c90a3['statusText']);return await _0x1c90a3[_0x1e7008(0x183)]();}function a0_0x5237(){const _0x5c442d=['group','buffer','token','command','spotify.com/track','base64','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20Fall√≥\x20la\x20extracci√≥n\x20de:\x20','expiresAt','expires_in','\x0a‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ','No\x20se\x20pudo\x20obtener\x20el\x20enlace\x20de\x20descarga\x20para\x20','https://accounts.spotify.com/api/token','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20la\x20playlist.','&type=track','then','‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\x0a‚öîÔ∏è\x20Extracci√≥n\x20en\x20Curso\x0aüåü\x20Objetivo:\x20','&type=album','‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2010%','\x20https://open.spotify.com/album/...\x0a‚Ä¢\x20','artist','54QAjBej','data','683515xxbcdZ','Artista:\x20','open.spotify.com/album','\x20(Reintento)','https://api.spotify.com/v1/tracks/','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±\x2060%','https://api.spotify.com/v1/albums/','.mp3','5EYwXOl','\x0aüõ†Ô∏è\x20Intento:\x20','help','play','spotify.com/artist','\x20(1/1)','open.spotify.com/artist','downloader','‚öîÔ∏è\x20Error:\x20No\x20ingresaste\x20ninguna\x20b√∫squeda\x20o\x20enlace.\x0a\x0aEjemplo:\x0a‚Ä¢\x20','reply','albums','No\x20se\x20pudo\x20extraer\x20la\x20sombra\x20de:\x20','‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2020%','includes','floor','key','https://api.spotify.com/v1/search?q=','https://api.spotify.com/v1/playlists/','name','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20para\x20el\x20artista.','split','map','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±\x2070%','Top\x20Tracks','sendMessage','get','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20track.','6963954zqDgmf','‚ùå\x20*Error:*\x20','Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a','from','error','push','thumbnail','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±\x2080%','2ozMYoP','2221410BhHbgv','tracks','Bearer\x20','chat','length','url','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2050%','audio/mpeg','https://apis-starlights-team.koyeb.app/starlight/spotifydl?url=','indexOf','‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2040%','title','access_token','toString','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20√°lbum.','20032990XzEDIn','√Ålbum:\x20','artists','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±\x2090%','364696onOARB','items','track','message','\x20https://open.spotify.com/artist/...','music','2098772EtEqbg','images','post','album','json','external_urls','join','1198453ZENgwN','spotify'];a0_0x5237=function(){return _0x5c442d;};return a0_0x5237();}function formatExtractionMessage(_0x59677a,_0x44f517,_0x2831a2){const _0x525402=a0_0xc6bb;return _0x525402(0x191)+_0x59677a+_0x525402(0x1a1)+_0x44f517+'\x0aüí†\x20Progreso:\x20'+_0x2831a2+_0x525402(0x18b);}async function progressWithSync(_0xf8cff2,_0x233ac9,_0x59ada0,_0xf476de,{objective:_0x5952ec,attempt:_0xb4a3f1,failedTrack:failedTrack=null}){const _0x4be33f=a0_0xc6bb;let _0x5b315a=![];const _0x36d128=['‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%',_0x4be33f(0x193),_0x4be33f(0x1ac),'‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2030%',_0x4be33f(0x1cf),_0x4be33f(0x1ca),_0x4be33f(0x19d),_0x4be33f(0x1b6),_0x4be33f(0x1c2),_0x4be33f(0x172)];let _0x22da9a=0x0;const _0x5b87f5=0x12c,_0x1e61b4=setInterval(async()=>{const _0x11af52=_0x4be33f;if(_0x22da9a<_0x36d128[_0x11af52(0x1c8)]){const _0x47bf50=formatExtractionMessage(_0x5952ec,_0xb4a3f1,_0x36d128[_0x22da9a]);await _0xf8cff2['sendMessage'](_0x233ac9[_0x11af52(0x1c7)],{'text':_0x47bf50,'edit':_0x59ada0['key']}),_0x22da9a++;}},_0x5b87f5);try{await _0xf476de;}catch(_0x2194da){_0x5b315a=!![];}clearInterval(_0x1e61b4);const _0xf860cd=_0x5b315a&&failedTrack?_0x4be33f(0x188)+failedTrack:'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20¬°Descargado!',_0x1c9c38=formatExtractionMessage(_0x5952ec,_0xb4a3f1,_0xf860cd);await _0xf8cff2[_0x4be33f(0x1b8)](_0x233ac9[_0x4be33f(0x1c7)],{'text':_0x1c9c38,'edit':_0x59ada0[_0x4be33f(0x1af)]});}async function downloadWithRetries(_0x2eae0d,_0x1fa0e7,_0x538f0e,_0x5c14e0,_0x1978de){const _0x2b11fc=a0_0xc6bb;let _0x5a27db=null;for(let _0x226e4c=0x1;_0x226e4c<=0x3;_0x226e4c++){try{const _0x26b501=a0_0x4cedd0(_0x2b11fc(0x1cc)+_0x2eae0d['url'])[_0x2b11fc(0x190)](_0x1329a6=>_0x1329a6[_0x2b11fc(0x17d)]());await progressWithSync(_0x1fa0e7,_0x538f0e,_0x5c14e0,_0x26b501,{'objective':_0x1978de,'attempt':_0x226e4c,'failedTrack':_0x226e4c===0x3?_0x2eae0d[_0x2b11fc(0x1b2)]:null}),_0x5a27db=await _0x26b501;if(!_0x5a27db||!_0x5a27db[_0x2b11fc(0x178)])throw new Error(_0x2b11fc(0x18c)+_0x2eae0d[_0x2b11fc(0x1b2)]);return _0x5a27db;}catch(_0x2e632e){if(_0x226e4c===0x3)return null;await new Promise(_0x53c547=>setTimeout(_0x53c547,0x3e8));}}return null;}let handler=async(_0x20edbe,{conn:_0x2cd4b3,text:_0x422d16,usedPrefix:_0x5e68bb,command:_0x39e3e})=>{const _0x544808=a0_0xc6bb;if(!_0x422d16)throw _0x544808(0x1a8)+(_0x5e68bb+_0x39e3e)+'\x20Bellyache\x0a‚Ä¢\x20'+(_0x5e68bb+_0x39e3e)+'\x20https://open.spotify.com/track/...\x0a‚Ä¢\x20'+(_0x5e68bb+_0x39e3e)+_0x544808(0x194)+(_0x5e68bb+_0x39e3e)+'\x20https://open.spotify.com/playlist/...\x0a‚Ä¢\x20'+(_0x5e68bb+_0x39e3e)+_0x544808(0x177);try{await _0x20edbe['react']('‚è≥');let _0x3d8e25=![],_0x1bf555=![],_0x1053be=![],_0x4b0baf;if(_0x422d16[_0x544808(0x1ad)](_0x544808(0x19a))){_0x3d8e25=!![],_0x4b0baf=await spotifyAlbum(_0x422d16);if(!_0x4b0baf?.['tracks']?.[_0x544808(0x1c8)])throw'‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20el\x20√°lbum.';}else{if(_0x422d16[_0x544808(0x1ad)]('open.spotify.com/playlist')){_0x1bf555=!![],_0x4b0baf=await spotifyPlaylist(_0x422d16);if(!_0x4b0baf?.['tracks']?.['length'])throw _0x544808(0x18e);}else{if(_0x422d16[_0x544808(0x1ad)](_0x544808(0x1a6))||_0x422d16[_0x544808(0x1ad)](_0x544808(0x1a4))){_0x3d8e25=!![],_0x1053be=!![],_0x4b0baf=await spotifyArtist(_0x422d16);if(!_0x4b0baf?.[_0x544808(0x1c5)]?.[_0x544808(0x1c8)])throw _0x544808(0x1b3);}else{if(_0x422d16[_0x544808(0x1ad)](_0x544808(0x186)))_0x4b0baf={'tracks':[await spotifyTrack(_0x422d16)]};else{if(_0x422d16['toLowerCase']()[_0x544808(0x1ad)](_0x544808(0x17c))){_0x3d8e25=!![],_0x4b0baf=await spotifyAlbumSearch(_0x422d16);if(!_0x4b0baf?.[_0x544808(0x1c5)]?.[_0x544808(0x1c8)])throw'‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20el\x20√°lbum.';}else{const _0x5297af=await spotifyxv(_0x422d16);if(!_0x5297af[_0x544808(0x1c8)]||!_0x5297af[0x0][_0x544808(0x1c9)])throw'‚ùå\x20*Error:*\x20No\x20se\x20encontraron\x20resultados.';_0x4b0baf={'tracks':[_0x5297af[0x0]]};}}}}}if(_0x3d8e25||_0x1bf555){let _0x1af283=[];for(let _0x761f50=0x0;_0x761f50<_0x4b0baf[_0x544808(0x1c5)][_0x544808(0x1c8)];_0x761f50++){const _0x5774b7=_0x4b0baf[_0x544808(0x1c5)][_0x761f50],_0x12313c=_0x5774b7[_0x544808(0x1b2)]+'\x20('+(_0x761f50+0x1)+'/'+_0x4b0baf[_0x544808(0x1c5)][_0x544808(0x1c8)]+')',_0x23c4a4=formatExtractionMessage(_0x12313c,0x1,_0x544808(0x1ce)),_0x2aa26c=await _0x2cd4b3['sendMessage'](_0x20edbe[_0x544808(0x1c7)],{'text':_0x23c4a4}),_0x44c0b2=await downloadWithRetries(_0x5774b7,_0x2cd4b3,_0x20edbe,_0x2aa26c,_0x12313c);_0x44c0b2?(await _0x2cd4b3[_0x544808(0x1b8)](_0x20edbe[_0x544808(0x1c7)],{'delete':_0x2aa26c[_0x544808(0x1af)]}),await _0x2cd4b3[_0x544808(0x1b8)](_0x20edbe[_0x544808(0x1c7)],{'audio':{'url':_0x44c0b2[_0x544808(0x178)]},'fileName':_0x44c0b2[_0x544808(0x1d0)]+_0x544808(0x19f),'mimetype':_0x544808(0x1cb),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x44c0b2['title'],'body':_0x544808(0x199)+_0x44c0b2[_0x544808(0x195)],'description':_0x544808(0x170)+_0x44c0b2[_0x544808(0x17c)],'thumbnailUrl':_0x44c0b2[_0x544808(0x1c1)]}}}),await new Promise(_0x3eb873=>setTimeout(_0x3eb873,0x7d0))):_0x1af283[_0x544808(0x1c0)](_0x5774b7);}if(_0x1af283[_0x544808(0x1c8)]>0x0){let _0x530ab6=_0x1af283[_0x544808(0x1b5)](_0x291207=>_0x291207[_0x544808(0x1b2)])[_0x544808(0x17f)]('\x0a');await _0x2cd4b3['sendMessage'](_0x20edbe[_0x544808(0x1c7)],{'text':'Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a'+_0x530ab6});let _0x4f33c8=[];for(let _0x3b5460 of _0x1af283){const _0x4b5e26=_0x3b5460['name']+_0x544808(0x19b),_0x4ad931=formatExtractionMessage(_0x4b5e26,0x1,_0x544808(0x1ce)),_0x3cb177=await _0x2cd4b3[_0x544808(0x1b8)](_0x20edbe[_0x544808(0x1c7)],{'text':_0x4ad931}),_0x4817e8=await downloadWithRetries(_0x3b5460,_0x2cd4b3,_0x20edbe,_0x3cb177,_0x4b5e26);_0x4817e8?(await _0x2cd4b3['sendMessage'](_0x20edbe['chat'],{'delete':_0x3cb177[_0x544808(0x1af)]}),await _0x2cd4b3[_0x544808(0x1b8)](_0x20edbe[_0x544808(0x1c7)],{'audio':{'url':_0x4817e8[_0x544808(0x178)]},'fileName':_0x4817e8[_0x544808(0x1d0)]+'.mp3','mimetype':_0x544808(0x1cb),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x4817e8[_0x544808(0x1d0)],'body':_0x544808(0x199)+_0x4817e8[_0x544808(0x195)],'description':_0x544808(0x170)+_0x4817e8[_0x544808(0x17c)],'thumbnailUrl':_0x4817e8[_0x544808(0x1c1)]}}}),await new Promise(_0x1ba70b=>setTimeout(_0x1ba70b,0x7d0))):_0x4f33c8[_0x544808(0x1c0)](_0x3b5460);}if(_0x4f33c8[_0x544808(0x1c8)]>0x0){let _0x329490=_0x4f33c8[_0x544808(0x1b5)](_0x5475e0=>_0x5475e0['name'])[_0x544808(0x17f)]('\x0a');await _0x2cd4b3[_0x544808(0x1b8)](_0x20edbe[_0x544808(0x1c7)],{'text':'No\x20se\x20pudieron\x20extraer\x20las\x20siguientes\x20sombras:\x0a'+_0x329490});}}}else{const _0x5d4b42=_0x4b0baf[_0x544808(0x1c5)][0x0],_0x1de0e7=_0x5d4b42[_0x544808(0x1b2)]+_0x544808(0x1a5),_0x20aec3=formatExtractionMessage(_0x1de0e7,0x1,_0x544808(0x1ce)),_0x296907=await _0x2cd4b3[_0x544808(0x1b8)](_0x20edbe['chat'],{'text':_0x20aec3}),_0x491e22=await downloadWithRetries(_0x5d4b42,_0x2cd4b3,_0x20edbe,_0x296907,_0x1de0e7);if(!_0x491e22){await _0x2cd4b3[_0x544808(0x1b8)](_0x20edbe[_0x544808(0x1c7)],{'text':_0x544808(0x1bd)+_0x5d4b42['name']});const _0x1f9801=formatExtractionMessage(_0x1de0e7+_0x544808(0x19b),0x1,_0x544808(0x1ce)),_0x57cf9c=await _0x2cd4b3[_0x544808(0x1b8)](_0x20edbe['chat'],{'text':_0x1f9801}),_0x1a0e10=await downloadWithRetries(_0x5d4b42,_0x2cd4b3,_0x20edbe,_0x57cf9c,_0x1de0e7+_0x544808(0x19b));!_0x1a0e10?await _0x2cd4b3[_0x544808(0x1b8)](_0x20edbe['chat'],{'text':_0x544808(0x1ab)+_0x5d4b42[_0x544808(0x1b2)]}):(await _0x2cd4b3[_0x544808(0x1b8)](_0x20edbe[_0x544808(0x1c7)],{'delete':_0x57cf9c['key']}),await _0x2cd4b3[_0x544808(0x1b8)](_0x20edbe['chat'],{'audio':{'url':_0x1a0e10[_0x544808(0x178)]},'fileName':_0x1a0e10[_0x544808(0x1d0)]+_0x544808(0x19f),'mimetype':_0x544808(0x1cb),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x1a0e10[_0x544808(0x1d0)],'body':_0x544808(0x199)+_0x1a0e10[_0x544808(0x195)],'description':_0x544808(0x170)+_0x1a0e10[_0x544808(0x17c)],'thumbnailUrl':_0x1a0e10[_0x544808(0x1c1)]}}}),await new Promise(_0x118150=>setTimeout(_0x118150,0x7d0)));}else await _0x2cd4b3[_0x544808(0x1b8)](_0x20edbe[_0x544808(0x1c7)],{'delete':_0x296907[_0x544808(0x1af)]}),await _0x2cd4b3[_0x544808(0x1b8)](_0x20edbe[_0x544808(0x1c7)],{'audio':{'url':_0x491e22['music']},'fileName':_0x491e22[_0x544808(0x1d0)]+_0x544808(0x19f),'mimetype':_0x544808(0x1cb),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x491e22[_0x544808(0x1d0)],'body':'Artista:\x20'+_0x491e22['artist'],'description':_0x544808(0x170)+_0x491e22[_0x544808(0x17c)],'thumbnailUrl':_0x491e22[_0x544808(0x1c1)]}}}),await _0x20edbe['react']('‚úÖ');}}catch(_0x32eab4){await _0x20edbe['react']('‚ùå'),await _0x20edbe[_0x544808(0x1a9)](_0x544808(0x1bc)+(_0x32eab4[_0x544808(0x176)]||_0x32eab4)),console['error'](_0x32eab4);}};handler[a0_0x526f45(0x1a2)]=[a0_0x526f45(0x181),a0_0x526f45(0x1a3)],handler['tags']=[a0_0x526f45(0x1a7)],handler[a0_0x526f45(0x185)]=[a0_0x526f45(0x181),a0_0x526f45(0x1a3)],handler[a0_0x526f45(0x182)]=![];export default handler;async function spotifyxv(_0x8ef1d5){const _0x1f8429=a0_0x526f45,_0x361acb=await getSpotifyToken();try{let _0x483e89=await a0_0x4b2419({'method':'get','url':_0x1f8429(0x1b0)+encodeURIComponent(_0x8ef1d5)+_0x1f8429(0x18f),'headers':{'Authorization':_0x1f8429(0x1c6)+_0x361acb}});const _0x5bb78f=_0x483e89['data'][_0x1f8429(0x1c5)][_0x1f8429(0x174)];return _0x5bb78f[_0x1f8429(0x1b5)](_0x27f664=>({'name':_0x27f664[_0x1f8429(0x1b2)],'artist':_0x27f664[_0x1f8429(0x171)][_0x1f8429(0x1b5)](_0x4d4213=>_0x4d4213[_0x1f8429(0x1b2)])[_0x1f8429(0x17f)](',\x20'),'album':_0x27f664[_0x1f8429(0x17c)]['name'],'duration':timestamp(_0x27f664['duration_ms']),'url':_0x27f664[_0x1f8429(0x17e)][_0x1f8429(0x181)],'thumbnail':_0x27f664[_0x1f8429(0x17c)][_0x1f8429(0x17a)][0x0]?.[_0x1f8429(0x1c9)]||''}));}catch(_0x500a6a){return console[_0x1f8429(0x1bf)](_0x500a6a),[];}}async function spotifyAlbum(_0x59c62c){const _0x359371=a0_0x526f45;let _0x91be3f;try{const _0x588fe5=_0x59c62c[_0x359371(0x1b4)]('/');_0x91be3f=_0x588fe5[_0x588fe5[_0x359371(0x1cd)](_0x359371(0x17c))+0x1]['split']('?')[0x0];}catch(_0x16825b){throw new Error(_0x359371(0x16e));}const _0x3f8b1f=await getSpotifyToken();let _0x2448c2=await a0_0x4b2419({'method':_0x359371(0x1b9),'url':'https://api.spotify.com/v1/albums/'+_0x91be3f,'headers':{'Authorization':'Bearer\x20'+_0x3f8b1f}});const _0x4aea12=_0x2448c2[_0x359371(0x197)],_0x307f9d=_0x4aea12[_0x359371(0x1c5)]['items'][_0x359371(0x1b5)](_0x48a5a4=>({'name':_0x48a5a4['name'],'artist':_0x48a5a4[_0x359371(0x171)][_0x359371(0x1b5)](_0xdfeac6=>_0xdfeac6[_0x359371(0x1b2)])[_0x359371(0x17f)](',\x20'),'album':_0x4aea12[_0x359371(0x1b2)],'url':_0x48a5a4[_0x359371(0x17e)][_0x359371(0x181)],'thumbnail':_0x4aea12[_0x359371(0x17a)][0x0]?.['url']||''}));return{'album':_0x4aea12,'tracks':_0x307f9d};}async function spotifyAlbumSearch(_0x47382e){const _0x2e2b87=a0_0x526f45,_0x5638c0=await getSpotifyToken();let _0x2ef2f5=await a0_0x4b2419({'method':_0x2e2b87(0x1b9),'url':_0x2e2b87(0x1b0)+encodeURIComponent(_0x47382e)+_0x2e2b87(0x192),'headers':{'Authorization':_0x2e2b87(0x1c6)+_0x5638c0}});const _0x48882f=_0x2ef2f5[_0x2e2b87(0x197)][_0x2e2b87(0x1aa)][_0x2e2b87(0x174)];if(!_0x48882f[_0x2e2b87(0x1c8)])return null;const _0x1d7e06=_0x48882f[0x0]['id'];let _0x4f4adf=await a0_0x4b2419({'method':_0x2e2b87(0x1b9),'url':_0x2e2b87(0x19e)+_0x1d7e06,'headers':{'Authorization':_0x2e2b87(0x1c6)+_0x5638c0}});const _0x775e0=_0x4f4adf[_0x2e2b87(0x197)],_0x59ed70=_0x775e0[_0x2e2b87(0x1c5)][_0x2e2b87(0x174)][_0x2e2b87(0x1b5)](_0x339268=>({'name':_0x339268[_0x2e2b87(0x1b2)],'artist':_0x339268[_0x2e2b87(0x171)][_0x2e2b87(0x1b5)](_0x4733ed=>_0x4733ed[_0x2e2b87(0x1b2)])[_0x2e2b87(0x17f)](',\x20'),'album':_0x775e0[_0x2e2b87(0x1b2)],'url':_0x339268[_0x2e2b87(0x17e)][_0x2e2b87(0x181)],'thumbnail':_0x775e0['images'][0x0]?.[_0x2e2b87(0x1c9)]||''}));return{'album':_0x775e0,'tracks':_0x59ed70};}async function spotifyPlaylist(_0x774768){const _0x4fb91b=a0_0x526f45;let _0x420b5b;try{const _0x4b85a5=_0x774768[_0x4fb91b(0x1b4)]('/');_0x420b5b=_0x4b85a5[_0x4b85a5[_0x4fb91b(0x1cd)]('playlist')+0x1][_0x4fb91b(0x1b4)]('?')[0x0];}catch(_0x8d4cc6){throw new Error('No\x20se\x20pudo\x20extraer\x20el\x20ID\x20de\x20la\x20playlist.');}const _0x30008e=await getSpotifyToken();let _0x3ca39c=await a0_0x4b2419({'method':_0x4fb91b(0x1b9),'url':_0x4fb91b(0x1b1)+_0x420b5b,'headers':{'Authorization':_0x4fb91b(0x1c6)+_0x30008e}});const _0x1bf231=_0x3ca39c[_0x4fb91b(0x197)],_0xabe119=_0x1bf231[_0x4fb91b(0x1c5)][_0x4fb91b(0x174)]['map'](_0x37d1ce=>{const _0x5b75c1=_0x4fb91b,_0x104dd2=_0x37d1ce[_0x5b75c1(0x175)];return{'name':_0x104dd2[_0x5b75c1(0x1b2)],'artist':_0x104dd2['artists'][_0x5b75c1(0x1b5)](_0x459a96=>_0x459a96[_0x5b75c1(0x1b2)])[_0x5b75c1(0x17f)](',\x20'),'album':_0x1bf231['name'],'url':_0x104dd2[_0x5b75c1(0x17e)][_0x5b75c1(0x181)],'thumbnail':_0x104dd2[_0x5b75c1(0x17c)][_0x5b75c1(0x17a)][0x0]?.[_0x5b75c1(0x1c9)]||''};});return{'album':{'name':_0x1bf231[_0x4fb91b(0x1b2)]},'tracks':_0xabe119};}async function spotifyArtist(_0x4697c0){const _0x46e5f6=a0_0x526f45;let _0x2b025d;try{const _0xa4f9e1=_0x4697c0[_0x46e5f6(0x1b4)]('/');_0x2b025d=_0xa4f9e1[_0xa4f9e1[_0x46e5f6(0x1cd)](_0x46e5f6(0x195))+0x1][_0x46e5f6(0x1b4)]('?')[0x0];}catch(_0x3dca7e){throw new Error('No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20artista.');}const _0x4cbc90=await getSpotifyToken();let _0x12e9f3=await a0_0x4b2419({'method':_0x46e5f6(0x1b9),'url':'https://api.spotify.com/v1/artists/'+_0x2b025d+'/top-tracks?market=US','headers':{'Authorization':_0x46e5f6(0x1c6)+_0x4cbc90}});const _0x43cc04=_0x12e9f3[_0x46e5f6(0x197)],_0x5840c1=_0x43cc04[_0x46e5f6(0x1c5)][_0x46e5f6(0x1b5)](_0x19f27b=>({'name':_0x19f27b[_0x46e5f6(0x1b2)],'artist':_0x19f27b[_0x46e5f6(0x171)][_0x46e5f6(0x1b5)](_0x4c7192=>_0x4c7192[_0x46e5f6(0x1b2)])[_0x46e5f6(0x17f)](',\x20'),'album':_0x46e5f6(0x1b7),'url':_0x19f27b['external_urls'][_0x46e5f6(0x181)],'thumbnail':_0x19f27b['album'][_0x46e5f6(0x17a)][0x0]?.[_0x46e5f6(0x1c9)]||''}));return{'album':{'name':_0x46e5f6(0x1b7)},'tracks':_0x5840c1};}function a0_0xc6bb(_0x681c5,_0x26ef49){const _0x523737=a0_0x5237();return a0_0xc6bb=function(_0xc6bb18,_0x3d34f7){_0xc6bb18=_0xc6bb18-0x16e;let _0x3cdc51=_0x523737[_0xc6bb18];return _0x3cdc51;},a0_0xc6bb(_0x681c5,_0x26ef49);}async function spotifyTrack(_0x5b1cac){const _0x3c560d=a0_0x526f45;let _0x3e4d06;try{const _0x652840=_0x5b1cac[_0x3c560d(0x1b4)]('/');_0x3e4d06=_0x652840[_0x652840[_0x3c560d(0x1cd)](_0x3c560d(0x175))+0x1][_0x3c560d(0x1b4)]('?')[0x0];}catch(_0x154dd9){throw new Error(_0x3c560d(0x1ba));}const _0xcf6053=await getSpotifyToken();let _0x23d5f5=await a0_0x4b2419({'method':_0x3c560d(0x1b9),'url':_0x3c560d(0x19c)+_0x3e4d06,'headers':{'Authorization':_0x3c560d(0x1c6)+_0xcf6053}});const _0xb442b1=_0x23d5f5[_0x3c560d(0x197)];return{'name':_0xb442b1[_0x3c560d(0x1b2)],'artist':_0xb442b1['artists']['map'](_0x11c426=>_0x11c426[_0x3c560d(0x1b2)])['join'](',\x20'),'album':_0xb442b1['album'][_0x3c560d(0x1b2)],'url':_0xb442b1[_0x3c560d(0x17e)][_0x3c560d(0x181)],'thumbnail':_0xb442b1['album'][_0x3c560d(0x17a)][0x0]?.['url']||''};}function timestamp(_0x2255ca){const _0x10bc83=a0_0x526f45,_0x28d078=Math[_0x10bc83(0x1ae)](_0x2255ca/0xea60),_0x2bbcf7=Math[_0x10bc83(0x1ae)](_0x2255ca%0xea60/0x3e8);return _0x28d078+':'+(_0x2bbcf7<0xa?'0':'')+_0x2bbcf7;}