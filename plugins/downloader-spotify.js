const a0_0x4e7c8c=a0_0x3647;(function(_0x9392fe,_0x307624){const _0x3571b9=a0_0x3647,_0x6a7c2a=_0x9392fe();while(!![]){try{const _0x30878a=parseInt(_0x3571b9(0x79))/0x1+parseInt(_0x3571b9(0xba))/0x2*(-parseInt(_0x3571b9(0xcd))/0x3)+parseInt(_0x3571b9(0x85))/0x4+parseInt(_0x3571b9(0xa6))/0x5*(parseInt(_0x3571b9(0xa8))/0x6)+parseInt(_0x3571b9(0xbe))/0x7*(-parseInt(_0x3571b9(0x75))/0x8)+-parseInt(_0x3571b9(0xd0))/0x9*(-parseInt(_0x3571b9(0xae))/0xa)+-parseInt(_0x3571b9(0xad))/0xb*(parseInt(_0x3571b9(0x7c))/0xc);if(_0x30878a===_0x307624)break;else _0x6a7c2a['push'](_0x6a7c2a['shift']());}catch(_0x58d088){_0x6a7c2a['push'](_0x6a7c2a['shift']());}}}(a0_0x1bdd,0x8c69a));import a0_0x3fc342 from'axios';import a0_0x1259af from'node-fetch';let spotifyTokenCache={'token':null,'expiresAt':0x0};async function getSpotifyToken(){const _0x5edc89=a0_0x3647,_0x3427ae=Date[_0x5edc89(0x91)]();if(spotifyTokenCache[_0x5edc89(0x71)]&&spotifyTokenCache['expiresAt']>_0x3427ae)return spotifyTokenCache[_0x5edc89(0x71)];const _0x18bf9b=await a0_0x3fc342({'method':_0x5edc89(0x96),'url':'https://accounts.spotify.com/api/token','headers':{'Content-Type':_0x5edc89(0xbb),'Authorization':_0x5edc89(0xaa)+Buffer['from']('acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009')[_0x5edc89(0xcb)]('base64')},'data':_0x5edc89(0xc7)}),_0x14a1e6=_0x18bf9b['data'][_0x5edc89(0xc5)];return spotifyTokenCache[_0x5edc89(0x71)]=_0x14a1e6,spotifyTokenCache[_0x5edc89(0x78)]=_0x3427ae+_0x18bf9b['data'][_0x5edc89(0x8b)]*0x3e8-0xea60,_0x14a1e6;}async function getBuffer(_0x5ee9d1){const _0x58b29e=a0_0x3647,_0x173c48=await a0_0x1259af(_0x5ee9d1);if(!_0x173c48['ok'])throw new Error(_0x58b29e(0x9e)+_0x173c48[_0x58b29e(0x7e)]);return await _0x173c48[_0x58b29e(0xac)]();}function formatExtractionMessage(_0x269295,_0x370711,_0x3e6255){const _0x4c3e25=a0_0x3647;return'‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\x0a‚öîÔ∏è\x20Extracci√≥n\x20en\x20Curso\x0aüåü\x20Objetivo:\x20'+_0x269295+_0x4c3e25(0xa9)+_0x370711+_0x4c3e25(0xa2)+_0x3e6255+'\x0a‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ';}function a0_0x3647(_0x583e17,_0x2147d9){const _0x1bddcf=a0_0x1bdd();return a0_0x3647=function(_0x3647d7,_0x324288){_0x3647d7=_0x3647d7-0x6d;let _0xfa62f7=_0x1bddcf[_0x3647d7];return _0xfa62f7;},a0_0x3647(_0x583e17,_0x2147d9);}function a0_0x1bdd(){const _0x7f613b=['get','toLowerCase','length','\x0aüí†\x20Progreso:\x20','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20de\x20la\x20playlist.','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±\x2070%','‚öîÔ∏è\x20Error:\x20No\x20ingresaste\x20ninguna\x20b√∫squeda\x20o\x20enlace.\x0a\x0aEjemplo:\x0a‚Ä¢\x20','905855sYdlGI','https://api.spotify.com/v1/artists/','24veYyhj','\x0aüõ†Ô∏è\x20Intento:\x20','Basic\x20','data','buffer','7886461eLCEMv','172090jjNVUW','\x20(1/1)','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±\x2060%','play','‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%','https://api.spotify.com/v1/search?q=','thumbnail','then','\x20https://open.spotify.com/artist/...','react','Bearer\x20','name','108kwufyR','application/x-www-form-urlencoded','push','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±\x2080%','939883FRhAGu','open.spotify.com/playlist','join','/top-tracks?market=US','images','floor','&type=track','access_token','duration_ms','grant_type=client_credentials','https://api.spotify.com/v1/playlists/','album','tracks','toString','tags','19377ROxGYp','\x20(Reintento)','message','315KMYaWA','url','map','Artista:\x20','albums','track','token','indexOf','Top\x20Tracks','√Ålbum:\x20','24NOmjbA','chat','artist','expiresAt','502891fQkspL','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±\x2090%','audio/mpeg','24iqPtmy','open.spotify.com/album','statusText','includes','https://api.spotify.com/v1/albums/','error','split','.mp3','music','3722940sQHfxf','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20el\x20√°lbum.','key','title','command','open.spotify.com/artist','expires_in','https://apis-starlights-team.koyeb.app/starlight/spotifydl?url=','&type=album','spotify','items','\x20https://open.spotify.com/album/...\x0a‚Ä¢\x20','now','‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2030%','\x20https://open.spotify.com/track/...\x0a‚Ä¢\x20','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20artista.','sendMessage','post','json','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20¬°Descargado!','spotify.com/track','playlist','external_urls','artists','https://api.spotify.com/v1/tracks/','Error\x20al\x20obtener\x20la\x20imagen:\x20'];a0_0x1bdd=function(){return _0x7f613b;};return a0_0x1bdd();}async function progressWithSync(_0x182c0a,_0x3a5c27,_0x345b20,_0x33d0b4,{objective:_0xb3daef,attempt:_0x1edfe7,failedTrack:failedTrack=null}){const _0xca1fdc=a0_0x3647;let _0xb5a1be=![];const _0x445f7e=[_0xca1fdc(0xb2),'‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2010%','‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2020%',_0xca1fdc(0x92),'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2040%','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2050%',_0xca1fdc(0xb0),_0xca1fdc(0xa4),_0xca1fdc(0xbd),_0xca1fdc(0x7a)];let _0x21a16b=0x0;const _0x36d2c1=0x12c,_0x2aedba=setInterval(async()=>{const _0x24d0fe=_0xca1fdc;if(_0x21a16b<_0x445f7e['length']){const _0x123b7e=formatExtractionMessage(_0xb3daef,_0x1edfe7,_0x445f7e[_0x21a16b]);await _0x182c0a[_0x24d0fe(0x95)](_0x3a5c27[_0x24d0fe(0x76)],{'text':_0x123b7e,'edit':_0x345b20[_0x24d0fe(0x87)]}),_0x21a16b++;}},_0x36d2c1);try{await _0x33d0b4;}catch(_0x548ff4){_0xb5a1be=!![];}clearInterval(_0x2aedba);const _0x4fabdb=_0xb5a1be&&failedTrack?'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20Fall√≥\x20la\x20extracci√≥n\x20de:\x20'+failedTrack:_0xca1fdc(0x98),_0x1b072c=formatExtractionMessage(_0xb3daef,_0x1edfe7,_0x4fabdb);await _0x182c0a[_0xca1fdc(0x95)](_0x3a5c27[_0xca1fdc(0x76)],{'text':_0x1b072c,'edit':_0x345b20[_0xca1fdc(0x87)]});}async function downloadWithRetries(_0x127da4,_0x5288f0,_0x5aebfb,_0x424bf9,_0x5de792){const _0xd68ff4=a0_0x3647;let _0x3624e3=null;for(let _0x4e295b=0x1;_0x4e295b<=0x3;_0x4e295b++){try{const _0x20cb8f=a0_0x1259af(_0xd68ff4(0x8c)+_0x127da4['url'])[_0xd68ff4(0xb5)](_0x59a599=>_0x59a599[_0xd68ff4(0x97)]());await progressWithSync(_0x5288f0,_0x5aebfb,_0x424bf9,_0x20cb8f,{'objective':_0x5de792,'attempt':_0x4e295b,'failedTrack':_0x4e295b===0x3?_0x127da4[_0xd68ff4(0xb9)]:null}),_0x3624e3=await _0x20cb8f;if(!_0x3624e3||!_0x3624e3['music'])throw new Error('No\x20se\x20pudo\x20obtener\x20el\x20enlace\x20de\x20descarga\x20para\x20'+_0x127da4[_0xd68ff4(0xb9)]);return _0x3624e3;}catch(_0x4ca867){if(_0x4e295b===0x3)return null;await new Promise(_0x25fb79=>setTimeout(_0x25fb79,0x3e8));}}return null;}let handler=async(_0x294ffc,{conn:_0x1d2bd4,text:_0x5c0151,usedPrefix:_0x217ef0,command:_0x4523a7})=>{const _0x123856=a0_0x3647;if(!_0x5c0151)throw _0x123856(0xa5)+(_0x217ef0+_0x4523a7)+'\x20Bellyache\x0a‚Ä¢\x20'+(_0x217ef0+_0x4523a7)+_0x123856(0x93)+(_0x217ef0+_0x4523a7)+_0x123856(0x90)+(_0x217ef0+_0x4523a7)+'\x20https://open.spotify.com/playlist/...\x0a‚Ä¢\x20'+(_0x217ef0+_0x4523a7)+_0x123856(0xb6);try{await _0x294ffc[_0x123856(0xb7)]('‚è≥');let _0x692284=![],_0x4b2a4d=![],_0x559c15=![],_0x263490;if(_0x5c0151[_0x123856(0x7f)](_0x123856(0x7d))){_0x692284=!![],_0x263490=await spotifyAlbum(_0x5c0151);if(!_0x263490?.[_0x123856(0xca)]?.[_0x123856(0xa1)])throw _0x123856(0x86);}else{if(_0x5c0151[_0x123856(0x7f)](_0x123856(0xbf))){_0x4b2a4d=!![],_0x263490=await spotifyPlaylist(_0x5c0151);if(!_0x263490?.[_0x123856(0xca)]?.[_0x123856(0xa1)])throw'‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20la\x20playlist.';}else{if(_0x5c0151[_0x123856(0x7f)](_0x123856(0x8a))||_0x5c0151[_0x123856(0x7f)]('spotify.com/artist')){_0x692284=!![],_0x559c15=!![],_0x263490=await spotifyArtist(_0x5c0151);if(!_0x263490?.[_0x123856(0xca)]?.['length'])throw'‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20para\x20el\x20artista.';}else{if(_0x5c0151['includes'](_0x123856(0x99)))_0x263490={'tracks':[await spotifyTrack(_0x5c0151)]};else{if(_0x5c0151[_0x123856(0xa0)]()[_0x123856(0x7f)]('album')){_0x692284=!![],_0x263490=await spotifyAlbumSearch(_0x5c0151);if(!_0x263490?.['tracks']?.['length'])throw _0x123856(0x86);}else{const _0x3d0e90=await spotifyxv(_0x5c0151);if(!_0x3d0e90[_0x123856(0xa1)]||!_0x3d0e90[0x0][_0x123856(0xd1)])throw'‚ùå\x20*Error:*\x20No\x20se\x20encontraron\x20resultados.';_0x263490={'tracks':[_0x3d0e90[0x0]]};}}}}}if(_0x692284||_0x4b2a4d){let _0x3d72cf=[];for(let _0x4f1411=0x0;_0x4f1411<_0x263490[_0x123856(0xca)]['length'];_0x4f1411++){const _0x4551d5=_0x263490['tracks'][_0x4f1411],_0x318344=_0x4551d5['name']+'\x20('+(_0x4f1411+0x1)+'/'+_0x263490[_0x123856(0xca)][_0x123856(0xa1)]+')',_0x2eb493=formatExtractionMessage(_0x318344,0x1,'‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%'),_0x2434c0=await _0x1d2bd4[_0x123856(0x95)](_0x294ffc[_0x123856(0x76)],{'text':_0x2eb493}),_0x3e5f1d=await downloadWithRetries(_0x4551d5,_0x1d2bd4,_0x294ffc,_0x2434c0,_0x318344);_0x3e5f1d?(await _0x1d2bd4[_0x123856(0x95)](_0x294ffc[_0x123856(0x76)],{'delete':_0x2434c0[_0x123856(0x87)]}),await _0x1d2bd4[_0x123856(0x95)](_0x294ffc['chat'],{'audio':{'url':_0x3e5f1d[_0x123856(0x84)]},'fileName':_0x3e5f1d[_0x123856(0x88)]+_0x123856(0x83),'mimetype':_0x123856(0x7b),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x3e5f1d[_0x123856(0x88)],'body':_0x123856(0x6e)+_0x3e5f1d[_0x123856(0x77)],'description':_0x123856(0x74)+_0x3e5f1d[_0x123856(0xc9)],'thumbnailUrl':_0x3e5f1d[_0x123856(0xb4)]}}}),await new Promise(_0x407f35=>setTimeout(_0x407f35,0x7d0))):_0x3d72cf['push'](_0x4551d5);}if(_0x3d72cf['length']>0x0){let _0xf49a35=_0x3d72cf[_0x123856(0x6d)](_0x5a8d65=>_0x5a8d65['name'])['join']('\x0a');await _0x1d2bd4['sendMessage'](_0x294ffc[_0x123856(0x76)],{'text':'Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a'+_0xf49a35});let _0x401302=[];for(let _0x11e6c3 of _0x3d72cf){const _0x501105=_0x11e6c3['name']+_0x123856(0xce),_0x2ca985=formatExtractionMessage(_0x501105,0x1,_0x123856(0xb2)),_0x42c499=await _0x1d2bd4['sendMessage'](_0x294ffc[_0x123856(0x76)],{'text':_0x2ca985}),_0x335b18=await downloadWithRetries(_0x11e6c3,_0x1d2bd4,_0x294ffc,_0x42c499,_0x501105);_0x335b18?(await _0x1d2bd4[_0x123856(0x95)](_0x294ffc['chat'],{'delete':_0x42c499[_0x123856(0x87)]}),await _0x1d2bd4['sendMessage'](_0x294ffc[_0x123856(0x76)],{'audio':{'url':_0x335b18['music']},'fileName':_0x335b18[_0x123856(0x88)]+'.mp3','mimetype':'audio/mpeg','contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x335b18[_0x123856(0x88)],'body':_0x123856(0x6e)+_0x335b18['artist'],'description':_0x123856(0x74)+_0x335b18[_0x123856(0xc9)],'thumbnailUrl':_0x335b18[_0x123856(0xb4)]}}}),await new Promise(_0x486b32=>setTimeout(_0x486b32,0x7d0))):_0x401302[_0x123856(0xbc)](_0x11e6c3);}if(_0x401302[_0x123856(0xa1)]>0x0){let _0x45dc3f=_0x401302['map'](_0x22e6e1=>_0x22e6e1['name'])[_0x123856(0xc0)]('\x0a');await _0x1d2bd4[_0x123856(0x95)](_0x294ffc[_0x123856(0x76)],{'text':'No\x20se\x20pudieron\x20extraer\x20las\x20siguientes\x20sombras:\x0a'+_0x45dc3f});}}}else{const _0x3bf7df=_0x263490[_0x123856(0xca)][0x0],_0x133721=_0x3bf7df['name']+_0x123856(0xaf),_0x235fb4=formatExtractionMessage(_0x133721,0x1,'‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%'),_0x1f6c24=await _0x1d2bd4[_0x123856(0x95)](_0x294ffc[_0x123856(0x76)],{'text':_0x235fb4}),_0x289ba5=await downloadWithRetries(_0x3bf7df,_0x1d2bd4,_0x294ffc,_0x1f6c24,_0x133721);if(!_0x289ba5){await _0x1d2bd4[_0x123856(0x95)](_0x294ffc[_0x123856(0x76)],{'text':'Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a'+_0x3bf7df[_0x123856(0xb9)]});const _0x373905=formatExtractionMessage(_0x133721+_0x123856(0xce),0x1,_0x123856(0xb2)),_0x4c5fed=await _0x1d2bd4[_0x123856(0x95)](_0x294ffc[_0x123856(0x76)],{'text':_0x373905}),_0xd3a27c=await downloadWithRetries(_0x3bf7df,_0x1d2bd4,_0x294ffc,_0x4c5fed,_0x133721+_0x123856(0xce));!_0xd3a27c?await _0x1d2bd4[_0x123856(0x95)](_0x294ffc[_0x123856(0x76)],{'text':'No\x20se\x20pudo\x20extraer\x20la\x20sombra\x20de:\x20'+_0x3bf7df[_0x123856(0xb9)]}):(await _0x1d2bd4[_0x123856(0x95)](_0x294ffc['chat'],{'delete':_0x4c5fed['key']}),await _0x1d2bd4[_0x123856(0x95)](_0x294ffc['chat'],{'audio':{'url':_0xd3a27c['music']},'fileName':_0xd3a27c[_0x123856(0x88)]+_0x123856(0x83),'mimetype':_0x123856(0x7b),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0xd3a27c[_0x123856(0x88)],'body':_0x123856(0x6e)+_0xd3a27c[_0x123856(0x77)],'description':_0x123856(0x74)+_0xd3a27c['album'],'thumbnailUrl':_0xd3a27c['thumbnail']}}}),await new Promise(_0x491dd8=>setTimeout(_0x491dd8,0x7d0)));}else await _0x1d2bd4[_0x123856(0x95)](_0x294ffc['chat'],{'delete':_0x1f6c24[_0x123856(0x87)]}),await _0x1d2bd4['sendMessage'](_0x294ffc[_0x123856(0x76)],{'audio':{'url':_0x289ba5['music']},'fileName':_0x289ba5[_0x123856(0x88)]+_0x123856(0x83),'mimetype':_0x123856(0x7b),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x289ba5[_0x123856(0x88)],'body':_0x123856(0x6e)+_0x289ba5[_0x123856(0x77)],'description':_0x123856(0x74)+_0x289ba5[_0x123856(0xc9)],'thumbnailUrl':_0x289ba5[_0x123856(0xb4)]}}}),await _0x294ffc[_0x123856(0xb7)]('‚úÖ');}}catch(_0x1698f1){await _0x294ffc[_0x123856(0xb7)]('‚ùå'),await _0x294ffc['reply']('‚ùå\x20*Error:*\x20'+(_0x1698f1[_0x123856(0xcf)]||_0x1698f1)),console[_0x123856(0x81)](_0x1698f1);}};handler['help']=['spotify',a0_0x4e7c8c(0xb1)],handler[a0_0x4e7c8c(0xcc)]=['downloader'],handler[a0_0x4e7c8c(0x89)]=[a0_0x4e7c8c(0x8e),'play'],handler['group']=![];export default handler;async function spotifyxv(_0x301340){const _0x2563d5=a0_0x4e7c8c,_0x479232=await getSpotifyToken();try{let _0x106dbd=await a0_0x3fc342({'method':_0x2563d5(0x9f),'url':_0x2563d5(0xb3)+encodeURIComponent(_0x301340)+_0x2563d5(0xc4),'headers':{'Authorization':_0x2563d5(0xb8)+_0x479232}});const _0x2ee476=_0x106dbd['data'][_0x2563d5(0xca)][_0x2563d5(0x8f)];return _0x2ee476[_0x2563d5(0x6d)](_0x836fa2=>({'name':_0x836fa2[_0x2563d5(0xb9)],'artist':_0x836fa2[_0x2563d5(0x9c)]['map'](_0x4d1ce7=>_0x4d1ce7[_0x2563d5(0xb9)])[_0x2563d5(0xc0)](',\x20'),'album':_0x836fa2[_0x2563d5(0xc9)][_0x2563d5(0xb9)],'duration':timestamp(_0x836fa2[_0x2563d5(0xc6)]),'url':_0x836fa2[_0x2563d5(0x9b)][_0x2563d5(0x8e)],'thumbnail':_0x836fa2[_0x2563d5(0xc9)][_0x2563d5(0xc2)][0x0]?.[_0x2563d5(0xd1)]||''}));}catch(_0x2a49c0){return console['error'](_0x2a49c0),[];}}async function spotifyAlbum(_0x47a756){const _0x1f73bb=a0_0x4e7c8c;let _0x1113b1;try{const _0x5dea0f=_0x47a756['split']('/');_0x1113b1=_0x5dea0f[_0x5dea0f['indexOf'](_0x1f73bb(0xc9))+0x1][_0x1f73bb(0x82)]('?')[0x0];}catch(_0x19c1cb){throw new Error('No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20√°lbum.');}const _0x1ce042=await getSpotifyToken();let _0x249d14=await a0_0x3fc342({'method':'get','url':_0x1f73bb(0x80)+_0x1113b1,'headers':{'Authorization':_0x1f73bb(0xb8)+_0x1ce042}});const _0x291620=_0x249d14[_0x1f73bb(0xab)],_0x178356=_0x291620[_0x1f73bb(0xca)]['items'][_0x1f73bb(0x6d)](_0x4f7e46=>({'name':_0x4f7e46[_0x1f73bb(0xb9)],'artist':_0x4f7e46[_0x1f73bb(0x9c)][_0x1f73bb(0x6d)](_0x5bf137=>_0x5bf137[_0x1f73bb(0xb9)])[_0x1f73bb(0xc0)](',\x20'),'album':_0x291620[_0x1f73bb(0xb9)],'url':_0x4f7e46[_0x1f73bb(0x9b)]['spotify'],'thumbnail':_0x291620['images'][0x0]?.[_0x1f73bb(0xd1)]||''}));return{'album':_0x291620,'tracks':_0x178356};}async function spotifyAlbumSearch(_0x1f92cc){const _0x57d1d1=a0_0x4e7c8c,_0x2f8273=await getSpotifyToken();let _0x8c222a=await a0_0x3fc342({'method':_0x57d1d1(0x9f),'url':'https://api.spotify.com/v1/search?q='+encodeURIComponent(_0x1f92cc)+_0x57d1d1(0x8d),'headers':{'Authorization':'Bearer\x20'+_0x2f8273}});const _0x36c9a1=_0x8c222a[_0x57d1d1(0xab)][_0x57d1d1(0x6f)]['items'];if(!_0x36c9a1['length'])return null;const _0xc3af43=_0x36c9a1[0x0]['id'];let _0x7e09cf=await a0_0x3fc342({'method':_0x57d1d1(0x9f),'url':_0x57d1d1(0x80)+_0xc3af43,'headers':{'Authorization':_0x57d1d1(0xb8)+_0x2f8273}});const _0x1217bf=_0x7e09cf[_0x57d1d1(0xab)],_0x39ca8b=_0x1217bf[_0x57d1d1(0xca)][_0x57d1d1(0x8f)][_0x57d1d1(0x6d)](_0xc57892=>({'name':_0xc57892[_0x57d1d1(0xb9)],'artist':_0xc57892[_0x57d1d1(0x9c)]['map'](_0x166856=>_0x166856[_0x57d1d1(0xb9)])['join'](',\x20'),'album':_0x1217bf[_0x57d1d1(0xb9)],'url':_0xc57892['external_urls']['spotify'],'thumbnail':_0x1217bf[_0x57d1d1(0xc2)][0x0]?.[_0x57d1d1(0xd1)]||''}));return{'album':_0x1217bf,'tracks':_0x39ca8b};}async function spotifyPlaylist(_0x28b4b0){const _0x35b90c=a0_0x4e7c8c;let _0x103bff;try{const _0x3b0b64=_0x28b4b0[_0x35b90c(0x82)]('/');_0x103bff=_0x3b0b64[_0x3b0b64['indexOf'](_0x35b90c(0x9a))+0x1]['split']('?')[0x0];}catch(_0x4ea3ac){throw new Error(_0x35b90c(0xa3));}const _0x27fe60=await getSpotifyToken();let _0x47196a=await a0_0x3fc342({'method':_0x35b90c(0x9f),'url':_0x35b90c(0xc8)+_0x103bff,'headers':{'Authorization':_0x35b90c(0xb8)+_0x27fe60}});const _0x256a72=_0x47196a[_0x35b90c(0xab)],_0x4a3681=_0x256a72[_0x35b90c(0xca)][_0x35b90c(0x8f)]['map'](_0x20f3ef=>{const _0x5257ae=_0x35b90c,_0x411186=_0x20f3ef[_0x5257ae(0x70)];return{'name':_0x411186[_0x5257ae(0xb9)],'artist':_0x411186['artists'][_0x5257ae(0x6d)](_0x33d867=>_0x33d867[_0x5257ae(0xb9)])[_0x5257ae(0xc0)](',\x20'),'album':_0x256a72[_0x5257ae(0xb9)],'url':_0x411186['external_urls']['spotify'],'thumbnail':_0x411186[_0x5257ae(0xc9)][_0x5257ae(0xc2)][0x0]?.[_0x5257ae(0xd1)]||''};});return{'album':{'name':_0x256a72[_0x35b90c(0xb9)]},'tracks':_0x4a3681};}async function spotifyArtist(_0x5921bb){const _0x3c2b90=a0_0x4e7c8c;let _0x587725;try{const _0x196d75=_0x5921bb[_0x3c2b90(0x82)]('/');_0x587725=_0x196d75[_0x196d75[_0x3c2b90(0x72)](_0x3c2b90(0x77))+0x1][_0x3c2b90(0x82)]('?')[0x0];}catch(_0x5774ef){throw new Error(_0x3c2b90(0x94));}const _0x127b9a=await getSpotifyToken();let _0x1fa4f4=await a0_0x3fc342({'method':_0x3c2b90(0x9f),'url':_0x3c2b90(0xa7)+_0x587725+_0x3c2b90(0xc1),'headers':{'Authorization':'Bearer\x20'+_0x127b9a}});const _0x77fe49=_0x1fa4f4[_0x3c2b90(0xab)],_0x362b76=_0x77fe49['tracks'][_0x3c2b90(0x6d)](_0x42fbfe=>({'name':_0x42fbfe['name'],'artist':_0x42fbfe[_0x3c2b90(0x9c)]['map'](_0x3c0ea6=>_0x3c0ea6[_0x3c2b90(0xb9)])[_0x3c2b90(0xc0)](',\x20'),'album':_0x3c2b90(0x73),'url':_0x42fbfe['external_urls'][_0x3c2b90(0x8e)],'thumbnail':_0x42fbfe['album'][_0x3c2b90(0xc2)][0x0]?.['url']||''}));return{'album':{'name':_0x3c2b90(0x73)},'tracks':_0x362b76};}async function spotifyTrack(_0x1ae5cb){const _0x2bff5b=a0_0x4e7c8c;let _0x725e7d;try{const _0x4e220a=_0x1ae5cb[_0x2bff5b(0x82)]('/');_0x725e7d=_0x4e220a[_0x4e220a[_0x2bff5b(0x72)](_0x2bff5b(0x70))+0x1][_0x2bff5b(0x82)]('?')[0x0];}catch(_0xeaa688){throw new Error('No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20track.');}const _0x23dd03=await getSpotifyToken();let _0x1c72f6=await a0_0x3fc342({'method':_0x2bff5b(0x9f),'url':_0x2bff5b(0x9d)+_0x725e7d,'headers':{'Authorization':_0x2bff5b(0xb8)+_0x23dd03}});const _0x1d8151=_0x1c72f6[_0x2bff5b(0xab)];return{'name':_0x1d8151[_0x2bff5b(0xb9)],'artist':_0x1d8151[_0x2bff5b(0x9c)][_0x2bff5b(0x6d)](_0x355ac4=>_0x355ac4[_0x2bff5b(0xb9)])[_0x2bff5b(0xc0)](',\x20'),'album':_0x1d8151['album']['name'],'url':_0x1d8151[_0x2bff5b(0x9b)]['spotify'],'thumbnail':_0x1d8151[_0x2bff5b(0xc9)][_0x2bff5b(0xc2)][0x0]?.[_0x2bff5b(0xd1)]||''};}function timestamp(_0x5d1a1f){const _0x5e0a99=a0_0x4e7c8c,_0x477e5a=Math[_0x5e0a99(0xc3)](_0x5d1a1f/0xea60),_0x12a59b=Math['floor'](_0x5d1a1f%0xea60/0x3e8);return _0x477e5a+':'+(_0x12a59b<0xa?'0':'')+_0x12a59b;}