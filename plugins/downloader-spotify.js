const a0_0x3944b0=a0_0x5ba7;(function(_0x184f50,_0x292572){const _0x44ed65=a0_0x5ba7,_0xaa0d20=_0x184f50();while(!![]){try{const _0x7f9663=-parseInt(_0x44ed65(0x171))/0x1+-parseInt(_0x44ed65(0x17e))/0x2+-parseInt(_0x44ed65(0x188))/0x3+-parseInt(_0x44ed65(0x1b7))/0x4+-parseInt(_0x44ed65(0x192))/0x5*(-parseInt(_0x44ed65(0x1be))/0x6)+parseInt(_0x44ed65(0x193))/0x7*(parseInt(_0x44ed65(0x1c6))/0x8)+-parseInt(_0x44ed65(0x1c2))/0x9*(-parseInt(_0x44ed65(0x179))/0xa);if(_0x7f9663===_0x292572)break;else _0xaa0d20['push'](_0xaa0d20['shift']());}catch(_0x46465a){_0xaa0d20['push'](_0xaa0d20['shift']());}}}(a0_0x3d4c,0x70fa2));import a0_0x19bd99 from'axios';import a0_0x1fc442 from'node-fetch';let spotifyTokenCache={'token':null,'expiresAt':0x0};async function getSpotifyToken(){const _0x5bd3ab=a0_0x5ba7,_0x290a27=Date[_0x5bd3ab(0x16e)]();if(spotifyTokenCache[_0x5bd3ab(0x16a)]&&spotifyTokenCache[_0x5bd3ab(0x17d)]>_0x290a27)return spotifyTokenCache[_0x5bd3ab(0x16a)];const _0x1b954e=await a0_0x19bd99({'method':_0x5bd3ab(0x185),'url':_0x5bd3ab(0x163),'headers':{'Content-Type':_0x5bd3ab(0x1b8),'Authorization':_0x5bd3ab(0x1c1)+Buffer[_0x5bd3ab(0x1c7)](_0x5bd3ab(0x1a0))[_0x5bd3ab(0x170)](_0x5bd3ab(0x1c3))},'data':_0x5bd3ab(0x1ac)}),_0x2f8463=_0x1b954e[_0x5bd3ab(0x167)][_0x5bd3ab(0x17c)];return spotifyTokenCache['token']=_0x2f8463,spotifyTokenCache[_0x5bd3ab(0x17d)]=_0x290a27+_0x1b954e[_0x5bd3ab(0x167)][_0x5bd3ab(0x1a9)]*0x3e8-0xea60,_0x2f8463;}async function getBuffer(_0x27f1a2){const _0x239e76=a0_0x5ba7,_0x38d8aa=await a0_0x1fc442(_0x27f1a2);if(!_0x38d8aa['ok'])throw new Error(_0x239e76(0x19e)+_0x38d8aa[_0x239e76(0x168)]);return await _0x38d8aa['buffer']();}function formatExtractionMessage(_0x29fda0,_0x14e7de,_0x4f8883){const _0x4517bd=a0_0x5ba7;return _0x4517bd(0x1bb)+_0x29fda0+'\x0aüõ†Ô∏è\x20Intento:\x20'+_0x14e7de+_0x4517bd(0x19d)+_0x4f8883+_0x4517bd(0x1a6);}async function progressWithSync(_0x331945,_0x3fdc36,_0x231e8b,_0x51585d,{objective:_0xfab1f6,attempt:_0x1c2879,failedTrack:failedTrack=null}){const _0x3fa469=a0_0x5ba7;let _0x304a75=![];const _0x59eecb=[_0x3fa469(0x186),'‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2010%',_0x3fa469(0x1a1),_0x3fa469(0x194),_0x3fa469(0x1bd),_0x3fa469(0x19f),_0x3fa469(0x182),_0x3fa469(0x1b0),'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±\x2080%',_0x3fa469(0x17f)];let _0x28e673=0x0;const _0x3918b3=0x12c,_0xa4b643=setInterval(async()=>{const _0x3be53d=_0x3fa469;if(_0x28e673<_0x59eecb['length']){const _0x4511fd=formatExtractionMessage(_0xfab1f6,_0x1c2879,_0x59eecb[_0x28e673]);await _0x331945[_0x3be53d(0x17a)](_0x3fdc36[_0x3be53d(0x161)],{'text':_0x4511fd,'edit':_0x231e8b[_0x3be53d(0x190)]}),_0x28e673++;}},_0x3918b3);try{await _0x51585d;}catch(_0x4633d2){_0x304a75=!![];}clearInterval(_0xa4b643);const _0x16a393=_0x304a75&&failedTrack?_0x3fa469(0x172)+failedTrack:_0x3fa469(0x1c8),_0x43d41f=formatExtractionMessage(_0xfab1f6,_0x1c2879,_0x16a393);await _0x331945[_0x3fa469(0x17a)](_0x3fdc36['chat'],{'text':_0x43d41f,'edit':_0x231e8b['key']});}async function downloadWithRetries(_0x5b1a11,_0x1bc269,_0x2ba8b2,_0xc46d43,_0x75cc9f){const _0x336edc=a0_0x5ba7;let _0x1636c=null;for(let _0x2b83cc=0x1;_0x2b83cc<=0x3;_0x2b83cc++){try{const _0x2a911f=a0_0x1fc442(_0x336edc(0x18d)+_0x5b1a11[_0x336edc(0x1c0)])[_0x336edc(0x169)](_0x3f8a47=>_0x3f8a47['json']());await progressWithSync(_0x1bc269,_0x2ba8b2,_0xc46d43,_0x2a911f,{'objective':_0x75cc9f,'attempt':_0x2b83cc,'failedTrack':_0x2b83cc===0x3?_0x5b1a11[_0x336edc(0x1a5)]:null}),_0x1636c=await _0x2a911f;if(!_0x1636c||!_0x1636c[_0x336edc(0x1b5)])throw new Error(_0x336edc(0x197)+_0x5b1a11[_0x336edc(0x1a5)]);return _0x1636c;}catch(_0x12a8e3){if(_0x2b83cc===0x3)return null;await new Promise(_0x76a979=>setTimeout(_0x76a979,0x3e8));}}return null;}let handler=async(_0x1e29b2,{conn:_0x4e6863,text:_0x5d7c23,usedPrefix:_0x5b937e,command:_0x2074f6})=>{const _0x4a5848=a0_0x5ba7;if(!_0x5d7c23)throw _0x4a5848(0x164)+(_0x5b937e+_0x2074f6)+'\x20Bellyache\x0a‚Ä¢\x20'+(_0x5b937e+_0x2074f6)+'\x20https://open.spotify.com/track/...\x0a‚Ä¢\x20'+(_0x5b937e+_0x2074f6)+'\x20https://open.spotify.com/album/...\x0a‚Ä¢\x20'+(_0x5b937e+_0x2074f6)+_0x4a5848(0x1b2)+(_0x5b937e+_0x2074f6)+_0x4a5848(0x160);try{await _0x1e29b2['react']('‚è≥');let _0x267471=![],_0x348c1a=![],_0x2ed38a=![],_0xcead89;if(_0x5d7c23[_0x4a5848(0x177)](_0x4a5848(0x16c))){_0x267471=!![],_0xcead89=await spotifyAlbum(_0x5d7c23);if(!_0xcead89?.[_0x4a5848(0x187)]?.['length'])throw'‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20el\x20√°lbum.';}else{if(_0x5d7c23[_0x4a5848(0x177)](_0x4a5848(0x1b1))){_0x348c1a=!![],_0xcead89=await spotifyPlaylist(_0x5d7c23);if(!_0xcead89?.['tracks']?.['length'])throw _0x4a5848(0x18f);}else{if(_0x5d7c23[_0x4a5848(0x177)](_0x4a5848(0x1ab))||_0x5d7c23[_0x4a5848(0x177)](_0x4a5848(0x1a8))){_0x267471=!![],_0x2ed38a=!![],_0xcead89=await spotifyArtist(_0x5d7c23);if(!_0xcead89?.['tracks']?.[_0x4a5848(0x18e)])throw _0x4a5848(0x196);}else{if(_0x5d7c23[_0x4a5848(0x177)](_0x4a5848(0x1c4)))_0xcead89={'tracks':[await spotifyTrack(_0x5d7c23)]};else{if(_0x5d7c23['toLowerCase']()[_0x4a5848(0x177)](_0x4a5848(0x1c5))){_0x267471=!![],_0xcead89=await spotifyAlbumSearch(_0x5d7c23);if(!_0xcead89?.[_0x4a5848(0x187)]?.[_0x4a5848(0x18e)])throw _0x4a5848(0x1a3);}else{const _0x1be2e4=await spotifyxv(_0x5d7c23);if(!_0x1be2e4[_0x4a5848(0x18e)]||!_0x1be2e4[0x0][_0x4a5848(0x1c0)])throw'‚ùå\x20*Error:*\x20No\x20se\x20encontraron\x20resultados.';_0xcead89={'tracks':[_0x1be2e4[0x0]]};}}}}}if(_0x267471||_0x348c1a){let _0x49eebf=[];for(let _0xe7e69d=0x0;_0xe7e69d<_0xcead89['tracks'][_0x4a5848(0x18e)];_0xe7e69d++){const _0x34049a=_0xcead89[_0x4a5848(0x187)][_0xe7e69d],_0x2087c2=_0x34049a[_0x4a5848(0x1a5)]+'\x20('+(_0xe7e69d+0x1)+'/'+_0xcead89[_0x4a5848(0x187)]['length']+')',_0x14bc10=formatExtractionMessage(_0x2087c2,0x1,_0x4a5848(0x186)),_0x53b5b5=await _0x4e6863['sendMessage'](_0x1e29b2[_0x4a5848(0x161)],{'text':_0x14bc10}),_0x168c0c=await downloadWithRetries(_0x34049a,_0x4e6863,_0x1e29b2,_0x53b5b5,_0x2087c2);_0x168c0c?(await _0x4e6863['sendMessage'](_0x1e29b2[_0x4a5848(0x161)],{'delete':_0x53b5b5['key']}),await _0x4e6863[_0x4a5848(0x17a)](_0x1e29b2[_0x4a5848(0x161)],{'audio':{'url':_0x168c0c[_0x4a5848(0x1b5)]},'fileName':_0x168c0c['title']+_0x4a5848(0x1bf),'mimetype':'audio/mpeg','contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x168c0c[_0x4a5848(0x174)],'body':_0x4a5848(0x1a4)+_0x168c0c[_0x4a5848(0x16f)],'description':_0x4a5848(0x181)+_0x168c0c[_0x4a5848(0x1c5)],'thumbnailUrl':_0x168c0c[_0x4a5848(0x1ae)]}}}),await new Promise(_0x5d1212=>setTimeout(_0x5d1212,0x7d0))):_0x49eebf[_0x4a5848(0x183)](_0x34049a);}if(_0x49eebf[_0x4a5848(0x18e)]>0x0){let _0x36fcd1=_0x49eebf[_0x4a5848(0x198)](_0x1d0064=>_0x1d0064[_0x4a5848(0x1a5)])[_0x4a5848(0x180)]('\x0a');await _0x4e6863[_0x4a5848(0x17a)](_0x1e29b2[_0x4a5848(0x161)],{'text':'Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a'+_0x36fcd1});let _0x23f68d=[];for(let _0x1ad1d5 of _0x49eebf){const _0x1bf4fb=_0x1ad1d5[_0x4a5848(0x1a5)]+_0x4a5848(0x19a),_0x6f431a=formatExtractionMessage(_0x1bf4fb,0x1,_0x4a5848(0x186)),_0x292ddc=await _0x4e6863['sendMessage'](_0x1e29b2[_0x4a5848(0x161)],{'text':_0x6f431a}),_0x101398=await downloadWithRetries(_0x1ad1d5,_0x4e6863,_0x1e29b2,_0x292ddc,_0x1bf4fb);_0x101398?(await _0x4e6863[_0x4a5848(0x17a)](_0x1e29b2[_0x4a5848(0x161)],{'delete':_0x292ddc[_0x4a5848(0x190)]}),await _0x4e6863[_0x4a5848(0x17a)](_0x1e29b2[_0x4a5848(0x161)],{'audio':{'url':_0x101398[_0x4a5848(0x1b5)]},'fileName':_0x101398['title']+'.mp3','mimetype':_0x4a5848(0x15f),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x101398['title'],'body':_0x4a5848(0x1a4)+_0x101398[_0x4a5848(0x16f)],'description':_0x4a5848(0x181)+_0x101398[_0x4a5848(0x1c5)],'thumbnailUrl':_0x101398[_0x4a5848(0x1ae)]}}}),await new Promise(_0x20a88a=>setTimeout(_0x20a88a,0x7d0))):_0x23f68d[_0x4a5848(0x183)](_0x1ad1d5);}if(_0x23f68d[_0x4a5848(0x18e)]>0x0){let _0x453a83=_0x23f68d[_0x4a5848(0x198)](_0x256b3f=>_0x256b3f['name'])[_0x4a5848(0x180)]('\x0a');await _0x4e6863[_0x4a5848(0x17a)](_0x1e29b2[_0x4a5848(0x161)],{'text':_0x4a5848(0x199)+_0x453a83});}}}else{const _0x939c5=_0xcead89[_0x4a5848(0x187)][0x0],_0x49bd9a=_0x939c5['name']+'\x20(1/1)',_0x5be6fe=formatExtractionMessage(_0x49bd9a,0x1,'‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%'),_0x59f63d=await _0x4e6863[_0x4a5848(0x17a)](_0x1e29b2[_0x4a5848(0x161)],{'text':_0x5be6fe}),_0x3655ad=await downloadWithRetries(_0x939c5,_0x4e6863,_0x1e29b2,_0x59f63d,_0x49bd9a);if(!_0x3655ad){await _0x4e6863[_0x4a5848(0x17a)](_0x1e29b2[_0x4a5848(0x161)],{'text':_0x4a5848(0x17b)+_0x939c5[_0x4a5848(0x1a5)]});const _0x575034=formatExtractionMessage(_0x49bd9a+'\x20(Reintento)',0x1,'‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%'),_0x326c04=await _0x4e6863[_0x4a5848(0x17a)](_0x1e29b2[_0x4a5848(0x161)],{'text':_0x575034}),_0x57e45b=await downloadWithRetries(_0x939c5,_0x4e6863,_0x1e29b2,_0x326c04,_0x49bd9a+_0x4a5848(0x19a));!_0x57e45b?await _0x4e6863[_0x4a5848(0x17a)](_0x1e29b2[_0x4a5848(0x161)],{'text':_0x4a5848(0x1b6)+_0x939c5[_0x4a5848(0x1a5)]}):(await _0x4e6863['sendMessage'](_0x1e29b2[_0x4a5848(0x161)],{'delete':_0x326c04[_0x4a5848(0x190)]}),await _0x4e6863['sendMessage'](_0x1e29b2[_0x4a5848(0x161)],{'audio':{'url':_0x57e45b[_0x4a5848(0x1b5)]},'fileName':_0x57e45b['title']+_0x4a5848(0x1bf),'mimetype':'audio/mpeg','contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x57e45b[_0x4a5848(0x174)],'body':_0x4a5848(0x1a4)+_0x57e45b[_0x4a5848(0x16f)],'description':'√Ålbum:\x20'+_0x57e45b[_0x4a5848(0x1c5)],'thumbnailUrl':_0x57e45b[_0x4a5848(0x1ae)]}}}),await new Promise(_0x317950=>setTimeout(_0x317950,0x7d0)));}else await _0x4e6863[_0x4a5848(0x17a)](_0x1e29b2[_0x4a5848(0x161)],{'delete':_0x59f63d['key']}),await _0x4e6863[_0x4a5848(0x17a)](_0x1e29b2[_0x4a5848(0x161)],{'audio':{'url':_0x3655ad['music']},'fileName':_0x3655ad['title']+_0x4a5848(0x1bf),'mimetype':_0x4a5848(0x15f),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x3655ad[_0x4a5848(0x174)],'body':_0x4a5848(0x1a4)+_0x3655ad[_0x4a5848(0x16f)],'description':_0x4a5848(0x181)+_0x3655ad[_0x4a5848(0x1c5)],'thumbnailUrl':_0x3655ad[_0x4a5848(0x1ae)]}}}),await _0x1e29b2['react']('‚úÖ');}}catch(_0x59da2f){await _0x1e29b2[_0x4a5848(0x173)]('‚ùå'),await _0x1e29b2[_0x4a5848(0x1a7)](_0x4a5848(0x189)+(_0x59da2f[_0x4a5848(0x191)]||_0x59da2f)),console[_0x4a5848(0x19c)](_0x59da2f);}};handler['help']=[a0_0x3944b0(0x1b3),a0_0x3944b0(0x1b5)],handler[a0_0x3944b0(0x18c)]=[a0_0x3944b0(0x166)],handler['command']=['spotify','music'],handler[a0_0x3944b0(0x1c9)]=![];export default handler;function a0_0x5ba7(_0xe2c659,_0x10b319){const _0x3d4cd1=a0_0x3d4c();return a0_0x5ba7=function(_0x5ba71a,_0x4d0e18){_0x5ba71a=_0x5ba71a-0x15f;let _0x36b236=_0x3d4cd1[_0x5ba71a];return _0x36b236;},a0_0x5ba7(_0xe2c659,_0x10b319);}async function spotifyxv(_0x7e1310){const _0x450172=a0_0x3944b0,_0x1b8624=await getSpotifyToken();try{let _0x136cd0=await a0_0x19bd99({'method':_0x450172(0x18a),'url':_0x450172(0x16d)+encodeURIComponent(_0x7e1310)+_0x450172(0x1ba),'headers':{'Authorization':_0x450172(0x175)+_0x1b8624}});const _0x3a27ab=_0x136cd0[_0x450172(0x167)][_0x450172(0x187)][_0x450172(0x176)];return _0x3a27ab['map'](_0x590e89=>({'name':_0x590e89[_0x450172(0x1a5)],'artist':_0x590e89['artists'][_0x450172(0x198)](_0x27c28a=>_0x27c28a[_0x450172(0x1a5)])[_0x450172(0x180)](',\x20'),'album':_0x590e89[_0x450172(0x1c5)]['name'],'duration':timestamp(_0x590e89[_0x450172(0x18b)]),'url':_0x590e89[_0x450172(0x162)]['spotify'],'thumbnail':_0x590e89[_0x450172(0x1c5)][_0x450172(0x1b9)][0x0]?.[_0x450172(0x1c0)]||''}));}catch(_0x385132){return console['error'](_0x385132),[];}}async function spotifyAlbum(_0x143cdd){const _0x568f55=a0_0x3944b0;let _0x9a9353;try{const _0x23c287=_0x143cdd[_0x568f55(0x1aa)]('/');_0x9a9353=_0x23c287[_0x23c287[_0x568f55(0x1a2)]('album')+0x1][_0x568f55(0x1aa)]('?')[0x0];}catch(_0x404a3c){throw new Error(_0x568f55(0x165));}const _0x59797d=await getSpotifyToken();let _0x1418d3=await a0_0x19bd99({'method':_0x568f55(0x18a),'url':'https://api.spotify.com/v1/albums/'+_0x9a9353,'headers':{'Authorization':_0x568f55(0x175)+_0x59797d}});const _0x5f59e0=_0x1418d3['data'],_0x8e4467=_0x5f59e0[_0x568f55(0x187)][_0x568f55(0x176)][_0x568f55(0x198)](_0x35cd78=>({'name':_0x35cd78[_0x568f55(0x1a5)],'artist':_0x35cd78[_0x568f55(0x1ad)][_0x568f55(0x198)](_0x4a51fc=>_0x4a51fc[_0x568f55(0x1a5)])[_0x568f55(0x180)](',\x20'),'album':_0x5f59e0['name'],'url':_0x35cd78[_0x568f55(0x162)][_0x568f55(0x1b3)],'thumbnail':_0x5f59e0[_0x568f55(0x1b9)][0x0]?.['url']||''}));return{'album':_0x5f59e0,'tracks':_0x8e4467};}async function spotifyAlbumSearch(_0x531090){const _0x48201a=a0_0x3944b0,_0x329dc9=await getSpotifyToken();let _0x3727b5=await a0_0x19bd99({'method':_0x48201a(0x18a),'url':'https://api.spotify.com/v1/search?q='+encodeURIComponent(_0x531090)+'&type=album','headers':{'Authorization':_0x48201a(0x175)+_0x329dc9}});const _0x112533=_0x3727b5[_0x48201a(0x167)]['albums'][_0x48201a(0x176)];if(!_0x112533['length'])return null;const _0x3c9b11=_0x112533[0x0]['id'];let _0x5b41c1=await a0_0x19bd99({'method':_0x48201a(0x18a),'url':_0x48201a(0x1af)+_0x3c9b11,'headers':{'Authorization':_0x48201a(0x175)+_0x329dc9}});const _0x207bd9=_0x5b41c1[_0x48201a(0x167)],_0x3ac3cb=_0x207bd9['tracks'][_0x48201a(0x176)][_0x48201a(0x198)](_0x4cd751=>({'name':_0x4cd751['name'],'artist':_0x4cd751['artists'][_0x48201a(0x198)](_0x4865c5=>_0x4865c5[_0x48201a(0x1a5)])[_0x48201a(0x180)](',\x20'),'album':_0x207bd9[_0x48201a(0x1a5)],'url':_0x4cd751['external_urls'][_0x48201a(0x1b3)],'thumbnail':_0x207bd9['images'][0x0]?.['url']||''}));return{'album':_0x207bd9,'tracks':_0x3ac3cb};}async function spotifyPlaylist(_0x115f64){const _0x45c8d8=a0_0x3944b0;let _0x4c22cb;try{const _0x39b695=_0x115f64[_0x45c8d8(0x1aa)]('/');_0x4c22cb=_0x39b695[_0x39b695[_0x45c8d8(0x1a2)](_0x45c8d8(0x178))+0x1]['split']('?')[0x0];}catch(_0x5ddaaf){throw new Error('No\x20se\x20pudo\x20extraer\x20el\x20ID\x20de\x20la\x20playlist.');}const _0x104ead=await getSpotifyToken();let _0x32bb30=await a0_0x19bd99({'method':'get','url':_0x45c8d8(0x195)+_0x4c22cb,'headers':{'Authorization':_0x45c8d8(0x175)+_0x104ead}});const _0x49e311=_0x32bb30['data'],_0xb0b44d=_0x49e311['tracks'][_0x45c8d8(0x176)][_0x45c8d8(0x198)](_0x54e0a4=>{const _0x415764=_0x45c8d8,_0x315d54=_0x54e0a4[_0x415764(0x1b4)];return{'name':_0x315d54['name'],'artist':_0x315d54[_0x415764(0x1ad)][_0x415764(0x198)](_0x180d9c=>_0x180d9c[_0x415764(0x1a5)])['join'](',\x20'),'album':_0x49e311['name'],'url':_0x315d54['external_urls'][_0x415764(0x1b3)],'thumbnail':_0x315d54[_0x415764(0x1c5)][_0x415764(0x1b9)][0x0]?.[_0x415764(0x1c0)]||''};});return{'album':{'name':_0x49e311[_0x45c8d8(0x1a5)]},'tracks':_0xb0b44d};}async function spotifyArtist(_0x2e524a){const _0x2bfb7e=a0_0x3944b0;let _0x593c90;try{const _0x397daf=_0x2e524a['split']('/');_0x593c90=_0x397daf[_0x397daf['indexOf']('artist')+0x1][_0x2bfb7e(0x1aa)]('?')[0x0];}catch(_0x52f166){throw new Error(_0x2bfb7e(0x16b));}const _0x279d55=await getSpotifyToken();let _0x39ffe2=await a0_0x19bd99({'method':_0x2bfb7e(0x18a),'url':_0x2bfb7e(0x19b)+_0x593c90+_0x2bfb7e(0x184),'headers':{'Authorization':_0x2bfb7e(0x175)+_0x279d55}});const _0x522a32=_0x39ffe2[_0x2bfb7e(0x167)],_0x3ee605=_0x522a32[_0x2bfb7e(0x187)]['map'](_0x16fb0b=>({'name':_0x16fb0b[_0x2bfb7e(0x1a5)],'artist':_0x16fb0b[_0x2bfb7e(0x1ad)][_0x2bfb7e(0x198)](_0x444127=>_0x444127[_0x2bfb7e(0x1a5)])['join'](',\x20'),'album':'Top\x20Tracks','url':_0x16fb0b['external_urls'][_0x2bfb7e(0x1b3)],'thumbnail':_0x16fb0b[_0x2bfb7e(0x1c5)]['images'][0x0]?.[_0x2bfb7e(0x1c0)]||''}));return{'album':{'name':'Top\x20Tracks'},'tracks':_0x3ee605};}function a0_0x3d4c(){const _0x7637a1=['No\x20se\x20pudo\x20obtener\x20el\x20enlace\x20de\x20descarga\x20para\x20','map','No\x20se\x20pudieron\x20extraer\x20las\x20siguientes\x20sombras:\x0a','\x20(Reintento)','https://api.spotify.com/v1/artists/','error','\x0aüí†\x20Progreso:\x20','Error\x20al\x20obtener\x20la\x20imagen:\x20','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2050%','acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009','‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2020%','indexOf','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20el\x20√°lbum.','Artista:\x20','name','\x0a‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ','reply','spotify.com/artist','expires_in','split','open.spotify.com/artist','grant_type=client_credentials','artists','thumbnail','https://api.spotify.com/v1/albums/','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±\x2070%','open.spotify.com/playlist','\x20https://open.spotify.com/playlist/...\x0a‚Ä¢\x20','spotify','track','music','No\x20se\x20pudo\x20extraer\x20la\x20sombra\x20de:\x20','2668072dObfxh','application/x-www-form-urlencoded','images','&type=track','‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\x0a‚öîÔ∏è\x20Extracci√≥n\x20en\x20Curso\x0aüåü\x20Objetivo:\x20','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20track.','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2040%','6mfuMnm','.mp3','url','Basic\x20','115344WDlmur','base64','spotify.com/track','album','1240YoqVFP','from','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20¬°Descargado!','group','audio/mpeg','\x20https://open.spotify.com/artist/...','chat','external_urls','https://accounts.spotify.com/api/token','‚öîÔ∏è\x20Error:\x20No\x20ingresaste\x20ninguna\x20b√∫squeda\x20o\x20enlace.\x0a\x0aEjemplo:\x0a‚Ä¢\x20','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20√°lbum.','downloader','data','statusText','then','token','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20artista.','open.spotify.com/album','https://api.spotify.com/v1/search?q=','now','artist','toString','798068hmDkTn','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20Fall√≥\x20la\x20extracci√≥n\x20de:\x20','react','title','Bearer\x20','items','includes','playlist','1780qUCOEO','sendMessage','Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a','access_token','expiresAt','332052ISjmIm','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±\x2090%','join','√Ålbum:\x20','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±\x2060%','push','/top-tracks?market=US','post','‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%','tracks','1799154OWGpOF','‚ùå\x20*Error:*\x20','get','duration_ms','tags','https://apis-starlights-team.koyeb.app/starlight/spotifydl?url=','length','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20la\x20playlist.','key','message','141230GyHvtE','17346GCmixT','‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2030%','https://api.spotify.com/v1/playlists/','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20para\x20el\x20artista.'];a0_0x3d4c=function(){return _0x7637a1;};return a0_0x3d4c();}async function spotifyTrack(_0xc14b4a){const _0x2dcfe8=a0_0x3944b0;let _0x20dd6c;try{const _0x246876=_0xc14b4a['split']('/');_0x20dd6c=_0x246876[_0x246876[_0x2dcfe8(0x1a2)](_0x2dcfe8(0x1b4))+0x1][_0x2dcfe8(0x1aa)]('?')[0x0];}catch(_0x33d46e){throw new Error(_0x2dcfe8(0x1bc));}const _0x4bfbcb=await getSpotifyToken();let _0x5d29b6=await a0_0x19bd99({'method':_0x2dcfe8(0x18a),'url':'https://api.spotify.com/v1/tracks/'+_0x20dd6c,'headers':{'Authorization':_0x2dcfe8(0x175)+_0x4bfbcb}});const _0xb89004=_0x5d29b6[_0x2dcfe8(0x167)];return{'name':_0xb89004['name'],'artist':_0xb89004['artists'][_0x2dcfe8(0x198)](_0x4c24f3=>_0x4c24f3[_0x2dcfe8(0x1a5)])[_0x2dcfe8(0x180)](',\x20'),'album':_0xb89004[_0x2dcfe8(0x1c5)][_0x2dcfe8(0x1a5)],'url':_0xb89004['external_urls'][_0x2dcfe8(0x1b3)],'thumbnail':_0xb89004[_0x2dcfe8(0x1c5)][_0x2dcfe8(0x1b9)][0x0]?.[_0x2dcfe8(0x1c0)]||''};}function timestamp(_0x48a7e8){const _0x3d4f87=Math['floor'](_0x48a7e8/0xea60),_0x49d70c=Math['floor'](_0x48a7e8%0xea60/0x3e8);return _0x3d4f87+':'+(_0x49d70c<0xa?'0':'')+_0x49d70c;}