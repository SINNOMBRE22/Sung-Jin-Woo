const a0_0x3ebbcc=a0_0x5ee6;(function(_0x137412,_0x43c5d3){const _0x56f4e6=a0_0x5ee6,_0x16557b=_0x137412();while(!![]){try{const _0x38df8c=-parseInt(_0x56f4e6(0x21c))/0x1*(-parseInt(_0x56f4e6(0x1ca))/0x2)+-parseInt(_0x56f4e6(0x1df))/0x3*(parseInt(_0x56f4e6(0x200))/0x4)+parseInt(_0x56f4e6(0x206))/0x5+parseInt(_0x56f4e6(0x20d))/0x6*(-parseInt(_0x56f4e6(0x1d6))/0x7)+-parseInt(_0x56f4e6(0x207))/0x8+parseInt(_0x56f4e6(0x1fa))/0x9+-parseInt(_0x56f4e6(0x1c8))/0xa*(-parseInt(_0x56f4e6(0x212))/0xb);if(_0x38df8c===_0x43c5d3)break;else _0x16557b['push'](_0x16557b['shift']());}catch(_0x27e225){_0x16557b['push'](_0x16557b['shift']());}}}(a0_0x4a7b,0xcd416));import a0_0x56c056 from'axios';import a0_0x8dca7a from'node-fetch';let spotifyTokenCache={'token':null,'expiresAt':0x0};async function getSpotifyToken(){const _0x4d9e94=a0_0x5ee6,_0x226514=Date[_0x4d9e94(0x1da)]();if(spotifyTokenCache[_0x4d9e94(0x1e5)]&&spotifyTokenCache['expiresAt']>_0x226514)return spotifyTokenCache[_0x4d9e94(0x1e5)];const _0x5ec58b=await a0_0x56c056({'method':_0x4d9e94(0x220),'url':_0x4d9e94(0x1d4),'headers':{'Content-Type':'application/x-www-form-urlencoded','Authorization':_0x4d9e94(0x1d0)+Buffer[_0x4d9e94(0x1cd)](_0x4d9e94(0x1e8))[_0x4d9e94(0x21d)](_0x4d9e94(0x205))},'data':_0x4d9e94(0x1c7)}),_0x36186f=_0x5ec58b[_0x4d9e94(0x1bc)][_0x4d9e94(0x1fc)];return spotifyTokenCache['token']=_0x36186f,spotifyTokenCache['expiresAt']=_0x226514+_0x5ec58b[_0x4d9e94(0x1bc)][_0x4d9e94(0x1ec)]*0x3e8-0xea60,_0x36186f;}async function getBuffer(_0x3fcd1a){const _0x4623c3=a0_0x5ee6,_0x14ce95=await a0_0x8dca7a(_0x3fcd1a);if(!_0x14ce95['ok'])throw new Error(_0x4623c3(0x1f5)+_0x14ce95[_0x4623c3(0x1c5)]);return await _0x14ce95['buffer']();}function a0_0x5ee6(_0x16d5be,_0x253399){const _0x4a7bbf=a0_0x4a7b();return a0_0x5ee6=function(_0x5ee605,_0x156826){_0x5ee605=_0x5ee605-0x1b8;let _0x2b056a=_0x4a7bbf[_0x5ee605];return _0x2b056a;},a0_0x5ee6(_0x16d5be,_0x253399);}function formatExtractionMessage(_0x46795f,_0x132d86,_0x511926){const _0x492836=a0_0x5ee6;return _0x492836(0x21b)+_0x46795f+'\x0aüõ†Ô∏è\x20Intento:\x20'+_0x132d86+_0x492836(0x20b)+_0x511926+'\x0a‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ';}async function progressWithSync(_0x453e95,_0x4cc26f,_0x5ec18a,_0x21ba01,{objective:_0x47ebca,attempt:_0x5f3ea7,failedTrack:failedTrack=null}){const _0x4ed495=a0_0x5ee6;let _0x1cbb5e=![];const _0xc79c9e=[_0x4ed495(0x214),_0x4ed495(0x21a),_0x4ed495(0x218),'‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2030%',_0x4ed495(0x1ee),_0x4ed495(0x1e0),_0x4ed495(0x1dd),_0x4ed495(0x1ba),_0x4ed495(0x1c3),'‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±\x2090%'];let _0x5b87ac=0x0;const _0xfd9fa3=0x12c,_0x51f0fc=setInterval(async()=>{const _0x4d37e4=_0x4ed495;if(_0x5b87ac<_0xc79c9e[_0x4d37e4(0x1d3)]){const _0x22c7ef=formatExtractionMessage(_0x47ebca,_0x5f3ea7,_0xc79c9e[_0x5b87ac]);await _0x453e95[_0x4d37e4(0x1eb)](_0x4cc26f[_0x4d37e4(0x1d8)],{'text':_0x22c7ef,'edit':_0x5ec18a[_0x4d37e4(0x208)]}),_0x5b87ac++;}},_0xfd9fa3);try{await _0x21ba01;}catch(_0x279acd){_0x1cbb5e=!![];}clearInterval(_0x51f0fc);const _0x2c4df7=_0x1cbb5e&&failedTrack?_0x4ed495(0x1ea)+failedTrack:_0x4ed495(0x1e2),_0x2b779d=formatExtractionMessage(_0x47ebca,_0x5f3ea7,_0x2c4df7);await _0x453e95['sendMessage'](_0x4cc26f['chat'],{'text':_0x2b779d,'edit':_0x5ec18a[_0x4ed495(0x208)]});}async function downloadWithRetries(_0x41b8f4,_0x120086,_0x727afb,_0x41a008,_0x53e2f1){const _0x3cac66=a0_0x5ee6;let _0xc7c121=null;for(let _0xc7d217=0x1;_0xc7d217<=0x3;_0xc7d217++){try{const _0x506dcd=a0_0x8dca7a('https://apis-starlights-team.koyeb.app/starlight/spotifydl?url='+_0x41b8f4[_0x3cac66(0x1f6)])[_0x3cac66(0x21e)](_0x5d7e08=>_0x5d7e08['json']());await progressWithSync(_0x120086,_0x727afb,_0x41a008,_0x506dcd,{'objective':_0x53e2f1,'attempt':_0xc7d217,'failedTrack':_0xc7d217===0x3?_0x41b8f4[_0x3cac66(0x1d1)]:null}),_0xc7c121=await _0x506dcd;if(!_0xc7c121||!_0xc7c121[_0x3cac66(0x1f3)])throw new Error(_0x3cac66(0x20a)+_0x41b8f4['name']);return _0xc7c121;}catch(_0xf0bf1d){if(_0xc7d217===0x3)return null;await new Promise(_0xc6b77e=>setTimeout(_0xc6b77e,0x3e8));}}return null;}let handler=async(_0x2892cb,{conn:_0x37b731,text:_0x584952,usedPrefix:_0x53e1a4,command:_0x3af28a})=>{const _0x66248d=a0_0x5ee6;if(!_0x584952)throw'‚öîÔ∏è\x20Error:\x20No\x20ingresaste\x20ninguna\x20b√∫squeda\x20o\x20enlace.\x0a\x0aEjemplo:\x0a‚Ä¢\x20'+(_0x53e1a4+_0x3af28a)+_0x66248d(0x1cb)+(_0x53e1a4+_0x3af28a)+_0x66248d(0x1c2)+(_0x53e1a4+_0x3af28a)+_0x66248d(0x1e7)+(_0x53e1a4+_0x3af28a)+'\x20https://open.spotify.com/playlist/...\x0a‚Ä¢\x20'+(_0x53e1a4+_0x3af28a)+_0x66248d(0x1f7);try{await _0x2892cb['react']('‚è≥');let _0xd3731f=![],_0x1958d9=![],_0x41b92d=![],_0x4e80fd;if(_0x584952[_0x66248d(0x1ed)](_0x66248d(0x1e4))){_0xd3731f=!![],_0x4e80fd=await spotifyAlbum(_0x584952);if(!_0x4e80fd?.[_0x66248d(0x1bb)]?.[_0x66248d(0x1d3)])throw _0x66248d(0x1c4);}else{if(_0x584952['includes'](_0x66248d(0x1ce))){_0x1958d9=!![],_0x4e80fd=await spotifyPlaylist(_0x584952);if(!_0x4e80fd?.[_0x66248d(0x1bb)]?.[_0x66248d(0x1d3)])throw'‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20la\x20playlist.';}else{if(_0x584952[_0x66248d(0x1ed)](_0x66248d(0x1fb))||_0x584952['includes'](_0x66248d(0x1d7))){_0xd3731f=!![],_0x41b92d=!![],_0x4e80fd=await spotifyArtist(_0x584952);if(!_0x4e80fd?.[_0x66248d(0x1bb)]?.['length'])throw'‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20para\x20el\x20artista.';}else{if(_0x584952[_0x66248d(0x1ed)](_0x66248d(0x213)))_0x4e80fd={'tracks':[await spotifyTrack(_0x584952)]};else{if(_0x584952[_0x66248d(0x1ef)]()['includes']('album')){_0xd3731f=!![],_0x4e80fd=await spotifyAlbumSearch(_0x584952);if(!_0x4e80fd?.['tracks']?.[_0x66248d(0x1d3)])throw _0x66248d(0x1c4);}else{const _0x96166a=await spotifyxv(_0x584952);if(!_0x96166a[_0x66248d(0x1d3)]||!_0x96166a[0x0][_0x66248d(0x1f6)])throw _0x66248d(0x1b9);_0x4e80fd={'tracks':[_0x96166a[0x0]]};}}}}}if(_0xd3731f||_0x1958d9){let _0x5cd530=[];for(let _0x5420f6=0x0;_0x5420f6<_0x4e80fd[_0x66248d(0x1bb)][_0x66248d(0x1d3)];_0x5420f6++){const _0xe45aee=_0x4e80fd[_0x66248d(0x1bb)][_0x5420f6],_0x30c69f=_0xe45aee[_0x66248d(0x1d1)]+'\x20('+(_0x5420f6+0x1)+'/'+_0x4e80fd['tracks']['length']+')',_0x1f0211=formatExtractionMessage(_0x30c69f,0x1,'‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%'),_0x35d6be=await _0x37b731[_0x66248d(0x1eb)](_0x2892cb[_0x66248d(0x1d8)],{'text':_0x1f0211}),_0x4ccc22=await downloadWithRetries(_0xe45aee,_0x37b731,_0x2892cb,_0x35d6be,_0x30c69f);_0x4ccc22?(await _0x37b731[_0x66248d(0x1eb)](_0x2892cb[_0x66248d(0x1d8)],{'delete':_0x35d6be[_0x66248d(0x208)]}),await _0x37b731[_0x66248d(0x1eb)](_0x2892cb[_0x66248d(0x1d8)],{'audio':{'url':_0x4ccc22[_0x66248d(0x1f3)]},'fileName':_0x4ccc22[_0x66248d(0x1e6)]+_0x66248d(0x1c1),'mimetype':_0x66248d(0x1d9),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x4ccc22[_0x66248d(0x1e6)],'body':_0x66248d(0x215)+_0x4ccc22[_0x66248d(0x1fd)],'description':_0x66248d(0x210)+_0x4ccc22[_0x66248d(0x20e)],'thumbnailUrl':_0x4ccc22[_0x66248d(0x1f0)]}}}),await new Promise(_0x43f300=>setTimeout(_0x43f300,0x7d0))):_0x5cd530[_0x66248d(0x1cf)](_0xe45aee);}if(_0x5cd530['length']>0x0){let _0x367253=_0x5cd530['map'](_0x3d9624=>_0x3d9624[_0x66248d(0x1d1)])[_0x66248d(0x1bd)]('\x0a');await _0x37b731[_0x66248d(0x1eb)](_0x2892cb[_0x66248d(0x1d8)],{'text':'Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a'+_0x367253});let _0x168603=[];for(let _0x5702b2 of _0x5cd530){const _0x35a5cd=_0x5702b2['name']+_0x66248d(0x1b8),_0x1b17be=formatExtractionMessage(_0x35a5cd,0x1,_0x66248d(0x214)),_0x495be0=await _0x37b731['sendMessage'](_0x2892cb[_0x66248d(0x1d8)],{'text':_0x1b17be}),_0x17bf31=await downloadWithRetries(_0x5702b2,_0x37b731,_0x2892cb,_0x495be0,_0x35a5cd);_0x17bf31?(await _0x37b731['sendMessage'](_0x2892cb[_0x66248d(0x1d8)],{'delete':_0x495be0[_0x66248d(0x208)]}),await _0x37b731['sendMessage'](_0x2892cb[_0x66248d(0x1d8)],{'audio':{'url':_0x17bf31[_0x66248d(0x1f3)]},'fileName':_0x17bf31[_0x66248d(0x1e6)]+_0x66248d(0x1c1),'mimetype':_0x66248d(0x1d9),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x17bf31[_0x66248d(0x1e6)],'body':_0x66248d(0x215)+_0x17bf31[_0x66248d(0x1fd)],'description':_0x66248d(0x210)+_0x17bf31[_0x66248d(0x20e)],'thumbnailUrl':_0x17bf31[_0x66248d(0x1f0)]}}}),await new Promise(_0x41aacd=>setTimeout(_0x41aacd,0x7d0))):_0x168603[_0x66248d(0x1cf)](_0x5702b2);}if(_0x168603[_0x66248d(0x1d3)]>0x0){let _0x3d3de4=_0x168603[_0x66248d(0x1d5)](_0x131bf9=>_0x131bf9[_0x66248d(0x1d1)])[_0x66248d(0x1bd)]('\x0a');await _0x37b731[_0x66248d(0x1eb)](_0x2892cb[_0x66248d(0x1d8)],{'text':_0x66248d(0x1f9)+_0x3d3de4});}}}else{const _0x49ec5b=_0x4e80fd['tracks'][0x0],_0x5ceb35=_0x49ec5b[_0x66248d(0x1d1)]+_0x66248d(0x1d2),_0x7c33f6=formatExtractionMessage(_0x5ceb35,0x1,_0x66248d(0x214)),_0x4adcfe=await _0x37b731[_0x66248d(0x1eb)](_0x2892cb[_0x66248d(0x1d8)],{'text':_0x7c33f6}),_0x55664e=await downloadWithRetries(_0x49ec5b,_0x37b731,_0x2892cb,_0x4adcfe,_0x5ceb35);if(!_0x55664e){await _0x37b731['sendMessage'](_0x2892cb[_0x66248d(0x1d8)],{'text':'Igris\x20intentar√°\x20obtener\x20de\x20nuevo\x20las\x20sombras\x20de:\x0a'+_0x49ec5b[_0x66248d(0x1d1)]});const _0x53aea4=formatExtractionMessage(_0x5ceb35+'\x20(Reintento)',0x1,_0x66248d(0x214)),_0x5e6d8e=await _0x37b731[_0x66248d(0x1eb)](_0x2892cb['chat'],{'text':_0x53aea4}),_0x2ce247=await downloadWithRetries(_0x49ec5b,_0x37b731,_0x2892cb,_0x5e6d8e,_0x5ceb35+_0x66248d(0x1b8));!_0x2ce247?await _0x37b731['sendMessage'](_0x2892cb[_0x66248d(0x1d8)],{'text':'No\x20se\x20pudo\x20extraer\x20la\x20sombra\x20de:\x20'+_0x49ec5b[_0x66248d(0x1d1)]}):(await _0x37b731[_0x66248d(0x1eb)](_0x2892cb[_0x66248d(0x1d8)],{'delete':_0x5e6d8e[_0x66248d(0x208)]}),await _0x37b731[_0x66248d(0x1eb)](_0x2892cb[_0x66248d(0x1d8)],{'audio':{'url':_0x2ce247[_0x66248d(0x1f3)]},'fileName':_0x2ce247['title']+_0x66248d(0x1c1),'mimetype':_0x66248d(0x1d9),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x2ce247['title'],'body':_0x66248d(0x215)+_0x2ce247[_0x66248d(0x1fd)],'description':'√Ålbum:\x20'+_0x2ce247[_0x66248d(0x20e)],'thumbnailUrl':_0x2ce247[_0x66248d(0x1f0)]}}}),await new Promise(_0x24c142=>setTimeout(_0x24c142,0x7d0)));}else await _0x37b731[_0x66248d(0x1eb)](_0x2892cb[_0x66248d(0x1d8)],{'delete':_0x4adcfe['key']}),await _0x37b731[_0x66248d(0x1eb)](_0x2892cb['chat'],{'audio':{'url':_0x55664e['music']},'fileName':_0x55664e['title']+_0x66248d(0x1c1),'mimetype':_0x66248d(0x1d9),'contextInfo':{'externalAdReply':{'showAdAttribution':![],'title':''+_0x55664e[_0x66248d(0x1e6)],'body':_0x66248d(0x215)+_0x55664e[_0x66248d(0x1fd)],'description':_0x66248d(0x210)+_0x55664e[_0x66248d(0x20e)],'thumbnailUrl':_0x55664e['thumbnail']}}}),await _0x2892cb[_0x66248d(0x1e1)]('‚úÖ');}}catch(_0x496edf){await _0x2892cb[_0x66248d(0x1e1)]('‚ùå'),await _0x2892cb[_0x66248d(0x1c9)](_0x66248d(0x1e9)+(_0x496edf[_0x66248d(0x1de)]||_0x496edf)),console[_0x66248d(0x203)](_0x496edf);}};handler['help']=['spotify',a0_0x3ebbcc(0x1fe)],handler['tags']=[a0_0x3ebbcc(0x219)],handler[a0_0x3ebbcc(0x1dc)]=[a0_0x3ebbcc(0x202),a0_0x3ebbcc(0x1fe)],handler[a0_0x3ebbcc(0x201)]=![];function a0_0x4a7b(){const _0x5fb1bb=['map','14flJcVt','spotify.com/artist','chat','audio/mpeg','now','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20artista.','command','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±\x2060%','message','11082bbGwLD','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2050%','react','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20¬°Descargado!','indexOf','open.spotify.com/album','token','title','\x20https://open.spotify.com/album/...\x0a‚Ä¢\x20','acc6302297e040aeb6e4ac1fbdfd62c3:0e8439a1280a43aba9a5bc0a16f3f009','‚ùå\x20*Error:*\x20','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞\x20100%\x20-\x20Fall√≥\x20la\x20extracci√≥n\x20de:\x20','sendMessage','expires_in','includes','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2040%','toLowerCase','thumbnail','https://api.spotify.com/v1/albums/','get','music','&type=track','Error\x20al\x20obtener\x20la\x20imagen:\x20','url','\x20https://open.spotify.com/artist/...','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20√°lbum.','No\x20se\x20pudieron\x20extraer\x20las\x20siguientes\x20sombras:\x0a','4519530XlhASO','open.spotify.com/artist','access_token','artist','play','external_urls','1164TnEpZU','group','spotify','error','split','base64','4373765GMkRTf','11263568Rnhlzm','key','track','No\x20se\x20pudo\x20obtener\x20el\x20enlace\x20de\x20descarga\x20para\x20','\x0aüí†\x20Progreso:\x20','Bearer\x20','630810jMMrTB','album','floor','√Ålbum:\x20','https://api.spotify.com/v1/search?q=','22hvKxNn','spotify.com/track','‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x200%','Artista:\x20','https://api.spotify.com/v1/tracks/','playlist','‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2020%','downloader','‚ñ∞‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±‚ñ±\x2010%','‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ‚îÅ\x0a‚öîÔ∏è\x20Extracci√≥n\x20en\x20Curso\x0aüåü\x20Objetivo:\x20','4093xpHFPU','toString','then','albums','post','\x20(Reintento)','‚ùå\x20*Error:*\x20No\x20se\x20encontraron\x20resultados.','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±‚ñ±\x2070%','tracks','data','join','duration_ms','images','items','.mp3','\x20https://open.spotify.com/track/...\x0a‚Ä¢\x20','‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ∞‚ñ±‚ñ±\x2080%','‚ö†Ô∏è\x20No\x20se\x20encontraron\x20canciones\x20en\x20el\x20√°lbum.','statusText','artists','grant_type=client_credentials','4993270KLHmIx','reply','566ctEyUt','\x20Bellyache\x0a‚Ä¢\x20','No\x20se\x20pudo\x20extraer\x20el\x20ID\x20de\x20la\x20playlist.','from','open.spotify.com/playlist','push','Basic\x20','name','\x20(1/1)','length','https://accounts.spotify.com/api/token'];a0_0x4a7b=function(){return _0x5fb1bb;};return a0_0x4a7b();}export default handler;async function spotifyxv(_0x5e3edf){const _0x258d35=a0_0x3ebbcc,_0x26ce41=await getSpotifyToken();try{let _0x3cc291=await a0_0x56c056({'method':_0x258d35(0x1f2),'url':'https://api.spotify.com/v1/search?q='+encodeURIComponent(_0x5e3edf)+_0x258d35(0x1f4),'headers':{'Authorization':_0x258d35(0x20c)+_0x26ce41}});const _0x283460=_0x3cc291[_0x258d35(0x1bc)]['tracks']['items'];return _0x283460['map'](_0x1b81cd=>({'name':_0x1b81cd[_0x258d35(0x1d1)],'artist':_0x1b81cd['artists']['map'](_0x1180fe=>_0x1180fe[_0x258d35(0x1d1)])[_0x258d35(0x1bd)](',\x20'),'album':_0x1b81cd[_0x258d35(0x20e)][_0x258d35(0x1d1)],'duration':timestamp(_0x1b81cd[_0x258d35(0x1be)]),'url':_0x1b81cd[_0x258d35(0x1ff)]['spotify'],'thumbnail':_0x1b81cd[_0x258d35(0x20e)][_0x258d35(0x1bf)][0x0]?.[_0x258d35(0x1f6)]||''}));}catch(_0x2cf6d1){return console[_0x258d35(0x203)](_0x2cf6d1),[];}}async function spotifyAlbum(_0x327f50){const _0x1678f5=a0_0x3ebbcc;let _0x3558f8;try{const _0x12d212=_0x327f50['split']('/');_0x3558f8=_0x12d212[_0x12d212[_0x1678f5(0x1e3)](_0x1678f5(0x20e))+0x1][_0x1678f5(0x204)]('?')[0x0];}catch(_0x5253e9){throw new Error(_0x1678f5(0x1f8));}const _0x18fd28=await getSpotifyToken();let _0xd0114e=await a0_0x56c056({'method':_0x1678f5(0x1f2),'url':_0x1678f5(0x1f1)+_0x3558f8,'headers':{'Authorization':_0x1678f5(0x20c)+_0x18fd28}});const _0x57ea98=_0xd0114e['data'],_0x4ff5af=_0x57ea98[_0x1678f5(0x1bb)][_0x1678f5(0x1c0)][_0x1678f5(0x1d5)](_0x5c5a9e=>({'name':_0x5c5a9e[_0x1678f5(0x1d1)],'artist':_0x5c5a9e[_0x1678f5(0x1c6)][_0x1678f5(0x1d5)](_0x5a8aba=>_0x5a8aba['name'])[_0x1678f5(0x1bd)](',\x20'),'album':_0x57ea98[_0x1678f5(0x1d1)],'url':_0x5c5a9e[_0x1678f5(0x1ff)][_0x1678f5(0x202)],'thumbnail':_0x57ea98[_0x1678f5(0x1bf)][0x0]?.['url']||''}));return{'album':_0x57ea98,'tracks':_0x4ff5af};}async function spotifyAlbumSearch(_0x4000dc){const _0x1048eb=a0_0x3ebbcc,_0x4f5231=await getSpotifyToken();let _0x82c51f=await a0_0x56c056({'method':_0x1048eb(0x1f2),'url':_0x1048eb(0x211)+encodeURIComponent(_0x4000dc)+'&type=album','headers':{'Authorization':_0x1048eb(0x20c)+_0x4f5231}});const _0x5ed5ba=_0x82c51f[_0x1048eb(0x1bc)][_0x1048eb(0x21f)][_0x1048eb(0x1c0)];if(!_0x5ed5ba[_0x1048eb(0x1d3)])return null;const _0x243ea6=_0x5ed5ba[0x0]['id'];let _0x460633=await a0_0x56c056({'method':_0x1048eb(0x1f2),'url':_0x1048eb(0x1f1)+_0x243ea6,'headers':{'Authorization':_0x1048eb(0x20c)+_0x4f5231}});const _0x5b2a73=_0x460633[_0x1048eb(0x1bc)],_0x46f055=_0x5b2a73[_0x1048eb(0x1bb)]['items']['map'](_0x2e2694=>({'name':_0x2e2694[_0x1048eb(0x1d1)],'artist':_0x2e2694['artists'][_0x1048eb(0x1d5)](_0x3f0900=>_0x3f0900['name'])[_0x1048eb(0x1bd)](',\x20'),'album':_0x5b2a73['name'],'url':_0x2e2694[_0x1048eb(0x1ff)]['spotify'],'thumbnail':_0x5b2a73['images'][0x0]?.[_0x1048eb(0x1f6)]||''}));return{'album':_0x5b2a73,'tracks':_0x46f055};}async function spotifyPlaylist(_0x531012){const _0x5169a5=a0_0x3ebbcc;let _0x556493;try{const _0x5e7b3e=_0x531012['split']('/');_0x556493=_0x5e7b3e[_0x5e7b3e[_0x5169a5(0x1e3)](_0x5169a5(0x217))+0x1][_0x5169a5(0x204)]('?')[0x0];}catch(_0x40c3f7){throw new Error(_0x5169a5(0x1cc));}const _0x2457b1=await getSpotifyToken();let _0x262499=await a0_0x56c056({'method':'get','url':'https://api.spotify.com/v1/playlists/'+_0x556493,'headers':{'Authorization':_0x5169a5(0x20c)+_0x2457b1}});const _0x1dbc7c=_0x262499[_0x5169a5(0x1bc)],_0x3744cc=_0x1dbc7c[_0x5169a5(0x1bb)][_0x5169a5(0x1c0)][_0x5169a5(0x1d5)](_0x38b912=>{const _0x42f54f=_0x5169a5,_0x4df144=_0x38b912[_0x42f54f(0x209)];return{'name':_0x4df144[_0x42f54f(0x1d1)],'artist':_0x4df144[_0x42f54f(0x1c6)]['map'](_0xf7f7f4=>_0xf7f7f4[_0x42f54f(0x1d1)])[_0x42f54f(0x1bd)](',\x20'),'album':_0x1dbc7c['name'],'url':_0x4df144[_0x42f54f(0x1ff)][_0x42f54f(0x202)],'thumbnail':_0x4df144[_0x42f54f(0x20e)][_0x42f54f(0x1bf)][0x0]?.[_0x42f54f(0x1f6)]||''};});return{'album':{'name':_0x1dbc7c[_0x5169a5(0x1d1)]},'tracks':_0x3744cc};}async function spotifyArtist(_0x498b4b){const _0x1272d0=a0_0x3ebbcc;let _0xe68d40;try{const _0x58fac1=_0x498b4b['split']('/');_0xe68d40=_0x58fac1[_0x58fac1[_0x1272d0(0x1e3)](_0x1272d0(0x1fd))+0x1][_0x1272d0(0x204)]('?')[0x0];}catch(_0x48db9e){throw new Error(_0x1272d0(0x1db));}const _0x588dfb=await getSpotifyToken();let _0xfcf8b6=await a0_0x56c056({'method':_0x1272d0(0x1f2),'url':'https://api.spotify.com/v1/artists/'+_0xe68d40+'/top-tracks?market=US','headers':{'Authorization':_0x1272d0(0x20c)+_0x588dfb}});const _0x5379be=_0xfcf8b6[_0x1272d0(0x1bc)],_0x249806=_0x5379be['tracks']['map'](_0x1bb21a=>({'name':_0x1bb21a[_0x1272d0(0x1d1)],'artist':_0x1bb21a[_0x1272d0(0x1c6)]['map'](_0x52d8ed=>_0x52d8ed['name'])[_0x1272d0(0x1bd)](',\x20'),'album':'Top\x20Tracks','url':_0x1bb21a[_0x1272d0(0x1ff)][_0x1272d0(0x202)],'thumbnail':_0x1bb21a[_0x1272d0(0x20e)][_0x1272d0(0x1bf)][0x0]?.[_0x1272d0(0x1f6)]||''}));return{'album':{'name':'Top\x20Tracks'},'tracks':_0x249806};}async function spotifyTrack(_0x5229db){const _0x3e151b=a0_0x3ebbcc;let _0x24e288;try{const _0x1bf63f=_0x5229db['split']('/');_0x24e288=_0x1bf63f[_0x1bf63f[_0x3e151b(0x1e3)](_0x3e151b(0x209))+0x1][_0x3e151b(0x204)]('?')[0x0];}catch(_0x249f1c){throw new Error('No\x20se\x20pudo\x20extraer\x20el\x20ID\x20del\x20track.');}const _0x2c834c=await getSpotifyToken();let _0x43bfad=await a0_0x56c056({'method':_0x3e151b(0x1f2),'url':_0x3e151b(0x216)+_0x24e288,'headers':{'Authorization':'Bearer\x20'+_0x2c834c}});const _0x134714=_0x43bfad['data'];return{'name':_0x134714[_0x3e151b(0x1d1)],'artist':_0x134714[_0x3e151b(0x1c6)][_0x3e151b(0x1d5)](_0x590053=>_0x590053[_0x3e151b(0x1d1)])[_0x3e151b(0x1bd)](',\x20'),'album':_0x134714[_0x3e151b(0x20e)][_0x3e151b(0x1d1)],'url':_0x134714[_0x3e151b(0x1ff)][_0x3e151b(0x202)],'thumbnail':_0x134714['album'][_0x3e151b(0x1bf)][0x0]?.[_0x3e151b(0x1f6)]||''};}function timestamp(_0x374cf2){const _0x19384d=a0_0x3ebbcc,_0x3d7844=Math[_0x19384d(0x20f)](_0x374cf2/0xea60),_0x398ed7=Math['floor'](_0x374cf2%0xea60/0x3e8);return _0x3d7844+':'+(_0x398ed7<0xa?'0':'')+_0x398ed7;}