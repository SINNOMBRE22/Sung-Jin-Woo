const a0_0x4d1fbb=a0_0x3ff4;function a0_0x2b48(){const _0xaec955=['token.json','infoFile','emit','bind','uploadFile','3246803cSULSB','491605TblxiC','205754LeAoWI','token','readFile','stringify','getFolderID','offline','1647567AAVWPf','auth','4941176BXtMIB','28HgPRQu','2BGAkPo','1551030UDRQVX','OAuth2','13575312eajeqs','downloadFile','/drive/api','once','path'];a0_0x2b48=function(){return _0xaec955;};return a0_0x2b48();}(function(_0x3ea099,_0xda4c4d){const _0x103f65=a0_0x3ff4,_0x25a5d5=_0x3ea099();while(!![]){try{const _0x4e15f1=parseInt(_0x103f65(0xbd))/0x1+-parseInt(_0x103f65(0xae))/0x2*(-parseInt(_0x103f65(0xc3))/0x3)+-parseInt(_0x103f65(0xad))/0x4*(-parseInt(_0x103f65(0xbc))/0x5)+parseInt(_0x103f65(0xaf))/0x6+-parseInt(_0x103f65(0xbb))/0x7+parseInt(_0x103f65(0xac))/0x8+-parseInt(_0x103f65(0xb1))/0x9;if(_0x4e15f1===_0xda4c4d)break;else _0x25a5d5['push'](_0x25a5d5['shift']());}catch(_0x5b1267){_0x25a5d5['push'](_0x25a5d5['shift']());}}}(a0_0x2b48,0x54c09));import{join}from'path';import{promises as a0_0x4e616e}from'fs';import{promisify}from'util';import{google}from'googleapis';function a0_0x3ff4(_0x1bda34,_0x3916ab){const _0x2b4816=a0_0x2b48();return a0_0x3ff4=function(_0x3ff457,_0x3703f1){_0x3ff457=_0x3ff457-0xab;let _0x24d2c8=_0x2b4816[_0x3ff457];return _0x24d2c8;},a0_0x3ff4(_0x1bda34,_0x3916ab);}const SCOPES=['https://www.googleapis.com/auth/drive.metadata.readonly'],TOKEN_PATH=join(__dirname,'..',a0_0x4d1fbb(0xb6));class GoogleAuth extends EventEmitter{constructor(){super();}async['authorize'](_0x27f50d){const _0x5aed15=a0_0x4d1fbb;let _0xbf6e99;const {client_secret:_0x53d14d,client_id:_0x41999e}=_0x27f50d,_0x207167=new google[(_0x5aed15(0xab))][(_0x5aed15(0xb0))](_0x41999e,_0x53d14d,'http://localhost:'+port);try{_0xbf6e99=JSON['parse'](await a0_0x4e616e[_0x5aed15(0xbf)](TOKEN_PATH));}catch(_0x4cc0ac){const _0x16d9a9=_0x207167['generateAuthUrl']({'access_type':_0x5aed15(0xc2),'scope':SCOPES});this[_0x5aed15(0xb8)](_0x5aed15(0xab),_0x16d9a9);const _0x17faf2=await promisify(this[_0x5aed15(0xb4)])[_0x5aed15(0xb9)](this)(_0x5aed15(0xbe));_0xbf6e99=await _0x207167['getToken'](_0x17faf2),await a0_0x4e616e['writeFile'](TOKEN_PATH,JSON[_0x5aed15(0xc0)](_0xbf6e99));}finally{await _0x207167['setCredentials'](_0xbf6e99);}}[a0_0x4d1fbb(0xbe)](_0x4ea619){const _0x422094=a0_0x4d1fbb;this['emit'](_0x422094(0xbe),_0x4ea619);}}class GoogleDrive extends GoogleAuth{constructor(){const _0x31844e=a0_0x4d1fbb;super(),this[_0x31844e(0xb5)]=_0x31844e(0xb3);}async[a0_0x4d1fbb(0xc1)](_0x598dc1){}async[a0_0x4d1fbb(0xb7)](_0x2cdf57){}async['folderList'](_0x4c8ca7){}async[a0_0x4d1fbb(0xb2)](_0x1c9319){}async[a0_0x4d1fbb(0xba)](_0x1a70c1){}}export{GoogleAuth,GoogleDrive};