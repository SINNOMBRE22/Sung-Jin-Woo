const a0_0x4faf52=a0_0x8609;function a0_0x8609(_0x372e95,_0x29a80d){const _0x4bd525=a0_0x4bd5();return a0_0x8609=function(_0x860950,_0x292568){_0x860950=_0x860950-0x1e2;let _0x34dab8=_0x4bd525[_0x860950];return _0x34dab8;},a0_0x8609(_0x372e95,_0x29a80d);}(function(_0x135f4d,_0x41815a){const _0xc767d3=a0_0x8609,_0x1e5b18=_0x135f4d();while(!![]){try{const _0x3462e4=parseInt(_0xc767d3(0x1fb))/0x1+parseInt(_0xc767d3(0x1ee))/0x2*(parseInt(_0xc767d3(0x203))/0x3)+parseInt(_0xc767d3(0x1ef))/0x4+parseInt(_0xc767d3(0x1fd))/0x5+parseInt(_0xc767d3(0x207))/0x6+-parseInt(_0xc767d3(0x1f7))/0x7*(-parseInt(_0xc767d3(0x1e9))/0x8)+-parseInt(_0xc767d3(0x1e6))/0x9;if(_0x3462e4===_0x41815a)break;else _0x1e5b18['push'](_0x1e5b18['shift']());}catch(_0x4abb24){_0x1e5b18['push'](_0x1e5b18['shift']());}}}(a0_0x4bd5,0x966ea));import a0_0xdd37d from'mongoose';const {Schema,connect,model:_model}=a0_0xdd37d,defaultOptions={'useNewUrlParser':!![],'useUnifiedTopology':!![]};function a0_0x4bd5(){const _0x1036ef=['keys','model','1200xFTwPX','create','save','conn','includes','718mxNNSE','3242052SveDuu','options','name','error','findById','_id','_data','read','50113hOphhc','url','catch','deleteMany','787605uYCksw','lists','5636330CwWCAO','push','models','all','entries','write','5136zexXbK','data','map','_model','256290LUYjKy','_schema','findOne','find','findIndex','insertMany','list','34563483okUeQl'];a0_0x4bd5=function(){return _0x1036ef;};return a0_0x4bd5();}export class mongoDB{constructor(_0x3fc127,_0x249594=defaultOptions){const _0xe74fe9=a0_0x8609;this[_0xe74fe9(0x1f8)]=_0x3fc127,this['options']=_0x249594,this['data']=this[_0xe74fe9(0x1f5)]={},this[_0xe74fe9(0x208)]={},this[_0xe74fe9(0x206)]={},this['db']=connect(this['url'],{...this[_0xe74fe9(0x1f0)]})['catch'](console[_0xe74fe9(0x1f2)]);}async[a0_0x4faf52(0x1f6)](){const _0x11ac07=a0_0x4faf52;this[_0x11ac07(0x1ec)]=await this['db'];const _0x8dac9=this[_0x11ac07(0x208)]=new Schema({'data':{'type':Object,'required':!![],'default':{}}});try{this[_0x11ac07(0x206)]=_model('data',_0x8dac9);}catch{this[_0x11ac07(0x206)]=_model('data');}this[_0x11ac07(0x1f5)]=await this['_model'][_0x11ac07(0x209)]({});if(!this[_0x11ac07(0x1f5)]){this[_0x11ac07(0x204)]={};const [_0x9be214,_0x55c223]=await Promise[_0x11ac07(0x200)]([this[_0x11ac07(0x202)](this[_0x11ac07(0x204)]),this['_model']['findOne']({})]);this['_data']=_0x55c223;}else this[_0x11ac07(0x204)]=this[_0x11ac07(0x1f5)]['data'];return this[_0x11ac07(0x204)];}[a0_0x4faf52(0x202)](_0x500432){return new Promise(async(_0x14faf3,_0x4b429f)=>{const _0x1e0e89=a0_0x8609;if(!_0x500432)return _0x4b429f(_0x500432);if(!this[_0x1e0e89(0x1f5)])return _0x14faf3(new this[(_0x1e0e89(0x206))]({'data':_0x500432})[_0x1e0e89(0x1eb)]());this[_0x1e0e89(0x206)][_0x1e0e89(0x1f3)](this[_0x1e0e89(0x1f5)][_0x1e0e89(0x1f4)],(_0x1302a5,_0x2c3ef6)=>{const _0x18f5ba=_0x1e0e89;if(_0x1302a5)return _0x4b429f(_0x1302a5);if(!_0x2c3ef6[_0x18f5ba(0x204)])_0x2c3ef6['data']={};return _0x2c3ef6[_0x18f5ba(0x204)]=_0x500432,this['data']={},_0x2c3ef6['save'](_0x14faf3);});});}}export const mongoDBV2=class MongoDBV2{constructor(_0x5d6aca,_0x44224e=defaultOptions){const _0xbcb97d=a0_0x4faf52;this['url']=_0x5d6aca,this[_0xbcb97d(0x1f0)]=_0x44224e,this['models']=[],this[_0xbcb97d(0x204)]={},this['lists'],this[_0xbcb97d(0x1e5)],this['db']=connect(this[_0xbcb97d(0x1f8)],{...this[_0xbcb97d(0x1f0)]})[_0xbcb97d(0x1f9)](console[_0xbcb97d(0x1f2)]);}async[a0_0x4faf52(0x1f6)](){const _0x57958f=a0_0x4faf52;this['conn']=await this['db'];const _0x227cc8=new Schema({'data':[{'name':String}]});try{this['list']=_model('lists',_0x227cc8);}catch(_0xc57a13){this[_0x57958f(0x1e5)]=_model(_0x57958f(0x1fc));}this['lists']=await this['list']['findOne']({});!lists?.[_0x57958f(0x204)]&&(await this[_0x57958f(0x1e5)][_0x57958f(0x1ea)]({'data':[]}),this[_0x57958f(0x1fc)]=await this[_0x57958f(0x1e5)]['findOne']({}));const _0x1af50b=[];for(const {name:_0x1c533f}of this[_0x57958f(0x1fc)][_0x57958f(0x204)]){let _0x332b24;try{_0x332b24=_model(_0x1c533f,new Schema({'data':Array}));}catch(_0x118f0c){console[_0x57958f(0x1f2)](_0x118f0c);try{_0x332b24=_model(_0x1c533f);}catch(_0x35de8a){_0x1af50b[_0x57958f(0x1fe)](_0x1c533f),console[_0x57958f(0x1f2)](_0x35de8a);}}if(_0x332b24){this[_0x57958f(0x1ff)][_0x57958f(0x1fe)]({'name':_0x1c533f,'model':_0x332b24});const _0x2e24bf=await _0x332b24[_0x57958f(0x1e2)]({});this['data'][_0x1c533f]=Object['fromEntries'](_0x2e24bf[_0x57958f(0x205)](_0x1fcace=>_0x1fcace[_0x57958f(0x204)]));}}try{const _0x424a71=await this[_0x57958f(0x1e5)][_0x57958f(0x1f3)](this[_0x57958f(0x1fc)][_0x57958f(0x1f4)]);_0x424a71['data']=_0x424a71[_0x57958f(0x204)]['filter'](_0x46ca9b=>!_0x1af50b[_0x57958f(0x1ed)](_0x46ca9b[_0x57958f(0x1f1)])),await _0x424a71[_0x57958f(0x1eb)]();}catch(_0x5a9917){console[_0x57958f(0x1f2)](_0x5a9917);}return this[_0x57958f(0x204)];}[a0_0x4faf52(0x202)](_0x3e2c44){return new Promise(async(_0x23ee88,_0x450278)=>{const _0x2900d6=a0_0x8609;if(!this['lists']||!_0x3e2c44)return _0x450278(_0x3e2c44||this[_0x2900d6(0x1fc)]);const _0x4a6dac=Object[_0x2900d6(0x1e7)](_0x3e2c44),_0x401bee=[];let _0x4d42bc=0x0;for(const _0x2e1752 of _0x4a6dac){if((_0x4d42bc=this[_0x2900d6(0x1ff)][_0x2900d6(0x1e3)](_0x32375f=>_0x32375f[_0x2900d6(0x1f1)]===_0x2e1752))!==-0x1){const _0x1f7175=this[_0x2900d6(0x1ff)][_0x4d42bc][_0x2900d6(0x1e8)];await _0x1f7175[_0x2900d6(0x1fa)]()[_0x2900d6(0x1f9)](console[_0x2900d6(0x1f2)]),await _0x1f7175[_0x2900d6(0x1e4)](Object[_0x2900d6(0x201)](_0x3e2c44[_0x2e1752])[_0x2900d6(0x205)](_0x573e7c=>({'data':_0x573e7c})));if(_0x1f7175&&_0x2e1752)_0x401bee[_0x2900d6(0x1fe)]({'name':_0x2e1752});}else{const _0x5736d7=new Schema({'data':Array});let _0x3b113a;try{_0x3b113a=_model(_0x2e1752,_0x5736d7);}catch(_0x4cb92a){console[_0x2900d6(0x1f2)](_0x4cb92a),_0x3b113a=_model(_0x2e1752);}_0x4d42bc=this[_0x2900d6(0x1ff)][_0x2900d6(0x1e3)](_0xd6727c=>_0xd6727c[_0x2900d6(0x1f1)]===_0x2e1752),this[_0x2900d6(0x1ff)][_0x4d42bc===-0x1?this[_0x2900d6(0x1ff)]['length']:_0x4d42bc]={'name':_0x2e1752,'model':_0x3b113a},await _0x3b113a[_0x2900d6(0x1e4)](Object[_0x2900d6(0x201)](_0x3e2c44[_0x2e1752])[_0x2900d6(0x205)](_0x38229d=>({'data':_0x38229d})));if(_0x3b113a&&_0x2e1752)_0x401bee['push']({'name':_0x2e1752});}}return this['list']['findById'](this[_0x2900d6(0x1fc)][_0x2900d6(0x1f4)],function(_0x18e91b,_0x1be291){const _0x58be2f=_0x2900d6;if(_0x18e91b)return _0x450278(_0x18e91b);return _0x1be291[_0x58be2f(0x204)]=_0x401bee,this['data']={},_0x1be291['save'](_0x23ee88);}),_0x23ee88(!![]);});}};