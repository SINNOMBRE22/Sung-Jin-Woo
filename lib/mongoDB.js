function a0_0x45ce(){const _0x515a38=['entries','findIndex','catch','conn','error','keys','length','findOne','find','lists','list','fromEntries','push','url','12356190LnLjOl','3092790XfSUxu','create','findById','data','300508jEMsGg','save','_schema','includes','filter','_data','_model','6nyOrOU','map','23373140zKpypq','read','models','name','7133NWpaTj','2584dyQNhY','_id','30iyxVAJ','6654168qVIfcm','322727LzAYhE','insertMany','options'];a0_0x45ce=function(){return _0x515a38;};return a0_0x45ce();}const a0_0x55663b=a0_0x2b83;(function(_0x2a9b91,_0x2b2820){const _0x4d5391=a0_0x2b83,_0xe2da9d=_0x2a9b91();while(!![]){try{const _0x5eec7f=parseInt(_0x4d5391(0x124))/0x1*(parseInt(_0x4d5391(0x119))/0x2)+parseInt(_0x4d5391(0x10e))/0x3+parseInt(_0x4d5391(0x112))/0x4*(parseInt(_0x4d5391(0x122))/0x5)+-parseInt(_0x4d5391(0x123))/0x6+parseInt(_0x4d5391(0x11f))/0x7*(parseInt(_0x4d5391(0x120))/0x8)+parseInt(_0x4d5391(0x10d))/0x9+-parseInt(_0x4d5391(0x11b))/0xa;if(_0x5eec7f===_0x2b2820)break;else _0xe2da9d['push'](_0xe2da9d['shift']());}catch(_0x269b54){_0xe2da9d['push'](_0xe2da9d['shift']());}}}(a0_0x45ce,0xac42a));import a0_0x270437 from'mongoose';function a0_0x2b83(_0xbfa4e5,_0x5aba7c){const _0x45ced8=a0_0x45ce();return a0_0x2b83=function(_0x2b834e,_0xc3dd00){_0x2b834e=_0x2b834e-0x106;let _0xb6a9b0=_0x45ced8[_0x2b834e];return _0xb6a9b0;},a0_0x2b83(_0xbfa4e5,_0x5aba7c);}const {Schema,connect,model:_model}=a0_0x270437,defaultOptions={'useNewUrlParser':!![],'useUnifiedTopology':!![]};export class mongoDB{constructor(_0x123918,_0x313250=defaultOptions){const _0x265f2c=a0_0x2b83;this['url']=_0x123918,this[_0x265f2c(0x126)]=_0x313250,this['data']=this[_0x265f2c(0x117)]={},this['_schema']={},this[_0x265f2c(0x118)]={},this['db']=connect(this[_0x265f2c(0x10c)],{...this['options']})[_0x265f2c(0x129)](console[_0x265f2c(0x12b)]);}async['read'](){const _0xb5588a=a0_0x2b83;this[_0xb5588a(0x12a)]=await this['db'];const _0x3b59a3=this[_0xb5588a(0x114)]=new Schema({'data':{'type':Object,'required':!![],'default':{}}});try{this[_0xb5588a(0x118)]=_model(_0xb5588a(0x111),_0x3b59a3);}catch{this['_model']=_model(_0xb5588a(0x111));}this[_0xb5588a(0x117)]=await this[_0xb5588a(0x118)][_0xb5588a(0x106)]({});if(!this[_0xb5588a(0x117)]){this[_0xb5588a(0x111)]={};const [_0x564866,_0x316e89]=await Promise['all']([this['write'](this[_0xb5588a(0x111)]),this['_model']['findOne']({})]);this['_data']=_0x316e89;}else this[_0xb5588a(0x111)]=this[_0xb5588a(0x117)][_0xb5588a(0x111)];return this[_0xb5588a(0x111)];}['write'](_0xaa9cde){return new Promise(async(_0x25034b,_0x7596f6)=>{const _0x4ae5ad=a0_0x2b83;if(!_0xaa9cde)return _0x7596f6(_0xaa9cde);if(!this['_data'])return _0x25034b(new this[(_0x4ae5ad(0x118))]({'data':_0xaa9cde})[_0x4ae5ad(0x113)]());this[_0x4ae5ad(0x118)][_0x4ae5ad(0x110)](this[_0x4ae5ad(0x117)][_0x4ae5ad(0x121)],(_0xa62ea9,_0x2c35bd)=>{const _0x2761e4=_0x4ae5ad;if(_0xa62ea9)return _0x7596f6(_0xa62ea9);if(!_0x2c35bd['data'])_0x2c35bd[_0x2761e4(0x111)]={};return _0x2c35bd[_0x2761e4(0x111)]=_0xaa9cde,this['data']={},_0x2c35bd[_0x2761e4(0x113)](_0x25034b);});});}}export const mongoDBV2=class MongoDBV2{constructor(_0x4ee29c,_0x1ade5b=defaultOptions){const _0x3aaf5e=a0_0x2b83;this[_0x3aaf5e(0x10c)]=_0x4ee29c,this[_0x3aaf5e(0x126)]=_0x1ade5b,this['models']=[],this[_0x3aaf5e(0x111)]={},this['lists'],this[_0x3aaf5e(0x109)],this['db']=connect(this[_0x3aaf5e(0x10c)],{...this[_0x3aaf5e(0x126)]})[_0x3aaf5e(0x129)](console[_0x3aaf5e(0x12b)]);}async[a0_0x55663b(0x11c)](){const _0x22272c=a0_0x55663b;this[_0x22272c(0x12a)]=await this['db'];const _0x3bc8c7=new Schema({'data':[{'name':String}]});try{this[_0x22272c(0x109)]=_model(_0x22272c(0x108),_0x3bc8c7);}catch(_0x82febf){this[_0x22272c(0x109)]=_model(_0x22272c(0x108));}this[_0x22272c(0x108)]=await this[_0x22272c(0x109)]['findOne']({});!lists?.[_0x22272c(0x111)]&&(await this[_0x22272c(0x109)][_0x22272c(0x10f)]({'data':[]}),this[_0x22272c(0x108)]=await this[_0x22272c(0x109)][_0x22272c(0x106)]({}));const _0xea743c=[];for(const {name:_0x20cf84}of this['lists']['data']){let _0x317005;try{_0x317005=_model(_0x20cf84,new Schema({'data':Array}));}catch(_0x1de624){console['error'](_0x1de624);try{_0x317005=_model(_0x20cf84);}catch(_0x22533f){_0xea743c[_0x22272c(0x10b)](_0x20cf84),console[_0x22272c(0x12b)](_0x22533f);}}if(_0x317005){this['models'][_0x22272c(0x10b)]({'name':_0x20cf84,'model':_0x317005});const _0x25cf3e=await _0x317005[_0x22272c(0x107)]({});this['data'][_0x20cf84]=Object[_0x22272c(0x10a)](_0x25cf3e[_0x22272c(0x11a)](_0x5434eb=>_0x5434eb[_0x22272c(0x111)]));}}try{const _0xc4c1bc=await this['list']['findById'](this[_0x22272c(0x108)][_0x22272c(0x121)]);_0xc4c1bc[_0x22272c(0x111)]=_0xc4c1bc[_0x22272c(0x111)][_0x22272c(0x116)](_0x2407e6=>!_0xea743c[_0x22272c(0x115)](_0x2407e6[_0x22272c(0x11e)])),await _0xc4c1bc[_0x22272c(0x113)]();}catch(_0x3aedbd){console[_0x22272c(0x12b)](_0x3aedbd);}return this[_0x22272c(0x111)];}['write'](_0x529632){return new Promise(async(_0x4ffa93,_0xbe2eb4)=>{const _0x46ff3c=a0_0x2b83;if(!this['lists']||!_0x529632)return _0xbe2eb4(_0x529632||this[_0x46ff3c(0x108)]);const _0x49a9cf=Object[_0x46ff3c(0x12c)](_0x529632),_0x32c7fe=[];let _0x3c8b76=0x0;for(const _0x3e14fc of _0x49a9cf){if((_0x3c8b76=this['models'][_0x46ff3c(0x128)](_0x23ec2e=>_0x23ec2e[_0x46ff3c(0x11e)]===_0x3e14fc))!==-0x1){const _0x508a21=this[_0x46ff3c(0x11d)][_0x3c8b76]['model'];await _0x508a21['deleteMany']()[_0x46ff3c(0x129)](console[_0x46ff3c(0x12b)]),await _0x508a21[_0x46ff3c(0x125)](Object[_0x46ff3c(0x127)](_0x529632[_0x3e14fc])[_0x46ff3c(0x11a)](_0x5c5729=>({'data':_0x5c5729})));if(_0x508a21&&_0x3e14fc)_0x32c7fe[_0x46ff3c(0x10b)]({'name':_0x3e14fc});}else{const _0x4c61cb=new Schema({'data':Array});let _0x2ee7fa;try{_0x2ee7fa=_model(_0x3e14fc,_0x4c61cb);}catch(_0x1d2254){console[_0x46ff3c(0x12b)](_0x1d2254),_0x2ee7fa=_model(_0x3e14fc);}_0x3c8b76=this['models']['findIndex'](_0x9a87c=>_0x9a87c[_0x46ff3c(0x11e)]===_0x3e14fc),this[_0x46ff3c(0x11d)][_0x3c8b76===-0x1?this[_0x46ff3c(0x11d)][_0x46ff3c(0x12d)]:_0x3c8b76]={'name':_0x3e14fc,'model':_0x2ee7fa},await _0x2ee7fa[_0x46ff3c(0x125)](Object[_0x46ff3c(0x127)](_0x529632[_0x3e14fc])[_0x46ff3c(0x11a)](_0xaf6d92=>({'data':_0xaf6d92})));if(_0x2ee7fa&&_0x3e14fc)_0x32c7fe[_0x46ff3c(0x10b)]({'name':_0x3e14fc});}}return this[_0x46ff3c(0x109)][_0x46ff3c(0x110)](this[_0x46ff3c(0x108)][_0x46ff3c(0x121)],function(_0x1ce810,_0xaf4459){const _0x43ed40=_0x46ff3c;if(_0x1ce810)return _0xbe2eb4(_0x1ce810);return _0xaf4459[_0x43ed40(0x111)]=_0x32c7fe,this[_0x43ed40(0x111)]={},_0xaf4459[_0x43ed40(0x113)](_0x4ffa93);}),_0x4ffa93(!![]);});}};