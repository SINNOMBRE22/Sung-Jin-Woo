const a0_0xf47a63=a0_0x2cc2;function a0_0x2cc2(_0x3a69d1,_0x3cbe92){const _0x16a48c=a0_0x16a4();return a0_0x2cc2=function(_0x2cc2d5,_0x2f09f1){_0x2cc2d5=_0x2cc2d5-0x157;let _0x28864a=_0x16a48c[_0x2cc2d5];return _0x28864a;},a0_0x2cc2(_0x3a69d1,_0x3cbe92);}(function(_0x1956ff,_0x391197){const _0x359768=a0_0x2cc2,_0x6b0c68=_0x1956ff();while(!![]){try{const _0x27983c=parseInt(_0x359768(0x17f))/0x1+-parseInt(_0x359768(0x181))/0x2+-parseInt(_0x359768(0x15c))/0x3+-parseInt(_0x359768(0x16c))/0x4*(-parseInt(_0x359768(0x158))/0x5)+-parseInt(_0x359768(0x17a))/0x6*(-parseInt(_0x359768(0x17c))/0x7)+-parseInt(_0x359768(0x180))/0x8+parseInt(_0x359768(0x15a))/0x9*(parseInt(_0x359768(0x171))/0xa);if(_0x27983c===_0x391197)break;else _0x6b0c68['push'](_0x6b0c68['shift']());}catch(_0x15d49c){_0x6b0c68['push'](_0x6b0c68['shift']());}}}(a0_0x16a4,0xadb7e));import a0_0x45372f from'mongoose';const {Schema,connect,model:_model}=a0_0x45372f,defaultOptions={'useNewUrlParser':!![],'useUnifiedTopology':!![]};export class mongoDB{constructor(_0x85c423,_0xea3446=defaultOptions){const _0x2db68b=a0_0x2cc2;this[_0x2db68b(0x175)]=_0x85c423,this[_0x2db68b(0x160)]=_0xea3446,this['data']=this[_0x2db68b(0x17e)]={},this[_0x2db68b(0x16b)]={},this[_0x2db68b(0x161)]={},this['db']=connect(this[_0x2db68b(0x175)],{...this['options']})[_0x2db68b(0x159)](console[_0x2db68b(0x173)]);}async[a0_0xf47a63(0x16e)](){const _0x3b539b=a0_0xf47a63;this[_0x3b539b(0x164)]=await this['db'];const _0x452d11=this[_0x3b539b(0x16b)]=new Schema({'data':{'type':Object,'required':!![],'default':{}}});try{this['_model']=_model(_0x3b539b(0x167),_0x452d11);}catch{this['_model']=_model(_0x3b539b(0x167));}this[_0x3b539b(0x17e)]=await this['_model'][_0x3b539b(0x179)]({});if(!this['_data']){this[_0x3b539b(0x167)]={};const [_0x485d65,_0x3241f4]=await Promise[_0x3b539b(0x16f)]([this[_0x3b539b(0x15b)](this[_0x3b539b(0x167)]),this[_0x3b539b(0x161)][_0x3b539b(0x179)]({})]);this[_0x3b539b(0x17e)]=_0x3241f4;}else this['data']=this['_data'][_0x3b539b(0x167)];return this[_0x3b539b(0x167)];}['write'](_0x7d3b1e){return new Promise(async(_0x267939,_0x1031d3)=>{const _0x11cbc8=a0_0x2cc2;if(!_0x7d3b1e)return _0x1031d3(_0x7d3b1e);if(!this[_0x11cbc8(0x17e)])return _0x267939(new this[(_0x11cbc8(0x161))]({'data':_0x7d3b1e})[_0x11cbc8(0x17d)]());this[_0x11cbc8(0x161)][_0x11cbc8(0x169)](this['_data']['_id'],(_0xc630b,_0x358f11)=>{const _0x1eacf1=_0x11cbc8;if(_0xc630b)return _0x1031d3(_0xc630b);if(!_0x358f11[_0x1eacf1(0x167)])_0x358f11[_0x1eacf1(0x167)]={};return _0x358f11[_0x1eacf1(0x167)]=_0x7d3b1e,this[_0x1eacf1(0x167)]={},_0x358f11[_0x1eacf1(0x17d)](_0x267939);});});}}export const mongoDBV2=class MongoDBV2{constructor(_0x4c0f6b,_0x3736a1=defaultOptions){const _0x2c55ac=a0_0xf47a63;this[_0x2c55ac(0x175)]=_0x4c0f6b,this[_0x2c55ac(0x160)]=_0x3736a1,this['models']=[],this['data']={},this[_0x2c55ac(0x163)],this[_0x2c55ac(0x157)],this['db']=connect(this['url'],{...this[_0x2c55ac(0x160)]})[_0x2c55ac(0x159)](console[_0x2c55ac(0x173)]);}async[a0_0xf47a63(0x16e)](){const _0x4878e3=a0_0xf47a63;this[_0x4878e3(0x164)]=await this['db'];const _0x529ef0=new Schema({'data':[{'name':String}]});try{this[_0x4878e3(0x157)]=_model(_0x4878e3(0x163),_0x529ef0);}catch(_0x43134c){this[_0x4878e3(0x157)]=_model('lists');}this['lists']=await this[_0x4878e3(0x157)][_0x4878e3(0x179)]({});!lists?.[_0x4878e3(0x167)]&&(await this[_0x4878e3(0x157)][_0x4878e3(0x15d)]({'data':[]}),this[_0x4878e3(0x163)]=await this['list'][_0x4878e3(0x179)]({}));const _0x3ed5ab=[];for(const {name:_0x2675fe}of this[_0x4878e3(0x163)][_0x4878e3(0x167)]){let _0xd24484;try{_0xd24484=_model(_0x2675fe,new Schema({'data':Array}));}catch(_0x1039a7){console['error'](_0x1039a7);try{_0xd24484=_model(_0x2675fe);}catch(_0x111384){_0x3ed5ab[_0x4878e3(0x166)](_0x2675fe),console[_0x4878e3(0x173)](_0x111384);}}if(_0xd24484){this[_0x4878e3(0x165)][_0x4878e3(0x166)]({'name':_0x2675fe,'model':_0xd24484});const _0x5db502=await _0xd24484[_0x4878e3(0x162)]({});this[_0x4878e3(0x167)][_0x2675fe]=Object[_0x4878e3(0x15f)](_0x5db502[_0x4878e3(0x172)](_0x2ceeeb=>_0x2ceeeb['data']));}}try{const _0x3e983e=await this['list']['findById'](this[_0x4878e3(0x163)]['_id']);_0x3e983e[_0x4878e3(0x167)]=_0x3e983e[_0x4878e3(0x167)][_0x4878e3(0x170)](_0x45384b=>!_0x3ed5ab[_0x4878e3(0x174)](_0x45384b[_0x4878e3(0x168)])),await _0x3e983e[_0x4878e3(0x17d)]();}catch(_0x21ba25){console[_0x4878e3(0x173)](_0x21ba25);}return this[_0x4878e3(0x167)];}[a0_0xf47a63(0x15b)](_0x31ce24){return new Promise(async(_0x55b48c,_0x380362)=>{const _0x282f3a=a0_0x2cc2;if(!this[_0x282f3a(0x163)]||!_0x31ce24)return _0x380362(_0x31ce24||this[_0x282f3a(0x163)]);const _0x225d66=Object[_0x282f3a(0x176)](_0x31ce24),_0x9fc5f2=[];let _0xec200a=0x0;for(const _0x4c6c52 of _0x225d66){if((_0xec200a=this[_0x282f3a(0x165)][_0x282f3a(0x178)](_0xcf5e03=>_0xcf5e03['name']===_0x4c6c52))!==-0x1){const _0x340383=this['models'][_0xec200a][_0x282f3a(0x17b)];await _0x340383[_0x282f3a(0x16d)]()[_0x282f3a(0x159)](console['error']),await _0x340383[_0x282f3a(0x16a)](Object[_0x282f3a(0x15e)](_0x31ce24[_0x4c6c52])[_0x282f3a(0x172)](_0x4b3d03=>({'data':_0x4b3d03})));if(_0x340383&&_0x4c6c52)_0x9fc5f2[_0x282f3a(0x166)]({'name':_0x4c6c52});}else{const _0x223ed1=new Schema({'data':Array});let _0x36f4a3;try{_0x36f4a3=_model(_0x4c6c52,_0x223ed1);}catch(_0x6f96b8){console[_0x282f3a(0x173)](_0x6f96b8),_0x36f4a3=_model(_0x4c6c52);}_0xec200a=this['models'][_0x282f3a(0x178)](_0x1a1cd5=>_0x1a1cd5['name']===_0x4c6c52),this[_0x282f3a(0x165)][_0xec200a===-0x1?this[_0x282f3a(0x165)][_0x282f3a(0x177)]:_0xec200a]={'name':_0x4c6c52,'model':_0x36f4a3},await _0x36f4a3[_0x282f3a(0x16a)](Object[_0x282f3a(0x15e)](_0x31ce24[_0x4c6c52])[_0x282f3a(0x172)](_0x5396b9=>({'data':_0x5396b9})));if(_0x36f4a3&&_0x4c6c52)_0x9fc5f2[_0x282f3a(0x166)]({'name':_0x4c6c52});}}return this[_0x282f3a(0x157)][_0x282f3a(0x169)](this[_0x282f3a(0x163)]['_id'],function(_0x463de4,_0x2ec383){const _0x3e93aa=_0x282f3a;if(_0x463de4)return _0x380362(_0x463de4);return _0x2ec383[_0x3e93aa(0x167)]=_0x9fc5f2,this[_0x3e93aa(0x167)]={},_0x2ec383['save'](_0x55b48c);}),_0x55b48c(!![]);});}};function a0_0x16a4(){const _0xca3636=['options','_model','find','lists','conn','models','push','data','name','findById','insertMany','_schema','4psSRbt','deleteMany','read','all','filter','10MSZuVO','map','error','includes','url','keys','length','findIndex','findOne','5883594JAjtwx','model','7zAFWWP','save','_data','256815kIvryl','8025360KbfBPS','2067222RvgSJT','list','4294665JyXDFK','catch','6154668UveeOv','write','95604nvxXGm','create','entries','fromEntries'];a0_0x16a4=function(){return _0xca3636;};return a0_0x16a4();}