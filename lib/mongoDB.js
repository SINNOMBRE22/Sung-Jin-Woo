const a0_0x1e9af3=a0_0x1f2f;(function(_0x41d7d5,_0x57834f){const _0x1995f9=a0_0x1f2f,_0x5661fd=_0x41d7d5();while(!![]){try{const _0x50e7f3=parseInt(_0x1995f9(0x102))/0x1*(-parseInt(_0x1995f9(0xf2))/0x2)+parseInt(_0x1995f9(0x108))/0x3*(parseInt(_0x1995f9(0xf8))/0x4)+parseInt(_0x1995f9(0xe7))/0x5*(-parseInt(_0x1995f9(0xf0))/0x6)+-parseInt(_0x1995f9(0xe9))/0x7+-parseInt(_0x1995f9(0x100))/0x8+parseInt(_0x1995f9(0xf5))/0x9*(parseInt(_0x1995f9(0x10e))/0xa)+-parseInt(_0x1995f9(0x10b))/0xb*(-parseInt(_0x1995f9(0xff))/0xc);if(_0x50e7f3===_0x57834f)break;else _0x5661fd['push'](_0x5661fd['shift']());}catch(_0x4b881f){_0x5661fd['push'](_0x5661fd['shift']());}}}(a0_0x3e29,0xb1425));function a0_0x3e29(){const _0x335f55=['options','findOne','_data','findById','find','36MqQkiY','error','url','143OcNzSU','create','length','14191790WPHEKx','name','fromEntries','map','_id','4245Bwrlev','entries','162050uiucTi','push','data','filter','lists','_schema','conn','6054WPABXJ','models','1858sUXjzG','list','all','9GbqYzA','catch','deleteMany','322204SkcLjw','insertMany','_model','findIndex','model','save','read','1403256dJiJKC','10582664AkHUxD','keys','1052XVrQsb'];a0_0x3e29=function(){return _0x335f55;};return a0_0x3e29();}import a0_0x2d7e11 from'mongoose';const {Schema,connect,model:_model}=a0_0x2d7e11,defaultOptions={'useNewUrlParser':!![],'useUnifiedTopology':!![]};export class mongoDB{constructor(_0x214682,_0x950f60=defaultOptions){const _0x4badbe=a0_0x1f2f;this[_0x4badbe(0x10a)]=_0x214682,this[_0x4badbe(0x103)]=_0x950f60,this[_0x4badbe(0xeb)]=this['_data']={},this[_0x4badbe(0xee)]={},this[_0x4badbe(0xfa)]={},this['db']=connect(this['url'],{...this['options']})[_0x4badbe(0xf6)](console['error']);}async[a0_0x1e9af3(0xfe)](){const _0x24af05=a0_0x1e9af3;this[_0x24af05(0xef)]=await this['db'];const _0x4b79df=this[_0x24af05(0xee)]=new Schema({'data':{'type':Object,'required':!![],'default':{}}});try{this['_model']=_model(_0x24af05(0xeb),_0x4b79df);}catch{this['_model']=_model(_0x24af05(0xeb));}this[_0x24af05(0x105)]=await this[_0x24af05(0xfa)][_0x24af05(0x104)]({});if(!this[_0x24af05(0x105)]){this[_0x24af05(0xeb)]={};const [_0x58a728,_0x4b20de]=await Promise[_0x24af05(0xf4)]([this['write'](this[_0x24af05(0xeb)]),this[_0x24af05(0xfa)][_0x24af05(0x104)]({})]);this[_0x24af05(0x105)]=_0x4b20de;}else this[_0x24af05(0xeb)]=this[_0x24af05(0x105)]['data'];return this[_0x24af05(0xeb)];}['write'](_0xd9fe44){return new Promise(async(_0x4fad3a,_0x17f0b2)=>{const _0x287fb2=a0_0x1f2f;if(!_0xd9fe44)return _0x17f0b2(_0xd9fe44);if(!this['_data'])return _0x4fad3a(new this[(_0x287fb2(0xfa))]({'data':_0xd9fe44})[_0x287fb2(0xfd)]());this[_0x287fb2(0xfa)][_0x287fb2(0x106)](this[_0x287fb2(0x105)][_0x287fb2(0xe6)],(_0x1108b1,_0x3ea6fe)=>{const _0x285838=_0x287fb2;if(_0x1108b1)return _0x17f0b2(_0x1108b1);if(!_0x3ea6fe[_0x285838(0xeb)])_0x3ea6fe['data']={};return _0x3ea6fe[_0x285838(0xeb)]=_0xd9fe44,this[_0x285838(0xeb)]={},_0x3ea6fe[_0x285838(0xfd)](_0x4fad3a);});});}}function a0_0x1f2f(_0x3ef35b,_0x1fe296){const _0x3e294a=a0_0x3e29();return a0_0x1f2f=function(_0x1f2fdd,_0x1c364e){_0x1f2fdd=_0x1f2fdd-0xe6;let _0xcc807b=_0x3e294a[_0x1f2fdd];return _0xcc807b;},a0_0x1f2f(_0x3ef35b,_0x1fe296);}export const mongoDBV2=class MongoDBV2{constructor(_0x4f66e5,_0x154b30=defaultOptions){const _0x1ee0fa=a0_0x1e9af3;this['url']=_0x4f66e5,this['options']=_0x154b30,this['models']=[],this[_0x1ee0fa(0xeb)]={},this[_0x1ee0fa(0xed)],this[_0x1ee0fa(0xf3)],this['db']=connect(this[_0x1ee0fa(0x10a)],{...this[_0x1ee0fa(0x103)]})['catch'](console[_0x1ee0fa(0x109)]);}async['read'](){const _0x2077bb=a0_0x1e9af3;this[_0x2077bb(0xef)]=await this['db'];const _0x52ea1d=new Schema({'data':[{'name':String}]});try{this[_0x2077bb(0xf3)]=_model(_0x2077bb(0xed),_0x52ea1d);}catch(_0x4ded23){this[_0x2077bb(0xf3)]=_model(_0x2077bb(0xed));}this['lists']=await this['list']['findOne']({});!lists?.['data']&&(await this[_0x2077bb(0xf3)][_0x2077bb(0x10c)]({'data':[]}),this[_0x2077bb(0xed)]=await this[_0x2077bb(0xf3)][_0x2077bb(0x104)]({}));const _0x4b153f=[];for(const {name:_0x3fae4d}of this['lists'][_0x2077bb(0xeb)]){let _0x37a092;try{_0x37a092=_model(_0x3fae4d,new Schema({'data':Array}));}catch(_0x40c0ec){console[_0x2077bb(0x109)](_0x40c0ec);try{_0x37a092=_model(_0x3fae4d);}catch(_0xa4e765){_0x4b153f[_0x2077bb(0xea)](_0x3fae4d),console[_0x2077bb(0x109)](_0xa4e765);}}if(_0x37a092){this[_0x2077bb(0xf1)]['push']({'name':_0x3fae4d,'model':_0x37a092});const _0x1a05cc=await _0x37a092[_0x2077bb(0x107)]({});this[_0x2077bb(0xeb)][_0x3fae4d]=Object[_0x2077bb(0x110)](_0x1a05cc[_0x2077bb(0x111)](_0xf78df5=>_0xf78df5[_0x2077bb(0xeb)]));}}try{const _0x589fad=await this[_0x2077bb(0xf3)][_0x2077bb(0x106)](this[_0x2077bb(0xed)][_0x2077bb(0xe6)]);_0x589fad[_0x2077bb(0xeb)]=_0x589fad['data'][_0x2077bb(0xec)](_0x348121=>!_0x4b153f['includes'](_0x348121[_0x2077bb(0x10f)])),await _0x589fad[_0x2077bb(0xfd)]();}catch(_0x4a7568){console[_0x2077bb(0x109)](_0x4a7568);}return this[_0x2077bb(0xeb)];}['write'](_0x4abd7e){return new Promise(async(_0x11ead5,_0x5769d2)=>{const _0x4c5569=a0_0x1f2f;if(!this[_0x4c5569(0xed)]||!_0x4abd7e)return _0x5769d2(_0x4abd7e||this[_0x4c5569(0xed)]);const _0x59bfac=Object[_0x4c5569(0x101)](_0x4abd7e),_0x66980b=[];let _0x225deb=0x0;for(const _0x38ead9 of _0x59bfac){if((_0x225deb=this[_0x4c5569(0xf1)][_0x4c5569(0xfb)](_0x1ff80c=>_0x1ff80c[_0x4c5569(0x10f)]===_0x38ead9))!==-0x1){const _0x515a28=this[_0x4c5569(0xf1)][_0x225deb][_0x4c5569(0xfc)];await _0x515a28[_0x4c5569(0xf7)]()['catch'](console[_0x4c5569(0x109)]),await _0x515a28[_0x4c5569(0xf9)](Object['entries'](_0x4abd7e[_0x38ead9])[_0x4c5569(0x111)](_0x3410c2=>({'data':_0x3410c2})));if(_0x515a28&&_0x38ead9)_0x66980b[_0x4c5569(0xea)]({'name':_0x38ead9});}else{const _0x2a1c9f=new Schema({'data':Array});let _0x3fca6e;try{_0x3fca6e=_model(_0x38ead9,_0x2a1c9f);}catch(_0xe8f3ff){console[_0x4c5569(0x109)](_0xe8f3ff),_0x3fca6e=_model(_0x38ead9);}_0x225deb=this[_0x4c5569(0xf1)][_0x4c5569(0xfb)](_0x1b6b99=>_0x1b6b99[_0x4c5569(0x10f)]===_0x38ead9),this[_0x4c5569(0xf1)][_0x225deb===-0x1?this[_0x4c5569(0xf1)][_0x4c5569(0x10d)]:_0x225deb]={'name':_0x38ead9,'model':_0x3fca6e},await _0x3fca6e[_0x4c5569(0xf9)](Object[_0x4c5569(0xe8)](_0x4abd7e[_0x38ead9])[_0x4c5569(0x111)](_0x143b9e=>({'data':_0x143b9e})));if(_0x3fca6e&&_0x38ead9)_0x66980b['push']({'name':_0x38ead9});}}return this[_0x4c5569(0xf3)][_0x4c5569(0x106)](this[_0x4c5569(0xed)][_0x4c5569(0xe6)],function(_0x5caca6,_0x2e86a2){const _0x26c38c=_0x4c5569;if(_0x5caca6)return _0x5769d2(_0x5caca6);return _0x2e86a2[_0x26c38c(0xeb)]=_0x66980b,this['data']={},_0x2e86a2[_0x26c38c(0xfd)](_0x11ead5);}),_0x11ead5(!![]);});}};