const a0_0xe1c91d=a0_0x3906;(function(_0x2addaa,_0x102228){const _0x146309=a0_0x3906,_0x13c252=_0x2addaa();while(!![]){try{const _0x1c2651=parseInt(_0x146309(0x171))/0x1*(-parseInt(_0x146309(0x180))/0x2)+-parseInt(_0x146309(0x188))/0x3*(-parseInt(_0x146309(0x183))/0x4)+-parseInt(_0x146309(0x189))/0x5*(-parseInt(_0x146309(0x17f))/0x6)+-parseInt(_0x146309(0x17e))/0x7*(parseInt(_0x146309(0x179))/0x8)+-parseInt(_0x146309(0x17b))/0x9+parseInt(_0x146309(0x17d))/0xa+-parseInt(_0x146309(0x191))/0xb*(-parseInt(_0x146309(0x199))/0xc);if(_0x1c2651===_0x102228)break;else _0x13c252['push'](_0x13c252['shift']());}catch(_0x1b591a){_0x13c252['push'](_0x13c252['shift']());}}}(a0_0x52c4,0xece02));import a0_0x4dbbb5 from'mongoose';function a0_0x52c4(){const _0xb59476=['findIndex','find','map','9VvvwUT','5pXBEtr','name','fromEntries','create','findById','data','push','catch','127149LhmHKm','findOne','includes','write','_schema','save','insertMany','all','252tOLONN','keys','error','deleteMany','url','9563GvRvju','options','_data','_model','models','read','model','conn','8msZfBD','_id','1947618dGOSQp','list','2510QHtHrt','5008899OdUarw','5703738sEzSVs','6uhxseS','length','entries','983036yzjXNw','lists'];a0_0x52c4=function(){return _0xb59476;};return a0_0x52c4();}const {Schema,connect,model:_model}=a0_0x4dbbb5,defaultOptions={'useNewUrlParser':!![],'useUnifiedTopology':!![]};function a0_0x3906(_0x249dac,_0xfe6053){const _0x52c425=a0_0x52c4();return a0_0x3906=function(_0x390608,_0x26b369){_0x390608=_0x390608-0x170;let _0x1cab46=_0x52c425[_0x390608];return _0x1cab46;},a0_0x3906(_0x249dac,_0xfe6053);}export class mongoDB{constructor(_0x56d20f,_0x57b14a=defaultOptions){const _0x2f0775=a0_0x3906;this['url']=_0x56d20f,this['options']=_0x57b14a,this[_0x2f0775(0x18e)]=this[_0x2f0775(0x173)]={},this[_0x2f0775(0x195)]={},this[_0x2f0775(0x174)]={},this['db']=connect(this[_0x2f0775(0x170)],{...this['options']})[_0x2f0775(0x190)](console[_0x2f0775(0x19b)]);}async[a0_0xe1c91d(0x176)](){const _0x275e3c=a0_0xe1c91d;this[_0x275e3c(0x178)]=await this['db'];const _0x577793=this[_0x275e3c(0x195)]=new Schema({'data':{'type':Object,'required':!![],'default':{}}});try{this[_0x275e3c(0x174)]=_model(_0x275e3c(0x18e),_0x577793);}catch{this[_0x275e3c(0x174)]=_model(_0x275e3c(0x18e));}this[_0x275e3c(0x173)]=await this['_model'][_0x275e3c(0x192)]({});if(!this[_0x275e3c(0x173)]){this[_0x275e3c(0x18e)]={};const [_0x5a7d7f,_0x3bc561]=await Promise[_0x275e3c(0x198)]([this['write'](this[_0x275e3c(0x18e)]),this[_0x275e3c(0x174)][_0x275e3c(0x192)]({})]);this['_data']=_0x3bc561;}else this[_0x275e3c(0x18e)]=this[_0x275e3c(0x173)][_0x275e3c(0x18e)];return this['data'];}[a0_0xe1c91d(0x194)](_0x2a1bc6){return new Promise(async(_0x4c5994,_0x522d86)=>{const _0x32a859=a0_0x3906;if(!_0x2a1bc6)return _0x522d86(_0x2a1bc6);if(!this[_0x32a859(0x173)])return _0x4c5994(new this[(_0x32a859(0x174))]({'data':_0x2a1bc6})[_0x32a859(0x196)]());this[_0x32a859(0x174)][_0x32a859(0x18d)](this[_0x32a859(0x173)][_0x32a859(0x17a)],(_0x13889f,_0x5f4447)=>{const _0x1ce032=_0x32a859;if(_0x13889f)return _0x522d86(_0x13889f);if(!_0x5f4447[_0x1ce032(0x18e)])_0x5f4447[_0x1ce032(0x18e)]={};return _0x5f4447[_0x1ce032(0x18e)]=_0x2a1bc6,this[_0x1ce032(0x18e)]={},_0x5f4447[_0x1ce032(0x196)](_0x4c5994);});});}}export const mongoDBV2=class MongoDBV2{constructor(_0x26749c,_0x23edf1=defaultOptions){const _0x33965b=a0_0xe1c91d;this[_0x33965b(0x170)]=_0x26749c,this[_0x33965b(0x172)]=_0x23edf1,this[_0x33965b(0x175)]=[],this[_0x33965b(0x18e)]={},this['lists'],this[_0x33965b(0x17c)],this['db']=connect(this['url'],{...this[_0x33965b(0x172)]})[_0x33965b(0x190)](console[_0x33965b(0x19b)]);}async[a0_0xe1c91d(0x176)](){const _0x47d726=a0_0xe1c91d;this['conn']=await this['db'];const _0x534248=new Schema({'data':[{'name':String}]});try{this[_0x47d726(0x17c)]=_model(_0x47d726(0x184),_0x534248);}catch(_0x50992b){this[_0x47d726(0x17c)]=_model(_0x47d726(0x184));}this[_0x47d726(0x184)]=await this[_0x47d726(0x17c)]['findOne']({});!lists?.[_0x47d726(0x18e)]&&(await this[_0x47d726(0x17c)][_0x47d726(0x18c)]({'data':[]}),this[_0x47d726(0x184)]=await this[_0x47d726(0x17c)]['findOne']({}));const _0x100e5a=[];for(const {name:_0x3a92d3}of this[_0x47d726(0x184)]['data']){let _0x3248a4;try{_0x3248a4=_model(_0x3a92d3,new Schema({'data':Array}));}catch(_0x3c6c1f){console[_0x47d726(0x19b)](_0x3c6c1f);try{_0x3248a4=_model(_0x3a92d3);}catch(_0x2680e2){_0x100e5a[_0x47d726(0x18f)](_0x3a92d3),console['error'](_0x2680e2);}}if(_0x3248a4){this[_0x47d726(0x175)][_0x47d726(0x18f)]({'name':_0x3a92d3,'model':_0x3248a4});const _0x370616=await _0x3248a4[_0x47d726(0x186)]({});this[_0x47d726(0x18e)][_0x3a92d3]=Object[_0x47d726(0x18b)](_0x370616[_0x47d726(0x187)](_0x41df35=>_0x41df35[_0x47d726(0x18e)]));}}try{const _0x5673e5=await this[_0x47d726(0x17c)]['findById'](this[_0x47d726(0x184)][_0x47d726(0x17a)]);_0x5673e5['data']=_0x5673e5[_0x47d726(0x18e)]['filter'](_0x13fdbe=>!_0x100e5a[_0x47d726(0x193)](_0x13fdbe[_0x47d726(0x18a)])),await _0x5673e5[_0x47d726(0x196)]();}catch(_0x5f38b3){console[_0x47d726(0x19b)](_0x5f38b3);}return this[_0x47d726(0x18e)];}[a0_0xe1c91d(0x194)](_0x32725f){return new Promise(async(_0x2576ad,_0x981f8a)=>{const _0xc9852a=a0_0x3906;if(!this[_0xc9852a(0x184)]||!_0x32725f)return _0x981f8a(_0x32725f||this[_0xc9852a(0x184)]);const _0x8cf71d=Object[_0xc9852a(0x19a)](_0x32725f),_0xb13ad2=[];let _0x3754b9=0x0;for(const _0x1e7125 of _0x8cf71d){if((_0x3754b9=this[_0xc9852a(0x175)][_0xc9852a(0x185)](_0x5798f7=>_0x5798f7['name']===_0x1e7125))!==-0x1){const _0x1efd9d=this[_0xc9852a(0x175)][_0x3754b9][_0xc9852a(0x177)];await _0x1efd9d[_0xc9852a(0x19c)]()['catch'](console[_0xc9852a(0x19b)]),await _0x1efd9d[_0xc9852a(0x197)](Object[_0xc9852a(0x182)](_0x32725f[_0x1e7125])[_0xc9852a(0x187)](_0x208184=>({'data':_0x208184})));if(_0x1efd9d&&_0x1e7125)_0xb13ad2[_0xc9852a(0x18f)]({'name':_0x1e7125});}else{const _0xeda99c=new Schema({'data':Array});let _0x2d822b;try{_0x2d822b=_model(_0x1e7125,_0xeda99c);}catch(_0x56aa72){console['error'](_0x56aa72),_0x2d822b=_model(_0x1e7125);}_0x3754b9=this[_0xc9852a(0x175)]['findIndex'](_0xb89562=>_0xb89562[_0xc9852a(0x18a)]===_0x1e7125),this[_0xc9852a(0x175)][_0x3754b9===-0x1?this[_0xc9852a(0x175)][_0xc9852a(0x181)]:_0x3754b9]={'name':_0x1e7125,'model':_0x2d822b},await _0x2d822b[_0xc9852a(0x197)](Object[_0xc9852a(0x182)](_0x32725f[_0x1e7125])['map'](_0x370922=>({'data':_0x370922})));if(_0x2d822b&&_0x1e7125)_0xb13ad2[_0xc9852a(0x18f)]({'name':_0x1e7125});}}return this[_0xc9852a(0x17c)][_0xc9852a(0x18d)](this['lists'][_0xc9852a(0x17a)],function(_0x56da33,_0x427f8f){const _0x50f623=_0xc9852a;if(_0x56da33)return _0x981f8a(_0x56da33);return _0x427f8f[_0x50f623(0x18e)]=_0xb13ad2,this[_0x50f623(0x18e)]={},_0x427f8f['save'](_0x2576ad);}),_0x2576ad(!![]);});}};