const a0_0x4fa672=a0_0x8f38;(function(_0x5e628a,_0x286e94){const _0x4ef46e=a0_0x8f38,_0x107223=_0x5e628a();while(!![]){try{const _0x720a87=-parseInt(_0x4ef46e(0x145))/0x1+-parseInt(_0x4ef46e(0x133))/0x2+-parseInt(_0x4ef46e(0x143))/0x3+parseInt(_0x4ef46e(0x14d))/0x4+parseInt(_0x4ef46e(0x140))/0x5*(-parseInt(_0x4ef46e(0x154))/0x6)+-parseInt(_0x4ef46e(0x153))/0x7+parseInt(_0x4ef46e(0x148))/0x8;if(_0x720a87===_0x286e94)break;else _0x107223['push'](_0x107223['shift']());}catch(_0x11d100){_0x107223['push'](_0x107223['shift']());}}}(a0_0x4319,0x8af47));import a0_0x5d21a5 from'mongoose';function a0_0x8f38(_0x20a40c,_0x1d0ca5){const _0x43193f=a0_0x4319();return a0_0x8f38=function(_0x8f38bf,_0x38c511){_0x8f38bf=_0x8f38bf-0x132;let _0x17ccac=_0x43193f[_0x8f38bf];return _0x17ccac;},a0_0x8f38(_0x20a40c,_0x1d0ca5);}const {Schema,connect,model:_model}=a0_0x5d21a5,defaultOptions={'useNewUrlParser':!![],'useUnifiedTopology':!![]};function a0_0x4319(){const _0x347146=['options','findById','_data','_schema','lists','fromEntries','read','includes','5035kVapcS','conn','findOne','966432VXUzfo','map','452648qKmSiO','list','write','16063584qbgqGG','entries','findIndex','_id','_model','3353480uFeNQj','push','deleteMany','error','length','models','4312868iRdlYe','3732lmSXUK','insertMany','catch','all','find','name','519778MmgVol','data','url','save','create'];a0_0x4319=function(){return _0x347146;};return a0_0x4319();}export class mongoDB{constructor(_0x308374,_0x2a55a2=defaultOptions){const _0x23d0ee=a0_0x8f38;this['url']=_0x308374,this['options']=_0x2a55a2,this['data']=this[_0x23d0ee(0x13a)]={},this[_0x23d0ee(0x13b)]={},this[_0x23d0ee(0x14c)]={},this['db']=connect(this[_0x23d0ee(0x135)],{...this['options']})[_0x23d0ee(0x156)](console[_0x23d0ee(0x150)]);}async[a0_0x4fa672(0x13e)](){const _0x197bcf=a0_0x4fa672;this[_0x197bcf(0x141)]=await this['db'];const _0x1d81df=this[_0x197bcf(0x13b)]=new Schema({'data':{'type':Object,'required':!![],'default':{}}});try{this[_0x197bcf(0x14c)]=_model(_0x197bcf(0x134),_0x1d81df);}catch{this[_0x197bcf(0x14c)]=_model(_0x197bcf(0x134));}this[_0x197bcf(0x13a)]=await this[_0x197bcf(0x14c)][_0x197bcf(0x142)]({});if(!this[_0x197bcf(0x13a)]){this['data']={};const [_0x43f7c9,_0x3de0af]=await Promise[_0x197bcf(0x157)]([this[_0x197bcf(0x147)](this[_0x197bcf(0x134)]),this[_0x197bcf(0x14c)][_0x197bcf(0x142)]({})]);this['_data']=_0x3de0af;}else this['data']=this[_0x197bcf(0x13a)][_0x197bcf(0x134)];return this[_0x197bcf(0x134)];}[a0_0x4fa672(0x147)](_0x278eb0){return new Promise(async(_0x60fbbc,_0x495d59)=>{const _0x23c925=a0_0x8f38;if(!_0x278eb0)return _0x495d59(_0x278eb0);if(!this[_0x23c925(0x13a)])return _0x60fbbc(new this['_model']({'data':_0x278eb0})[_0x23c925(0x136)]());this['_model']['findById'](this[_0x23c925(0x13a)][_0x23c925(0x14b)],(_0x1d81ae,_0x49c78c)=>{const _0x58c8bf=_0x23c925;if(_0x1d81ae)return _0x495d59(_0x1d81ae);if(!_0x49c78c[_0x58c8bf(0x134)])_0x49c78c[_0x58c8bf(0x134)]={};return _0x49c78c['data']=_0x278eb0,this[_0x58c8bf(0x134)]={},_0x49c78c[_0x58c8bf(0x136)](_0x60fbbc);});});}}export const mongoDBV2=class MongoDBV2{constructor(_0x4ab864,_0x494b2f=defaultOptions){const _0x3eaee4=a0_0x4fa672;this[_0x3eaee4(0x135)]=_0x4ab864,this[_0x3eaee4(0x138)]=_0x494b2f,this[_0x3eaee4(0x152)]=[],this['data']={},this[_0x3eaee4(0x13c)],this['list'],this['db']=connect(this[_0x3eaee4(0x135)],{...this[_0x3eaee4(0x138)]})[_0x3eaee4(0x156)](console[_0x3eaee4(0x150)]);}async['read'](){const _0x165172=a0_0x4fa672;this['conn']=await this['db'];const _0x1b850d=new Schema({'data':[{'name':String}]});try{this[_0x165172(0x146)]=_model(_0x165172(0x13c),_0x1b850d);}catch(_0x129765){this[_0x165172(0x146)]=_model(_0x165172(0x13c));}this[_0x165172(0x13c)]=await this[_0x165172(0x146)]['findOne']({});!lists?.[_0x165172(0x134)]&&(await this[_0x165172(0x146)][_0x165172(0x137)]({'data':[]}),this[_0x165172(0x13c)]=await this[_0x165172(0x146)][_0x165172(0x142)]({}));const _0x92b715=[];for(const {name:_0xa3f262}of this[_0x165172(0x13c)][_0x165172(0x134)]){let _0x4df294;try{_0x4df294=_model(_0xa3f262,new Schema({'data':Array}));}catch(_0x36243d){console['error'](_0x36243d);try{_0x4df294=_model(_0xa3f262);}catch(_0x48ec4b){_0x92b715['push'](_0xa3f262),console['error'](_0x48ec4b);}}if(_0x4df294){this['models'][_0x165172(0x14e)]({'name':_0xa3f262,'model':_0x4df294});const _0x5133ad=await _0x4df294[_0x165172(0x158)]({});this[_0x165172(0x134)][_0xa3f262]=Object[_0x165172(0x13d)](_0x5133ad[_0x165172(0x144)](_0x3db82a=>_0x3db82a[_0x165172(0x134)]));}}try{const _0x351c06=await this[_0x165172(0x146)][_0x165172(0x139)](this[_0x165172(0x13c)][_0x165172(0x14b)]);_0x351c06['data']=_0x351c06['data']['filter'](_0x6ccaf0=>!_0x92b715[_0x165172(0x13f)](_0x6ccaf0[_0x165172(0x132)])),await _0x351c06['save']();}catch(_0xedab0){console[_0x165172(0x150)](_0xedab0);}return this[_0x165172(0x134)];}[a0_0x4fa672(0x147)](_0x57c3fe){return new Promise(async(_0x318155,_0x581f10)=>{const _0x2d1c19=a0_0x8f38;if(!this[_0x2d1c19(0x13c)]||!_0x57c3fe)return _0x581f10(_0x57c3fe||this[_0x2d1c19(0x13c)]);const _0x5b5f5a=Object['keys'](_0x57c3fe),_0x5a942e=[];let _0x21a076=0x0;for(const _0x361b17 of _0x5b5f5a){if((_0x21a076=this[_0x2d1c19(0x152)][_0x2d1c19(0x14a)](_0x50074e=>_0x50074e[_0x2d1c19(0x132)]===_0x361b17))!==-0x1){const _0xf72d4e=this['models'][_0x21a076]['model'];await _0xf72d4e[_0x2d1c19(0x14f)]()[_0x2d1c19(0x156)](console[_0x2d1c19(0x150)]),await _0xf72d4e[_0x2d1c19(0x155)](Object[_0x2d1c19(0x149)](_0x57c3fe[_0x361b17])[_0x2d1c19(0x144)](_0x56eb43=>({'data':_0x56eb43})));if(_0xf72d4e&&_0x361b17)_0x5a942e['push']({'name':_0x361b17});}else{const _0x5e70a4=new Schema({'data':Array});let _0x158e30;try{_0x158e30=_model(_0x361b17,_0x5e70a4);}catch(_0x4a23cf){console[_0x2d1c19(0x150)](_0x4a23cf),_0x158e30=_model(_0x361b17);}_0x21a076=this[_0x2d1c19(0x152)][_0x2d1c19(0x14a)](_0xa30daf=>_0xa30daf[_0x2d1c19(0x132)]===_0x361b17),this['models'][_0x21a076===-0x1?this[_0x2d1c19(0x152)][_0x2d1c19(0x151)]:_0x21a076]={'name':_0x361b17,'model':_0x158e30},await _0x158e30['insertMany'](Object['entries'](_0x57c3fe[_0x361b17])['map'](_0x16d07b=>({'data':_0x16d07b})));if(_0x158e30&&_0x361b17)_0x5a942e[_0x2d1c19(0x14e)]({'name':_0x361b17});}}return this['list'][_0x2d1c19(0x139)](this[_0x2d1c19(0x13c)][_0x2d1c19(0x14b)],function(_0x58f171,_0x1193c3){const _0x701868=_0x2d1c19;if(_0x58f171)return _0x581f10(_0x58f171);return _0x1193c3[_0x701868(0x134)]=_0x5a942e,this[_0x701868(0x134)]={},_0x1193c3['save'](_0x318155);}),_0x318155(!![]);});}};