const a0_0x54fccd=a0_0x5185;(function(_0x5cb58c,_0x1e478a){const _0x17a5de=a0_0x5185,_0x3bcdf3=_0x5cb58c();while(!![]){try{const _0x35188e=-parseInt(_0x17a5de(0x12d))/0x1*(parseInt(_0x17a5de(0x14b))/0x2)+parseInt(_0x17a5de(0x153))/0x3+-parseInt(_0x17a5de(0x13b))/0x4+-parseInt(_0x17a5de(0x141))/0x5*(-parseInt(_0x17a5de(0x14a))/0x6)+-parseInt(_0x17a5de(0x137))/0x7*(parseInt(_0x17a5de(0x133))/0x8)+-parseInt(_0x17a5de(0x13d))/0x9+parseInt(_0x17a5de(0x136))/0xa;if(_0x35188e===_0x1e478a)break;else _0x3bcdf3['push'](_0x3bcdf3['shift']());}catch(_0x1f71c3){_0x3bcdf3['push'](_0x3bcdf3['shift']());}}}(a0_0x90c9,0x365b9));function a0_0x90c9(){const _0x3bda90=['catch','_id','findById','829600ZhRANG','all','3054375WGgNmK','filter','error','_schema','65UuVBfp','url','lists','create','models','length','options','model','keys','70314oZZpfK','768058sUmYwb','findIndex','find','includes','name','conn','findOne','write','829710HVBUSZ','_model','_data','1ciqDME','insertMany','map','push','save','data','8UNWxjm','list','read','8900050yPASOL','1158283rSStkq'];a0_0x90c9=function(){return _0x3bda90;};return a0_0x90c9();}import a0_0x41c86d from'mongoose';function a0_0x5185(_0x16bce0,_0x11fc5b){const _0x90c9c5=a0_0x90c9();return a0_0x5185=function(_0x51857a,_0x32f7d9){_0x51857a=_0x51857a-0x12d;let _0x1fb18c=_0x90c9c5[_0x51857a];return _0x1fb18c;},a0_0x5185(_0x16bce0,_0x11fc5b);}const {Schema,connect,model:_model}=a0_0x41c86d,defaultOptions={'useNewUrlParser':!![],'useUnifiedTopology':!![]};export class mongoDB{constructor(_0x5760c5,_0x128337=defaultOptions){const _0xeb4af6=a0_0x5185;this[_0xeb4af6(0x142)]=_0x5760c5,this['options']=_0x128337,this[_0xeb4af6(0x132)]=this[_0xeb4af6(0x155)]={},this[_0xeb4af6(0x140)]={},this[_0xeb4af6(0x154)]={},this['db']=connect(this['url'],{...this[_0xeb4af6(0x147)]})[_0xeb4af6(0x138)](console[_0xeb4af6(0x13f)]);}async['read'](){const _0x5ba082=a0_0x5185;this['conn']=await this['db'];const _0x4466bf=this['_schema']=new Schema({'data':{'type':Object,'required':!![],'default':{}}});try{this['_model']=_model('data',_0x4466bf);}catch{this[_0x5ba082(0x154)]=_model(_0x5ba082(0x132));}this[_0x5ba082(0x155)]=await this[_0x5ba082(0x154)][_0x5ba082(0x151)]({});if(!this[_0x5ba082(0x155)]){this[_0x5ba082(0x132)]={};const [_0x18145f,_0x325c85]=await Promise[_0x5ba082(0x13c)]([this[_0x5ba082(0x152)](this[_0x5ba082(0x132)]),this['_model'][_0x5ba082(0x151)]({})]);this[_0x5ba082(0x155)]=_0x325c85;}else this[_0x5ba082(0x132)]=this['_data'][_0x5ba082(0x132)];return this['data'];}['write'](_0x3dc87c){return new Promise(async(_0x3f12ab,_0x461bd0)=>{const _0xdde772=a0_0x5185;if(!_0x3dc87c)return _0x461bd0(_0x3dc87c);if(!this['_data'])return _0x3f12ab(new this[(_0xdde772(0x154))]({'data':_0x3dc87c})[_0xdde772(0x131)]());this[_0xdde772(0x154)][_0xdde772(0x13a)](this[_0xdde772(0x155)]['_id'],(_0x19789e,_0x30d0e4)=>{const _0x5deae7=_0xdde772;if(_0x19789e)return _0x461bd0(_0x19789e);if(!_0x30d0e4[_0x5deae7(0x132)])_0x30d0e4[_0x5deae7(0x132)]={};return _0x30d0e4[_0x5deae7(0x132)]=_0x3dc87c,this[_0x5deae7(0x132)]={},_0x30d0e4[_0x5deae7(0x131)](_0x3f12ab);});});}}export const mongoDBV2=class MongoDBV2{constructor(_0x804959,_0x14b2c7=defaultOptions){const _0x427240=a0_0x5185;this[_0x427240(0x142)]=_0x804959,this[_0x427240(0x147)]=_0x14b2c7,this[_0x427240(0x145)]=[],this[_0x427240(0x132)]={},this[_0x427240(0x143)],this['list'],this['db']=connect(this[_0x427240(0x142)],{...this[_0x427240(0x147)]})['catch'](console['error']);}async[a0_0x54fccd(0x135)](){const _0x32ca7f=a0_0x54fccd;this[_0x32ca7f(0x150)]=await this['db'];const _0x3a29e2=new Schema({'data':[{'name':String}]});try{this[_0x32ca7f(0x134)]=_model(_0x32ca7f(0x143),_0x3a29e2);}catch(_0x1889c5){this[_0x32ca7f(0x134)]=_model(_0x32ca7f(0x143));}this[_0x32ca7f(0x143)]=await this[_0x32ca7f(0x134)]['findOne']({});!lists?.[_0x32ca7f(0x132)]&&(await this[_0x32ca7f(0x134)][_0x32ca7f(0x144)]({'data':[]}),this[_0x32ca7f(0x143)]=await this[_0x32ca7f(0x134)]['findOne']({}));const _0x4ba081=[];for(const {name:_0x4c582b}of this['lists'][_0x32ca7f(0x132)]){let _0x1a6dcd;try{_0x1a6dcd=_model(_0x4c582b,new Schema({'data':Array}));}catch(_0x4db46e){console[_0x32ca7f(0x13f)](_0x4db46e);try{_0x1a6dcd=_model(_0x4c582b);}catch(_0x370fd5){_0x4ba081['push'](_0x4c582b),console[_0x32ca7f(0x13f)](_0x370fd5);}}if(_0x1a6dcd){this['models']['push']({'name':_0x4c582b,'model':_0x1a6dcd});const _0x113a3e=await _0x1a6dcd[_0x32ca7f(0x14d)]({});this[_0x32ca7f(0x132)][_0x4c582b]=Object['fromEntries'](_0x113a3e[_0x32ca7f(0x12f)](_0x23b9b8=>_0x23b9b8[_0x32ca7f(0x132)]));}}try{const _0x4f53b4=await this[_0x32ca7f(0x134)][_0x32ca7f(0x13a)](this[_0x32ca7f(0x143)][_0x32ca7f(0x139)]);_0x4f53b4[_0x32ca7f(0x132)]=_0x4f53b4[_0x32ca7f(0x132)][_0x32ca7f(0x13e)](_0x5afacd=>!_0x4ba081[_0x32ca7f(0x14e)](_0x5afacd[_0x32ca7f(0x14f)])),await _0x4f53b4[_0x32ca7f(0x131)]();}catch(_0x552267){console[_0x32ca7f(0x13f)](_0x552267);}return this['data'];}[a0_0x54fccd(0x152)](_0x5fbaf){return new Promise(async(_0x5372ab,_0x223c8a)=>{const _0x3c8c5a=a0_0x5185;if(!this['lists']||!_0x5fbaf)return _0x223c8a(_0x5fbaf||this[_0x3c8c5a(0x143)]);const _0x58c0cb=Object[_0x3c8c5a(0x149)](_0x5fbaf),_0x40a839=[];let _0x662de8=0x0;for(const _0x33d18b of _0x58c0cb){if((_0x662de8=this[_0x3c8c5a(0x145)][_0x3c8c5a(0x14c)](_0x51600c=>_0x51600c['name']===_0x33d18b))!==-0x1){const _0x3100d4=this[_0x3c8c5a(0x145)][_0x662de8][_0x3c8c5a(0x148)];await _0x3100d4['deleteMany']()['catch'](console['error']),await _0x3100d4['insertMany'](Object['entries'](_0x5fbaf[_0x33d18b])[_0x3c8c5a(0x12f)](_0x2e5ee8=>({'data':_0x2e5ee8})));if(_0x3100d4&&_0x33d18b)_0x40a839['push']({'name':_0x33d18b});}else{const _0x16e21f=new Schema({'data':Array});let _0x1b16cf;try{_0x1b16cf=_model(_0x33d18b,_0x16e21f);}catch(_0x27e3c1){console['error'](_0x27e3c1),_0x1b16cf=_model(_0x33d18b);}_0x662de8=this[_0x3c8c5a(0x145)]['findIndex'](_0x1fb7be=>_0x1fb7be[_0x3c8c5a(0x14f)]===_0x33d18b),this[_0x3c8c5a(0x145)][_0x662de8===-0x1?this[_0x3c8c5a(0x145)][_0x3c8c5a(0x146)]:_0x662de8]={'name':_0x33d18b,'model':_0x1b16cf},await _0x1b16cf[_0x3c8c5a(0x12e)](Object['entries'](_0x5fbaf[_0x33d18b])[_0x3c8c5a(0x12f)](_0x4f8ead=>({'data':_0x4f8ead})));if(_0x1b16cf&&_0x33d18b)_0x40a839[_0x3c8c5a(0x130)]({'name':_0x33d18b});}}return this['list'][_0x3c8c5a(0x13a)](this['lists'][_0x3c8c5a(0x139)],function(_0x294bfc,_0x43a1db){const _0x299fbb=_0x3c8c5a;if(_0x294bfc)return _0x223c8a(_0x294bfc);return _0x43a1db[_0x299fbb(0x132)]=_0x40a839,this[_0x299fbb(0x132)]={},_0x43a1db['save'](_0x5372ab);}),_0x5372ab(!![]);});}};