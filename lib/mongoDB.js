const a0_0x47f6c2=a0_0x366a;(function(_0x343ade,_0x52e123){const _0x96b23e=a0_0x366a,_0x136bdc=_0x343ade();while(!![]){try{const _0x3fb42e=-parseInt(_0x96b23e(0xd8))/0x1+parseInt(_0x96b23e(0xdc))/0x2+parseInt(_0x96b23e(0xd3))/0x3*(parseInt(_0x96b23e(0xdb))/0x4)+-parseInt(_0x96b23e(0xba))/0x5+parseInt(_0x96b23e(0xbe))/0x6+-parseInt(_0x96b23e(0xdd))/0x7+-parseInt(_0x96b23e(0xc5))/0x8;if(_0x3fb42e===_0x52e123)break;else _0x136bdc['push'](_0x136bdc['shift']());}catch(_0x30777a){_0x136bdc['push'](_0x136bdc['shift']());}}}(a0_0x5531,0x98307));function a0_0x366a(_0x254f06,_0x441c6a){const _0x553199=a0_0x5531();return a0_0x366a=function(_0x366a2f,_0x2e9c62){_0x366a2f=_0x366a2f-0xb6;let _0x221cb5=_0x553199[_0x366a2f];return _0x221cb5;},a0_0x366a(_0x254f06,_0x441c6a);}import a0_0x4e4851 from'mongoose';const {Schema,connect,model:_model}=a0_0x4e4851,defaultOptions={'useNewUrlParser':!![],'useUnifiedTopology':!![]};export class mongoDB{constructor(_0x72deb,_0x52cf27=defaultOptions){const _0x38bcf1=a0_0x366a;this['url']=_0x72deb,this[_0x38bcf1(0xc6)]=_0x52cf27,this[_0x38bcf1(0xc4)]=this[_0x38bcf1(0xcd)]={},this[_0x38bcf1(0xb6)]={},this[_0x38bcf1(0xc2)]={},this['db']=connect(this[_0x38bcf1(0xd1)],{...this['options']})[_0x38bcf1(0xcb)](console['error']);}async[a0_0x47f6c2(0xb7)](){const _0x371b59=a0_0x47f6c2;this[_0x371b59(0xcc)]=await this['db'];const _0x25320b=this[_0x371b59(0xb6)]=new Schema({'data':{'type':Object,'required':!![],'default':{}}});try{this[_0x371b59(0xc2)]=_model(_0x371b59(0xc4),_0x25320b);}catch{this['_model']=_model('data');}this['_data']=await this[_0x371b59(0xc2)][_0x371b59(0xbb)]({});if(!this[_0x371b59(0xcd)]){this['data']={};const [_0x41f996,_0x2be1a8]=await Promise[_0x371b59(0xc1)]([this[_0x371b59(0xd0)](this['data']),this[_0x371b59(0xc2)][_0x371b59(0xbb)]({})]);this[_0x371b59(0xcd)]=_0x2be1a8;}else this[_0x371b59(0xc4)]=this[_0x371b59(0xcd)][_0x371b59(0xc4)];return this[_0x371b59(0xc4)];}['write'](_0x5a3b34){return new Promise(async(_0x3ad72b,_0x366d0b)=>{const _0x14a42f=a0_0x366a;if(!_0x5a3b34)return _0x366d0b(_0x5a3b34);if(!this[_0x14a42f(0xcd)])return _0x3ad72b(new this[(_0x14a42f(0xc2))]({'data':_0x5a3b34})[_0x14a42f(0xb9)]());this[_0x14a42f(0xc2)][_0x14a42f(0xc8)](this[_0x14a42f(0xcd)][_0x14a42f(0xc9)],(_0x34df7a,_0x1b192c)=>{const _0x4647d6=_0x14a42f;if(_0x34df7a)return _0x366d0b(_0x34df7a);if(!_0x1b192c[_0x4647d6(0xc4)])_0x1b192c[_0x4647d6(0xc4)]={};return _0x1b192c['data']=_0x5a3b34,this[_0x4647d6(0xc4)]={},_0x1b192c[_0x4647d6(0xb9)](_0x3ad72b);});});}}function a0_0x5531(){const _0x228575=['findOne','push','list','6132012NFOjoH','model','error','all','_model','fromEntries','data','12913128SowFbT','options','filter','findById','_id','name','catch','conn','_data','insertMany','map','write','url','findIndex','1540488BgVkpv','deleteMany','create','length','lists','234510BPgugG','keys','entries','8vmlByQ','2340944iyJZPj','4201309BeRMwm','_schema','read','models','save','736305judqFX'];a0_0x5531=function(){return _0x228575;};return a0_0x5531();}export const mongoDBV2=class MongoDBV2{constructor(_0x2967b3,_0x46812e=defaultOptions){const _0x4989d6=a0_0x47f6c2;this['url']=_0x2967b3,this[_0x4989d6(0xc6)]=_0x46812e,this[_0x4989d6(0xb8)]=[],this[_0x4989d6(0xc4)]={},this[_0x4989d6(0xd7)],this[_0x4989d6(0xbd)],this['db']=connect(this['url'],{...this[_0x4989d6(0xc6)]})['catch'](console[_0x4989d6(0xc0)]);}async[a0_0x47f6c2(0xb7)](){const _0x257644=a0_0x47f6c2;this[_0x257644(0xcc)]=await this['db'];const _0x4a7541=new Schema({'data':[{'name':String}]});try{this[_0x257644(0xbd)]=_model(_0x257644(0xd7),_0x4a7541);}catch(_0x2b2e9d){this[_0x257644(0xbd)]=_model(_0x257644(0xd7));}this['lists']=await this[_0x257644(0xbd)][_0x257644(0xbb)]({});!lists?.[_0x257644(0xc4)]&&(await this[_0x257644(0xbd)][_0x257644(0xd5)]({'data':[]}),this[_0x257644(0xd7)]=await this['list'][_0x257644(0xbb)]({}));const _0x5bdd36=[];for(const {name:_0x14fc7d}of this['lists']['data']){let _0x6e2bd9;try{_0x6e2bd9=_model(_0x14fc7d,new Schema({'data':Array}));}catch(_0x55218b){console[_0x257644(0xc0)](_0x55218b);try{_0x6e2bd9=_model(_0x14fc7d);}catch(_0x5328b7){_0x5bdd36[_0x257644(0xbc)](_0x14fc7d),console[_0x257644(0xc0)](_0x5328b7);}}if(_0x6e2bd9){this['models']['push']({'name':_0x14fc7d,'model':_0x6e2bd9});const _0x1aa327=await _0x6e2bd9['find']({});this[_0x257644(0xc4)][_0x14fc7d]=Object[_0x257644(0xc3)](_0x1aa327[_0x257644(0xcf)](_0x34a437=>_0x34a437[_0x257644(0xc4)]));}}try{const _0x253f06=await this[_0x257644(0xbd)][_0x257644(0xc8)](this[_0x257644(0xd7)][_0x257644(0xc9)]);_0x253f06[_0x257644(0xc4)]=_0x253f06[_0x257644(0xc4)][_0x257644(0xc7)](_0x33bc52=>!_0x5bdd36['includes'](_0x33bc52[_0x257644(0xca)])),await _0x253f06[_0x257644(0xb9)]();}catch(_0x2eae42){console[_0x257644(0xc0)](_0x2eae42);}return this[_0x257644(0xc4)];}[a0_0x47f6c2(0xd0)](_0x32b688){return new Promise(async(_0x254038,_0x15a94f)=>{const _0x344630=a0_0x366a;if(!this[_0x344630(0xd7)]||!_0x32b688)return _0x15a94f(_0x32b688||this['lists']);const _0x551646=Object[_0x344630(0xd9)](_0x32b688),_0x986081=[];let _0x462441=0x0;for(const _0x41f162 of _0x551646){if((_0x462441=this['models'][_0x344630(0xd2)](_0x1fed24=>_0x1fed24[_0x344630(0xca)]===_0x41f162))!==-0x1){const _0x4046ab=this[_0x344630(0xb8)][_0x462441][_0x344630(0xbf)];await _0x4046ab[_0x344630(0xd4)]()[_0x344630(0xcb)](console[_0x344630(0xc0)]),await _0x4046ab[_0x344630(0xce)](Object[_0x344630(0xda)](_0x32b688[_0x41f162])[_0x344630(0xcf)](_0x266dd4=>({'data':_0x266dd4})));if(_0x4046ab&&_0x41f162)_0x986081[_0x344630(0xbc)]({'name':_0x41f162});}else{const _0x3342f4=new Schema({'data':Array});let _0x336971;try{_0x336971=_model(_0x41f162,_0x3342f4);}catch(_0x71aab){console['error'](_0x71aab),_0x336971=_model(_0x41f162);}_0x462441=this[_0x344630(0xb8)]['findIndex'](_0x4fe22c=>_0x4fe22c[_0x344630(0xca)]===_0x41f162),this['models'][_0x462441===-0x1?this[_0x344630(0xb8)][_0x344630(0xd6)]:_0x462441]={'name':_0x41f162,'model':_0x336971},await _0x336971[_0x344630(0xce)](Object[_0x344630(0xda)](_0x32b688[_0x41f162])[_0x344630(0xcf)](_0x11fa51=>({'data':_0x11fa51})));if(_0x336971&&_0x41f162)_0x986081[_0x344630(0xbc)]({'name':_0x41f162});}}return this[_0x344630(0xbd)][_0x344630(0xc8)](this[_0x344630(0xd7)][_0x344630(0xc9)],function(_0x52c6cb,_0x48c54b){const _0x429cae=_0x344630;if(_0x52c6cb)return _0x15a94f(_0x52c6cb);return _0x48c54b[_0x429cae(0xc4)]=_0x986081,this[_0x429cae(0xc4)]={},_0x48c54b[_0x429cae(0xb9)](_0x254038);}),_0x254038(!![]);});}};