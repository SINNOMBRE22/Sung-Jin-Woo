const a0_0x585f61=a0_0x41f4;function a0_0x41f4(_0x5bf889,_0xc97357){const _0x39f460=a0_0x39f4();return a0_0x41f4=function(_0x41f434,_0x30b59f){_0x41f434=_0x41f434-0x1cf;let _0x2581b0=_0x39f460[_0x41f434];return _0x2581b0;},a0_0x41f4(_0x5bf889,_0xc97357);}(function(_0x5bd430,_0x121273){const _0x8b2352=a0_0x41f4,_0x1ba990=_0x5bd430();while(!![]){try{const _0x35263b=parseInt(_0x8b2352(0x1cf))/0x1+parseInt(_0x8b2352(0x1e6))/0x2+parseInt(_0x8b2352(0x1e5))/0x3+parseInt(_0x8b2352(0x1d8))/0x4+parseInt(_0x8b2352(0x1d6))/0x5+parseInt(_0x8b2352(0x1e0))/0x6*(parseInt(_0x8b2352(0x1de))/0x7)+-parseInt(_0x8b2352(0x1e4))/0x8;if(_0x35263b===_0x121273)break;else _0x1ba990['push'](_0x1ba990['shift']());}catch(_0x41a13a){_0x1ba990['push'](_0x1ba990['shift']());}}}(a0_0x39f4,0xd7804));import{resolve,dirname as a0_0x453f44}from'path';import a0_0x238fc3,{existsSync,readFileSync}from'fs';const {promises:fs}=a0_0x238fc3;class Database{constructor(_0x2b6f5e,..._0x508fb9){const _0x4d47b7=a0_0x41f4;this[_0x4d47b7(0x1d9)]=resolve(_0x2b6f5e),this['logger']=console,this['_load'](),this[_0x4d47b7(0x1df)]=_0x508fb9,this[_0x4d47b7(0x1db)]=![],this[_0x4d47b7(0x1d5)]=[],this[_0x4d47b7(0x1d1)]=setInterval(async()=>{const _0x151b1e=_0x4d47b7;!this[_0x151b1e(0x1db)]&&this['_queue']&&this['_queue'][0x0]&&(this[_0x151b1e(0x1db)]=!![],await this[this[_0x151b1e(0x1d5)][_0x151b1e(0x1e3)]()]()[_0x151b1e(0x1dc)](this[_0x151b1e(0x1d3)][_0x151b1e(0x1d2)]),this['_state']=![]);},0x3e8);}get['data'](){const _0x489c23=a0_0x41f4;return this[_0x489c23(0x1e2)];}set[a0_0x585f61(0x1d7)](_0x4f47f3){const _0x269858=a0_0x585f61;this[_0x269858(0x1e2)]=_0x4f47f3,this['save']();}['load'](){const _0x5c10b1=a0_0x585f61;this[_0x5c10b1(0x1d5)]['push'](_0x5c10b1(0x1e1));}['save'](){const _0x4c7805=a0_0x585f61;this[_0x4c7805(0x1d5)][_0x4c7805(0x1d4)](_0x4c7805(0x1e7));}[a0_0x585f61(0x1e1)](){const _0x3acbe7=a0_0x585f61;try{return this['_data']=existsSync(this['file'])?JSON['parse'](readFileSync(this[_0x3acbe7(0x1d9)])):{};}catch(_0x48501e){return this[_0x3acbe7(0x1d3)]['error'](_0x48501e),this['_data']={};}}async[a0_0x585f61(0x1e7)](){const _0x455f9c=a0_0x585f61,_0x26d0c4=a0_0x453f44(this[_0x455f9c(0x1d9)]);if(!existsSync(_0x26d0c4))await fs[_0x455f9c(0x1da)](_0x26d0c4,{'recursive':!![]});return await fs[_0x455f9c(0x1d0)](this[_0x455f9c(0x1d9)],JSON[_0x455f9c(0x1dd)](this['_data'],...this['_jsonargs'])),this[_0x455f9c(0x1d9)];}}function a0_0x39f4(){const _0x52aecb=['writeFile','_interval','error','logger','push','_queue','1434535EovIfA','data','2667452PcqdxV','file','mkdir','_state','catch','stringify','22421qDoXcT','_jsonargs','6fewcXc','_load','_data','shift','26444312WOKNfT','4487694gIONcN','1697156xeJFkv','_save','886782KAIMeD'];a0_0x39f4=function(){return _0x52aecb;};return a0_0x39f4();}export default Database;