(function(_0x2669ec,_0x309292){const _0x3dd164=a0_0x130d,_0x9b4b2b=_0x2669ec();while(!![]){try{const _0x8fcf7f=-parseInt(_0x3dd164(0x1b3))/0x1*(-parseInt(_0x3dd164(0x1a7))/0x2)+-parseInt(_0x3dd164(0x1b6))/0x3*(-parseInt(_0x3dd164(0x1a4))/0x4)+parseInt(_0x3dd164(0x1bc))/0x5+parseInt(_0x3dd164(0x1ab))/0x6*(parseInt(_0x3dd164(0x1bb))/0x7)+-parseInt(_0x3dd164(0x1aa))/0x8*(parseInt(_0x3dd164(0x1ad))/0x9)+parseInt(_0x3dd164(0x1ba))/0xa+-parseInt(_0x3dd164(0x1b0))/0xb;if(_0x8fcf7f===_0x309292)break;else _0x9b4b2b['push'](_0x9b4b2b['shift']());}catch(_0x44ef49){_0x9b4b2b['push'](_0x9b4b2b['shift']());}}}(a0_0x5af8,0x22c7c));function a0_0x5af8(){const _0x266b15=['15TVUUJf','close','readFile','3309PcfpnA','-c:a','__dirname','44100','513230CHhSru','941822LmTCbU','162095iDXyKz','slow','-preset','-b:a','unlink','-vbr','ogg','writeFile','68slnpLw','-vn','libx264','14410IUQmbE','-ab','libopus','260584fQLVPR','12QXfKad','128k','18VepwlN','error','-ar','2992594yKMjQf','url','aac'];a0_0x5af8=function(){return _0x266b15;};return a0_0x5af8();}import{promises}from'fs';function a0_0x130d(_0x1ee5a4,_0x5aa23b){const _0x5af876=a0_0x5af8();return a0_0x130d=function(_0x130de2,_0x3ece1d){_0x130de2=_0x130de2-0x19f;let _0x1f7b50=_0x5af876[_0x130de2];return _0x1f7b50;},a0_0x130d(_0x1ee5a4,_0x5aa23b);}import{join}from'path';import{spawn}from'child_process';function ffmpeg(_0x152e21,_0x24c130=[],_0x53adea='',_0x1d034a=''){return new Promise(async(_0x3af5d4,_0x150c91)=>{const _0x12b424=a0_0x130d;try{const _0x1ce215=join(global[_0x12b424(0x1b8)](import.meta[_0x12b424(0x1b1)]),'../tmp',+new Date()+'.'+_0x53adea),_0x1dd233=_0x1ce215+'.'+_0x1d034a;await promises[_0x12b424(0x1a3)](_0x1ce215,_0x152e21),spawn('ffmpeg',['-y','-i',_0x1ce215,..._0x24c130,_0x1dd233])['on'](_0x12b424(0x1ae),_0x150c91)['on'](_0x12b424(0x1b4),async _0x5e803b=>{const _0x4a9008=_0x12b424;try{await promises[_0x4a9008(0x1a0)](_0x1ce215);if(_0x5e803b!==0x0)return _0x150c91(_0x5e803b);_0x3af5d4({'data':await promises[_0x4a9008(0x1b5)](_0x1dd233),'filename':_0x1dd233,'delete'(){return promises['unlink'](_0x1dd233);}});}catch(_0x191048){_0x150c91(_0x191048);}});}catch(_0x2e75f9){_0x150c91(_0x2e75f9);}});}function toPTT(_0x56025b,_0x30f453){const _0x2954c6=a0_0x130d;return ffmpeg(_0x56025b,[_0x2954c6(0x1a5),_0x2954c6(0x1b7),_0x2954c6(0x1a9),'-b:a',_0x2954c6(0x1ac),_0x2954c6(0x1a1),'on'],_0x30f453,_0x2954c6(0x1a2));}function toAudio(_0x4af8ea,_0x47d7e1){const _0x3b1b93=a0_0x130d;return ffmpeg(_0x4af8ea,[_0x3b1b93(0x1a5),_0x3b1b93(0x1b7),'libopus',_0x3b1b93(0x19f),_0x3b1b93(0x1ac),'-vbr','on','-compression_level','10'],_0x47d7e1,'opus');}function toVideo(_0x1524bd,_0x26db68){const _0x198752=a0_0x130d;return ffmpeg(_0x1524bd,['-c:v',_0x198752(0x1a6),_0x198752(0x1b7),_0x198752(0x1b2),_0x198752(0x1a8),'128k',_0x198752(0x1af),_0x198752(0x1b9),'-crf','32',_0x198752(0x1be),_0x198752(0x1bd)],_0x26db68,'mp4');}export{toAudio,toPTT,toVideo,ffmpeg};