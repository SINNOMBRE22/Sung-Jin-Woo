function a0_0x3a2d(_0x6bddbd,_0x154854){const _0x427a8=a0_0x427a();return a0_0x3a2d=function(_0x3a2dc0,_0x145bb6){_0x3a2dc0=_0x3a2dc0-0x1ba;let _0x3402ef=_0x427a8[_0x3a2dc0];return _0x3402ef;},a0_0x3a2d(_0x6bddbd,_0x154854);}(function(_0x33ae6c,_0x1c594b){const _0x427738=a0_0x3a2d,_0x59487b=_0x33ae6c();while(!![]){try{const _0x3add8a=parseInt(_0x427738(0x1d5))/0x1+parseInt(_0x427738(0x1db))/0x2*(-parseInt(_0x427738(0x1c9))/0x3)+parseInt(_0x427738(0x1c7))/0x4*(-parseInt(_0x427738(0x1cd))/0x5)+parseInt(_0x427738(0x1d4))/0x6+-parseInt(_0x427738(0x1ca))/0x7*(parseInt(_0x427738(0x1ce))/0x8)+parseInt(_0x427738(0x1d3))/0x9+parseInt(_0x427738(0x1d0))/0xa*(parseInt(_0x427738(0x1bf))/0xb);if(_0x3add8a===_0x1c594b)break;else _0x59487b['push'](_0x59487b['shift']());}catch(_0x7b766){_0x59487b['push'](_0x59487b['shift']());}}}(a0_0x427a,0x70801));import{promises}from'fs';import{join,dirname}from'path';import{spawn}from'child_process';import{fileURLToPath}from'url';import a0_0x515d1e from'crypto';const __dirname=dirname(fileURLToPath(import.meta['url']));function ffmpeg(_0x3f7e7b,_0x114759=[],_0xaed92='',_0x402a13=''){return new Promise(async(_0x46a928,_0x10ea72)=>{const _0x26ed28=a0_0x3a2d;try{const _0x54c8ae=join(__dirname,'../tmp');await promises[_0x26ed28(0x1cb)](_0x54c8ae,{'recursive':!![]});const _0x25c21b=a0_0x515d1e[_0x26ed28(0x1c8)](),_0x27d61f=join(_0x54c8ae,_0x25c21b+'.'+_0xaed92),_0x5ea500=_0x27d61f+'.'+_0x402a13;await promises[_0x26ed28(0x1d2)](_0x27d61f,_0x3f7e7b);const _0x4d2069=spawn(_0x26ed28(0x1da),['-y','-i',_0x27d61f,..._0x114759,_0x5ea500]);_0x4d2069['on'](_0x26ed28(0x1d6),_0x10ea72),_0x4d2069['on']('close',async _0x558412=>{const _0x57d8c4=_0x26ed28;try{await promises[_0x57d8c4(0x1bc)](_0x27d61f);if(_0x558412!==0x0)return _0x10ea72(new Error('ffmpeg\x20exited\x20with\x20code\x20'+_0x558412));_0x46a928({'data':await promises[_0x57d8c4(0x1c0)](_0x5ea500),'filename':_0x5ea500,'delete'(){const _0x41b735=_0x57d8c4;return promises[_0x41b735(0x1bc)](_0x5ea500);}});}catch(_0x269f8e){_0x10ea72(_0x269f8e);}});}catch(_0x5de4ee){_0x10ea72(_0x5de4ee);}});}function toPTT(_0x189b8a,_0x305bf2){const _0x1f351c=a0_0x3a2d;return ffmpeg(_0x189b8a,['-vn',_0x1f351c(0x1d9),'1',_0x1f351c(0x1c1),'48000',_0x1f351c(0x1c4),_0x1f351c(0x1bd),_0x1f351c(0x1cc),_0x1f351c(0x1c3),'-vbr','on','-compression_level','10','-f',_0x1f351c(0x1cf)],_0x305bf2,'ogg');}function toAudio(_0x518dd5,_0x3e79ac){const _0x27cd31=a0_0x3a2d;return ffmpeg(_0x518dd5,[_0x27cd31(0x1c2),_0x27cd31(0x1c4),_0x27cd31(0x1bd),'-b:a',_0x27cd31(0x1c5),_0x27cd31(0x1be),'on','-compression_level','10'],_0x3e79ac,_0x27cd31(0x1cf));}function a0_0x427a(){const _0x541de8=['3099915JZhihe','5377056hUJIRB','553633TSisXK','error','44100','-preset','-ac','ffmpeg','4FBanyu','libx264','aac','mp4','unlink','libopus','-vbr','346566VGYLIB','readFile','-ar','-vn','64k','-c:a','128k','-crf','4UxymYa','randomUUID','959790leLyxW','7YchTBK','mkdir','-b:a','363950llenhs','5722488GGZhBO','opus','30DxcHMk','-ab','writeFile'];a0_0x427a=function(){return _0x541de8;};return a0_0x427a();}function toVideo(_0x13d8f3,_0x4d43d2){const _0x2e4e35=a0_0x3a2d;return ffmpeg(_0x13d8f3,['-c:v',_0x2e4e35(0x1dc),_0x2e4e35(0x1c4),_0x2e4e35(0x1ba),_0x2e4e35(0x1d1),'128k',_0x2e4e35(0x1c1),_0x2e4e35(0x1d7),_0x2e4e35(0x1c6),'32',_0x2e4e35(0x1d8),'slow'],_0x4d43d2,_0x2e4e35(0x1bb));}export{toAudio,toPTT,toVideo,ffmpeg};