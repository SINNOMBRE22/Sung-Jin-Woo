const a0_0x3b25bb=a0_0x1375;(function(_0x50255b,_0x4a9950){const _0x28ad28=a0_0x1375,_0x4c0e2c=_0x50255b();while(!![]){try{const _0x411408=-parseInt(_0x28ad28(0x112))/0x1*(-parseInt(_0x28ad28(0x116))/0x2)+-parseInt(_0x28ad28(0x12d))/0x3*(parseInt(_0x28ad28(0x12c))/0x4)+parseInt(_0x28ad28(0x12f))/0x5*(-parseInt(_0x28ad28(0x121))/0x6)+-parseInt(_0x28ad28(0x12b))/0x7*(parseInt(_0x28ad28(0x133))/0x8)+-parseInt(_0x28ad28(0x131))/0x9+parseInt(_0x28ad28(0x120))/0xa*(-parseInt(_0x28ad28(0x132))/0xb)+parseInt(_0x28ad28(0x127))/0xc;if(_0x411408===_0x4a9950)break;else _0x4c0e2c['push'](_0x4c0e2c['shift']());}catch(_0x2c3c42){_0x4c0e2c['push'](_0x4c0e2c['shift']());}}}(a0_0x3c16,0xddb16));function a0_0x3c16(){const _0x3a66c7=['randomUUID','1611337kttWaI','452392kyYYNq','18GtsJpk','128k','6100vwADzK','-preset','9030789YxHhur','154SgoyLc','56iYoenT','-compression_level','libx264','opus','url','-c:v','-ab','1AIAlXg','-c:a','slow','libopus','572168jFTieQ','mkdir','aac','-ac','error','ffmpeg\x20exited\x20with\x20code\x20','ffmpeg','-vn','unlink','-vbr','179870LzyeWq','7026QFLmzK','-b:a','readFile','ogg','44100','-ar','67149048fhcmcg','64k','writeFile'];a0_0x3c16=function(){return _0x3a66c7;};return a0_0x3c16();}import{promises}from'fs';import{join,dirname}from'path';import{spawn}from'child_process';import{fileURLToPath}from'url';import a0_0x5b7d4b from'crypto';function a0_0x1375(_0x51d919,_0x3924c5){const _0x3c1688=a0_0x3c16();return a0_0x1375=function(_0x13754a,_0x31faa4){_0x13754a=_0x13754a-0x10c;let _0x2d545f=_0x3c1688[_0x13754a];return _0x2d545f;},a0_0x1375(_0x51d919,_0x3924c5);}const __dirname=dirname(fileURLToPath(import.meta[a0_0x3b25bb(0x10f)]));function ffmpeg(_0xe189c6,_0x110434=[],_0x34db53='',_0x50ca3a=''){return new Promise(async(_0x338aef,_0x2703cf)=>{const _0x5ca951=a0_0x1375;try{const _0x432f62=join(__dirname,'../tmp');await promises[_0x5ca951(0x117)](_0x432f62,{'recursive':!![]});const _0x418446=a0_0x5b7d4b[_0x5ca951(0x12a)](),_0x5e74fc=join(_0x432f62,_0x418446+'.'+_0x34db53),_0x1c53fc=_0x5e74fc+'.'+_0x50ca3a;await promises[_0x5ca951(0x129)](_0x5e74fc,_0xe189c6);const _0x13e202=spawn(_0x5ca951(0x11c),['-y','-i',_0x5e74fc,..._0x110434,_0x1c53fc]);_0x13e202['on'](_0x5ca951(0x11a),_0x2703cf),_0x13e202['on']('close',async _0x1acb0e=>{const _0x3dcf3c=_0x5ca951;try{await promises[_0x3dcf3c(0x11e)](_0x5e74fc);if(_0x1acb0e!==0x0)return _0x2703cf(new Error(_0x3dcf3c(0x11b)+_0x1acb0e));_0x338aef({'data':await promises[_0x3dcf3c(0x123)](_0x1c53fc),'filename':_0x1c53fc,'delete'(){const _0x4db2a6=_0x3dcf3c;return promises[_0x4db2a6(0x11e)](_0x1c53fc);}});}catch(_0xaf2850){_0x2703cf(_0xaf2850);}});}catch(_0x13807f){_0x2703cf(_0x13807f);}});}function toPTT(_0x43535d,_0x3c3a9b){const _0x34c1b6=a0_0x3b25bb;return ffmpeg(_0x43535d,[_0x34c1b6(0x11d),_0x34c1b6(0x119),'1',_0x34c1b6(0x126),'48000',_0x34c1b6(0x113),_0x34c1b6(0x115),_0x34c1b6(0x122),_0x34c1b6(0x128),_0x34c1b6(0x11f),'on',_0x34c1b6(0x10c),'10','-f',_0x34c1b6(0x10e)],_0x3c3a9b,_0x34c1b6(0x124));}function toAudio(_0x4b6aa3,_0x11d209){const _0x37a327=a0_0x3b25bb;return ffmpeg(_0x4b6aa3,[_0x37a327(0x11d),'-c:a',_0x37a327(0x115),'-b:a',_0x37a327(0x12e),_0x37a327(0x11f),'on','-compression_level','10'],_0x11d209,_0x37a327(0x10e));}function toVideo(_0x5b0362,_0xa80681){const _0x40b882=a0_0x3b25bb;return ffmpeg(_0x5b0362,[_0x40b882(0x110),_0x40b882(0x10d),_0x40b882(0x113),_0x40b882(0x118),_0x40b882(0x111),_0x40b882(0x12e),_0x40b882(0x126),_0x40b882(0x125),'-crf','32',_0x40b882(0x130),_0x40b882(0x114)],_0xa80681,'mp4');}export{toAudio,toPTT,toVideo,ffmpeg};