const a0_0x22618b=a0_0x4668;(function(_0x276318,_0x5b7f8c){const _0x804f6b=a0_0x4668,_0x4017f1=_0x276318();while(!![]){try{const _0xeff176=parseInt(_0x804f6b(0xae))/0x1*(parseInt(_0x804f6b(0xba))/0x2)+-parseInt(_0x804f6b(0xb1))/0x3+parseInt(_0x804f6b(0xbb))/0x4*(parseInt(_0x804f6b(0xb2))/0x5)+-parseInt(_0x804f6b(0xb4))/0x6*(-parseInt(_0x804f6b(0xbc))/0x7)+-parseInt(_0x804f6b(0xc6))/0x8*(parseInt(_0x804f6b(0xc4))/0x9)+parseInt(_0x804f6b(0xb8))/0xa*(parseInt(_0x804f6b(0xbd))/0xb)+-parseInt(_0x804f6b(0xcb))/0xc*(-parseInt(_0x804f6b(0xb6))/0xd);if(_0xeff176===_0x5b7f8c)break;else _0x4017f1['push'](_0x4017f1['shift']());}catch(_0x355451){_0x4017f1['push'](_0x4017f1['shift']());}}}(a0_0x10d9,0x9565f));import{promises}from'fs';import{join,dirname}from'path';function a0_0x10d9(){const _0x21f95e=['88148IbPhuO','173152lciylU','6941JTIunV','-compression_level','-b:a','../tmp','-vn','-crf','128k','914607lCDwtb','opus','40TWvLNc','-ar','randomUUID','ffmpeg\x20exited\x20with\x20code\x20','mkdir','24AXCtms','error','-c:a','-c:v','-ac','64k','readFile','libopus','unlink','url','3163kyfAiR','-vbr','-preset','2750694VDHrmw','55wjrSvV','ffmpeg','72VrRkpD','libx264','9089561tRhTWr','-ab','20kCxlxS','mp4','62WJoInL'];a0_0x10d9=function(){return _0x21f95e;};return a0_0x10d9();}import{spawn}from'child_process';import{fileURLToPath}from'url';import a0_0x289143 from'crypto';const __dirname=dirname(fileURLToPath(import.meta[a0_0x22618b(0xad)]));function a0_0x4668(_0x387afb,_0x51f8e2){const _0x10d946=a0_0x10d9();return a0_0x4668=function(_0x4668d5,_0x3b4b6c){_0x4668d5=_0x4668d5-0xa6;let _0x3df763=_0x10d946[_0x4668d5];return _0x3df763;},a0_0x4668(_0x387afb,_0x51f8e2);}function ffmpeg(_0x2bb092,_0x3e57dc=[],_0x52fc60='',_0x9c0656=''){return new Promise(async(_0x5bd495,_0x172ad2)=>{const _0x2ab076=a0_0x4668;try{const _0x24fe4c=join(__dirname,_0x2ab076(0xc0));await promises[_0x2ab076(0xca)](_0x24fe4c,{'recursive':!![]});const _0x2830a9=a0_0x289143[_0x2ab076(0xc8)](),_0x2fb024=join(_0x24fe4c,_0x2830a9+'.'+_0x52fc60),_0x367933=_0x2fb024+'.'+_0x9c0656;await promises['writeFile'](_0x2fb024,_0x2bb092);const _0x44b5ef=spawn(_0x2ab076(0xb3),['-y','-i',_0x2fb024,..._0x3e57dc,_0x367933]);_0x44b5ef['on'](_0x2ab076(0xcc),_0x172ad2),_0x44b5ef['on']('close',async _0x4fe961=>{const _0x42f984=_0x2ab076;try{await promises[_0x42f984(0xac)](_0x2fb024);if(_0x4fe961!==0x0)return _0x172ad2(new Error(_0x42f984(0xc9)+_0x4fe961));_0x5bd495({'data':await promises[_0x42f984(0xaa)](_0x367933),'filename':_0x367933,'delete'(){return promises['unlink'](_0x367933);}});}catch(_0x11b0e6){_0x172ad2(_0x11b0e6);}});}catch(_0x13ede0){_0x172ad2(_0x13ede0);}});}function toPTT(_0x40fb99,_0x5cd960){const _0x35bc48=a0_0x22618b;return ffmpeg(_0x40fb99,[_0x35bc48(0xc1),_0x35bc48(0xa8),'1',_0x35bc48(0xc7),'48000','-c:a',_0x35bc48(0xab),'-b:a',_0x35bc48(0xa9),_0x35bc48(0xaf),'on',_0x35bc48(0xbe),'10','-f',_0x35bc48(0xc5)],_0x5cd960,'ogg');}function toAudio(_0x508b06,_0x53f834){const _0x2e7ebd=a0_0x22618b;return ffmpeg(_0x508b06,[_0x2e7ebd(0xc1),_0x2e7ebd(0xa6),_0x2e7ebd(0xab),_0x2e7ebd(0xbf),_0x2e7ebd(0xc3),_0x2e7ebd(0xaf),'on',_0x2e7ebd(0xbe),'10'],_0x53f834,_0x2e7ebd(0xc5));}function toVideo(_0x442e3f,_0x3d447d){const _0x553a22=a0_0x22618b;return ffmpeg(_0x442e3f,[_0x553a22(0xa7),_0x553a22(0xb5),_0x553a22(0xa6),'aac',_0x553a22(0xb7),_0x553a22(0xc3),_0x553a22(0xc7),'44100',_0x553a22(0xc2),'32',_0x553a22(0xb0),'slow'],_0x3d447d,_0x553a22(0xb9));}export{toAudio,toPTT,toVideo,ffmpeg};