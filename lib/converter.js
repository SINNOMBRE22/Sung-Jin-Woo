(function(_0x130b9f,_0x26a70f){const _0x2b1091=a0_0xe4ba,_0x5ba111=_0x130b9f();while(!![]){try{const _0x3e4eca=parseInt(_0x2b1091(0xd3))/0x1*(parseInt(_0x2b1091(0xd4))/0x2)+-parseInt(_0x2b1091(0xca))/0x3*(-parseInt(_0x2b1091(0xd7))/0x4)+parseInt(_0x2b1091(0xc6))/0x5*(parseInt(_0x2b1091(0xc9))/0x6)+parseInt(_0x2b1091(0xbb))/0x7+parseInt(_0x2b1091(0xba))/0x8+parseInt(_0x2b1091(0xcf))/0x9+-parseInt(_0x2b1091(0xc1))/0xa;if(_0x3e4eca===_0x26a70f)break;else _0x5ba111['push'](_0x5ba111['shift']());}catch(_0x49b38e){_0x5ba111['push'](_0x5ba111['shift']());}}}(a0_0x474f,0x4cdb0));import{promises}from'fs';import{join,dirname}from'path';import{spawn}from'child_process';import{fileURLToPath}from'url';import a0_0x2c5c8f from'crypto';const __dirname=dirname(fileURLToPath(import.meta['url']));function ffmpeg(_0x446987,_0x4b2736=[],_0x47d42c='',_0x47db1d=''){return new Promise(async(_0x422e79,_0x46b818)=>{const _0x442623=a0_0xe4ba;try{const _0x5af801=join(__dirname,_0x442623(0xc4));await promises[_0x442623(0xc7)](_0x5af801,{'recursive':!![]});const _0x368ff8=a0_0x2c5c8f['randomUUID'](),_0x29c7e9=join(_0x5af801,_0x368ff8+'.'+_0x47d42c),_0x392b9b=_0x29c7e9+'.'+_0x47db1d;await promises[_0x442623(0xc2)](_0x29c7e9,_0x446987);const _0x5b0da4=spawn(_0x442623(0xc3),['-y','-i',_0x29c7e9,..._0x4b2736,_0x392b9b]);_0x5b0da4['on'](_0x442623(0xc8),_0x46b818),_0x5b0da4['on']('close',async _0x1ba9bd=>{const _0x26a541=_0x442623;try{await promises[_0x26a541(0xd5)](_0x29c7e9);if(_0x1ba9bd!==0x0)return _0x46b818(new Error(_0x26a541(0xc5)+_0x1ba9bd));_0x422e79({'data':await promises['readFile'](_0x392b9b),'filename':_0x392b9b,'delete'(){const _0x3db381=_0x26a541;return promises[_0x3db381(0xd5)](_0x392b9b);}});}catch(_0x568f6c){_0x46b818(_0x568f6c);}});}catch(_0x5491e8){_0x46b818(_0x5491e8);}});}function toPTT(_0x192269,_0x22bd51){const _0xd331c5=a0_0xe4ba;return ffmpeg(_0x192269,['-vn',_0xd331c5(0xcc),'1',_0xd331c5(0xbf),'48000','-c:a','libopus',_0xd331c5(0xc0),_0xd331c5(0xd0),'-vbr','on',_0xd331c5(0xce),'10','-f','opus'],_0x22bd51,'ogg');}function toAudio(_0x563069,_0x48e3e3){const _0x55c677=a0_0xe4ba;return ffmpeg(_0x563069,['-vn',_0x55c677(0xd8),_0x55c677(0xd9),_0x55c677(0xc0),'128k','-vbr','on','-compression_level','10'],_0x48e3e3,_0x55c677(0xbc));}function a0_0x474f(){const _0x1b1b21=['-c:v','-ar','-b:a','11057800PxnFFA','writeFile','ffmpeg','../tmp','ffmpeg\x20exited\x20with\x20code\x20','5qFZRbJ','mkdir','error','641442BlFpoJ','21030qZIqQU','-preset','-ac','mp4','-compression_level','4417119lafjJf','64k','-crf','-ab','119449NLGsBN','4beNHEY','unlink','44100','8zLGycU','-c:a','libopus','3623072NXwCsg','819560mqIDbz','opus','aac'];a0_0x474f=function(){return _0x1b1b21;};return a0_0x474f();}function a0_0xe4ba(_0x26b3a2,_0x14d96d){const _0x474f53=a0_0x474f();return a0_0xe4ba=function(_0xe4baf1,_0x1123f8){_0xe4baf1=_0xe4baf1-0xba;let _0x50e5e5=_0x474f53[_0xe4baf1];return _0x50e5e5;},a0_0xe4ba(_0x26b3a2,_0x14d96d);}function toVideo(_0x59b691,_0x141de2){const _0x35b097=a0_0xe4ba;return ffmpeg(_0x59b691,[_0x35b097(0xbe),'libx264',_0x35b097(0xd8),_0x35b097(0xbd),_0x35b097(0xd2),'128k',_0x35b097(0xbf),_0x35b097(0xd6),_0x35b097(0xd1),'32',_0x35b097(0xcb),'slow'],_0x141de2,_0x35b097(0xcd));}export{toAudio,toPTT,toVideo,ffmpeg};