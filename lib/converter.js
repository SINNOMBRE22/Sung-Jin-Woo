const a0_0x4ed0ab=a0_0x434b;(function(_0x385e6a,_0x566166){const _0x160599=a0_0x434b,_0x41c4b0=_0x385e6a();while(!![]){try{const _0x46e7ca=-parseInt(_0x160599(0xf0))/0x1*(parseInt(_0x160599(0x106))/0x2)+parseInt(_0x160599(0xee))/0x3*(parseInt(_0x160599(0x105))/0x4)+-parseInt(_0x160599(0x10c))/0x5+parseInt(_0x160599(0x100))/0x6*(-parseInt(_0x160599(0x10b))/0x7)+-parseInt(_0x160599(0xff))/0x8+parseInt(_0x160599(0x110))/0x9*(parseInt(_0x160599(0x10a))/0xa)+-parseInt(_0x160599(0xf6))/0xb*(-parseInt(_0x160599(0xf1))/0xc);if(_0x46e7ca===_0x566166)break;else _0x41c4b0['push'](_0x41c4b0['shift']());}catch(_0x41af3f){_0x41c4b0['push'](_0x41c4b0['shift']());}}}(a0_0x59be,0x4405a));import{promises}from'fs';function a0_0x434b(_0x641bdd,_0x278c3e){const _0x59be93=a0_0x59be();return a0_0x434b=function(_0x434b09,_0x4d4877){_0x434b09=_0x434b09-0xed;let _0x1e8319=_0x59be93[_0x434b09];return _0x1e8319;},a0_0x434b(_0x641bdd,_0x278c3e);}import{join,dirname}from'path';import{spawn}from'child_process';import{fileURLToPath}from'url';import a0_0x54b678 from'crypto';const __dirname=dirname(fileURLToPath(import.meta[a0_0x4ed0ab(0xf5)]));function ffmpeg(_0x34aaa4,_0x41f858=[],_0x314c26='',_0x4bc85c=''){return new Promise(async(_0x35ed8b,_0x37caff)=>{const _0x342850=a0_0x434b;try{const _0x1bfe92=join(__dirname,_0x342850(0x10d));await promises['mkdir'](_0x1bfe92,{'recursive':!![]});const _0x2e75c0=a0_0x54b678[_0x342850(0xfe)](),_0x1f6418=join(_0x1bfe92,_0x2e75c0+'.'+_0x314c26),_0xe1165=_0x1f6418+'.'+_0x4bc85c;await promises[_0x342850(0x104)](_0x1f6418,_0x34aaa4);const _0x9eec14=spawn(_0x342850(0xf2),['-y','-i',_0x1f6418,..._0x41f858,_0xe1165]);_0x9eec14['on']('error',_0x37caff),_0x9eec14['on']('close',async _0x2582bf=>{const _0x4f7644=_0x342850;try{await promises['unlink'](_0x1f6418);if(_0x2582bf!==0x0)return _0x37caff(new Error(_0x4f7644(0x10f)+_0x2582bf));_0x35ed8b({'data':await promises[_0x4f7644(0xed)](_0xe1165),'filename':_0xe1165,'delete'(){return promises['unlink'](_0xe1165);}});}catch(_0x241e51){_0x37caff(_0x241e51);}});}catch(_0x1c9038){_0x37caff(_0x1c9038);}});}function toPTT(_0xb283f3,_0x53135d){const _0x5dee88=a0_0x4ed0ab;return ffmpeg(_0xb283f3,[_0x5dee88(0xf8),_0x5dee88(0xfc),'1',_0x5dee88(0xfd),'48000','-c:a',_0x5dee88(0x10e),_0x5dee88(0x102),_0x5dee88(0x103),_0x5dee88(0x101),'on',_0x5dee88(0xf7),'10','-f',_0x5dee88(0xfb)],_0x53135d,_0x5dee88(0xef));}function a0_0x59be(){const _0x4caa05=['205104xCxwzM','200378sFMXSQ','aac','128k','libx264','20aQgTQl','2625THtgoc','87000fUhYuG','../tmp','libopus','ffmpeg\x20exited\x20with\x20code\x20','497160DVcicR','readFile','30acqVfK','ogg','1WUSeTV','8652eWVepw','ffmpeg','mp4','-crf','url','4917aMOUbf','-compression_level','-vn','-ab','-c:a','opus','-ac','-ar','randomUUID','3794560pymmay','1200csxSgN','-vbr','-b:a','64k','writeFile'];a0_0x59be=function(){return _0x4caa05;};return a0_0x59be();}function toAudio(_0x41ade0,_0x328448){const _0x2f678f=a0_0x4ed0ab;return ffmpeg(_0x41ade0,[_0x2f678f(0xf8),_0x2f678f(0xfa),_0x2f678f(0x10e),_0x2f678f(0x102),_0x2f678f(0x108),_0x2f678f(0x101),'on',_0x2f678f(0xf7),'10'],_0x328448,_0x2f678f(0xfb));}function toVideo(_0x10c8ab,_0x59fa36){const _0x1c4d18=a0_0x4ed0ab;return ffmpeg(_0x10c8ab,['-c:v',_0x1c4d18(0x109),_0x1c4d18(0xfa),_0x1c4d18(0x107),_0x1c4d18(0xf9),'128k',_0x1c4d18(0xfd),'44100',_0x1c4d18(0xf4),'32','-preset','slow'],_0x59fa36,_0x1c4d18(0xf3));}export{toAudio,toPTT,toVideo,ffmpeg};